{"version":3,"sources":["node_modules/browser-pack/_prelude.js","resources/ts/Filtered/Controller.ts","resources/ts/Filtered/Filter/DistanceFilter.ts","resources/ts/Filtered/Filter/Filter.ts","resources/ts/Filtered/Filter/NumberFilter.ts","resources/ts/Filtered/Filter/ValueFilter.ts","resources/ts/Filtered/Filtered.ts","resources/ts/Filtered/View/CalendarView.ts","resources/ts/Filtered/View/ListView.ts","resources/ts/Filtered/View/MapView.ts","resources/ts/Filtered/View/TableView.ts","resources/ts/Filtered/View/View.ts","resources/ts/Filtered/ViewSelector.ts","resources/ts/bootstrap.ts"],"names":[],"mappings":"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","file":"ext.srf.filtered.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/// <reference types=\"jquery\" />\n\nimport { Options, ResultData } from \"../types\";\ndeclare let srf: any;\n\nimport { View } from \"./View/View\";\nimport { Filter } from \"./Filter/Filter\";\n\nexport class Controller {\n\tprivate target: JQuery = undefined;\n\tprivate filterSpinner: JQuery = undefined;\n\n\tprivate views: { [key: string]: View } = {};\n\tprivate filters: { [key: string]: Filter } = {};\n\tprivate currentView: View = undefined;\n\tprivate data: ResultData;\n\tprivate printRequests: Options;\n\n\tpublic constructor( target: JQuery, data: ResultData, printRequests: Options ) {\n\t\tthis.target = target;\n\n\t\tif ( this.target !== undefined ) {\n\t\t\tthis.filterSpinner = this.target.find( 'div.filtered-filter-spinner' );\n\t\t}\n\n\t\tthis.data = data;\n\t\tthis.printRequests = printRequests;\n\n\t\tfor ( let rowId in this.data ) {\n\t\t\tif ( !this.data[ rowId ].hasOwnProperty( 'visible' ) ) {\n\t\t\t\tthis.data[ rowId ].visible = {};\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic getData(): any {\n\t\treturn this.data;\n\t}\n\n\tpublic getPrintRequests(): Options {\n\t\treturn this.printRequests;\n\t}\n\n\tpublic getPath() {\n\t\treturn srf.settings.get( 'srfgScriptPath' ) + '/formats/filtered/resources/';\n\t}\n\n\tpublic attachView( viewid: string, view: View ) {\n\n\t\tthis.views[ viewid ] = view;\n\n\t\tif ( this.currentView === undefined ) {\n\t\t\tthis.currentView = view;\n\t\t\tview.show();\n\t\t} else {\n\t\t\tview.hide();\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tpublic getView( viewId: string ): View {\n\t\treturn this.views[ viewId ];\n\t}\n\n\tpublic attachFilter( filter: Filter ): JQueryPromise< void > {\n\t\tlet filterId = filter.getId();\n\n\t\tthis.filters[ filterId ] = filter;\n\n\t\tfilter.init();\n\n\t\treturn this.onFilterUpdated( filterId );\n\t}\n\n\tpublic getFilter( filterId: string ): Filter {\n\t\treturn this.filters[ filterId ];\n\t}\n\n\tpublic show() {\n\t\tthis.initializeFilters();\n\t\tthis.target.children( '.filtered-spinner' ).remove();\n\t\tthis.target.children().show();\n\t\tthis.switchToView( this.currentView );\n\t}\n\n\tprivate switchToView( view: View ) {\n\n\t\tif ( this.currentView instanceof View ) {\n\t\t\tthis.currentView.hide();\n\t\t}\n\n\t\tthis.currentView = view;\n\n\t\tif ( this.currentView instanceof View ) {\n\t\t\tview.show();\n\t\t}\n\n\t}\n\n\tprivate initializeFilters() {\n\t\tlet toShow: string[] = [];\n\t\tlet toHide: string[] = [];\n\n\t\tfor ( let rowId in this.data ) {\n\t\t\tfor ( let filterId in this.filters ) {\n\t\t\t\tthis.data[ rowId ].visible[ filterId ] = this.filters[ filterId ].isDisabled() || this.filters[ filterId ].isVisible( rowId );\n\t\t\t}\n\t\t\tif ( this.isVisible( rowId ) ) {\n\t\t\t\ttoShow.push( rowId );\n\t\t\t} else {\n\t\t\t\ttoHide.push( rowId );\n\t\t\t}\n\t\t}\n\n\t\tthis.hideRows( toHide );\n\t\tthis.showRows( toShow );\n\t}\n\n\tpublic onViewSelected( viewID: string ) {\n\t\tthis.switchToView( this.views[ viewID ] );\n\t}\n\n\tpublic onFilterUpdated( filterId: string ): JQueryPromise< void > {\n\n\t\treturn this.showSpinner()\n\t\t.then(() => {\n\n\t\t\tlet toShow: string[] = [];\n\t\t\tlet toHide: string[] = [];\n\n\t\t\tlet disabled = this.filters[ filterId ].isDisabled();\n\n\t\t\tfor ( let rowId in this.data ) {\n\n\t\t\t\tlet newVisible: boolean = disabled || this.filters[ filterId ].isVisible( rowId );\n\n\t\t\t\tif ( this.data[ rowId ].visible[ filterId ] !== newVisible ) {\n\n\t\t\t\t\tthis.data[ rowId ].visible[ filterId ] = newVisible;\n\n\t\t\t\t\tif ( newVisible && this.isVisible( rowId ) ) {\n\t\t\t\t\t\ttoShow.push( rowId );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoHide.push( rowId );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.hideRows( toHide );\n\t\t\tthis.showRows( toShow );\n\t\t})\n\t\t.then( () => { this.hideSpinner() } );\n\t}\n\n\tpublic isVisible( rowId: any ) {\n\t\tfor ( let filterId in this.data[ rowId ].visible ) {\n\t\t\tif ( !this.data[ rowId ].visible[ filterId ] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate hideRows( rowIds: string[] ) {\n\t\tif ( rowIds.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\t\tfor ( let viewId in this.views ) {\n\t\t\tthis.views[ viewId ].hideRows( rowIds );\n\t\t}\n\t}\n\n\tprivate showRows( rowIds: string[] ) {\n\t\tif ( rowIds.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\t\tfor ( let viewId in this.views ) {\n\t\t\tthis.views[ viewId ].showRows( rowIds );\n\t\t}\n\t}\n\n\tprivate showSpinner(): JQueryPromise< void > {\n\t\treturn this.animateSpinner();\n\t}\n\n\tprivate hideSpinner(): JQueryPromise< void > {\n\t\treturn this.animateSpinner( false );\n\t}\n\n\tprivate animateSpinner( show: boolean = true ): JQueryPromise< void > {\n\n\t\tif ( this.filterSpinner === undefined ) {\n\t\t\treturn jQuery.when();\n\t\t}\n\n\t\tif ( show ) {\n\t\t\treturn this.filterSpinner.fadeIn( 200 ).promise();\n\t\t}\n\n\t\treturn this.filterSpinner.fadeOut( 200 ).promise();\n\t}\n\n}\n","import { Filter } from \"./Filter\";\n\ndeclare let mw: any;\n\nexport class DistanceFilter extends Filter {\n\n\tprivate static readonly earthRadius: { [key: string]: number } = {\n\t\tm: 6371008.8,\n\t\tkm: 6371.0088,\n\t\tmi: 3958.7613,\n\t\tnm: 3440.0695,\n\t\t: 63710088000000000\n\t};\n\n\tprivate earthRadiusValue: number = DistanceFilter.earthRadius.km;\n\tprivate filterValue: number = 0;\n\n\tpublic init() {\n\n\t\tlet values = this.controller.getData();\n\n\t\tlet origin = this.options[ 'origin' ];\n\n\t\tif ( !( origin !== undefined && origin.hasOwnProperty( 'lat' ) && origin.hasOwnProperty( 'lng' ) ) ) {\n\t\t\tthis.target.detach();\n\t\t\treturn;\n\t\t}\n\n\t\tlet unit = 'km';\n\n\t\tif ( this.options[ 'unit' ] && DistanceFilter.earthRadius[ this.options[ 'unit' ] ] ) {\n\t\t\tunit = this.options[ 'unit' ];\n\t\t}\n\n\t\tthis.earthRadiusValue = DistanceFilter.earthRadius[ unit ];\n\n\t\tlet maxValue: number = this.updateDistances( origin );\n\n\t\tlet precision = 10 ** ( Math.floor( Math.log( maxValue ) * Math.LOG10E ) - 1);\n\n\t\tif ( this.options[ 'max' ] !== undefined && this.options[ 'max' ] > maxValue ) {\n\t\t\tmaxValue = this.options[ 'max' ];\n\t\t} else {\n\t\t\tmaxValue = Math.ceil( maxValue / precision ) * precision;\n\t\t}\n\n\t\tthis.filterValue = this.options[ 'initial value' ] ? Math.min( this.options[ 'initial value' ], maxValue ) : maxValue;\n\n\t\t// build filter controls\n\t\tlet filtercontrols = this.buildEmptyControl();\n\n\t\tlet readout = $( '<div class=\"filtered-distance-readout\">' + this.filterValue + '</div>' );\n\n\t\tlet table = $( '<table class=\"filtered-distance-table\"><tbody><tr><td class=\"filtered-distance-min-cell\">0</td>' +\n\t\t\t'<td class=\"filtered-distance-slider-cell\"><div class=\"filtered-distance-slider\"></div></td>' +\n\t\t\t'<td class=\"filtered-distance-max-cell\">' + maxValue + '</td></tr>' +\n\t\t\t'<tr><td colspan=3 class=\"filtered-distance-unit-cell\">' + unit + '</td></tr></tbody></table>' );\n\n\t\tfiltercontrols.append( table );\n\n\t\tlet that = this;\n\t\tmw.loader.using( 'jquery.ui.slider' ).then( function () {\n\n\t\t\ttable.find( '.filtered-distance-slider' )\n\t\t\t.slider( {\n\t\t\t\tanimate: true,\n\t\t\t\tmax: maxValue,\n\t\t\t\tvalue: that.filterValue,\n\t\t\t\tstep: precision / 100\n\t\t\t} )\n\t\t\t.on( 'slidechange', undefined, { 'filter': that }, function ( eventObject: JQueryEventObject, ui: any ) {\n\t\t\t\teventObject.data.ui = ui;\n\t\t\t\teventObject.data.filter.onFilterUpdated( eventObject );\n\t\t\t} )\n\t\t\t.on( 'slide', undefined, { 'filter': that }, function ( eventObject: JQueryEventObject, ui: any ) {\n\t\t\t\treadout.text( ui.value );\n\t\t\t} )\n\t\t\t.find( '.ui-slider-handle' )\n\t\t\t.append( readout );\n\n\t\t} );\n\n\t\treturn this;\n\t}\n\n\tprivate updateDistances( origin: L.LatLngLiteral ): number {\n\n\t\tlet values = this.controller.getData();\n\t\tlet max = 1;\n\n\t\tlet prId = this.printrequestId;\n\n\t\tfor ( let rowId in values ) {\n\n\t\t\tif ( values[ rowId ].data.hasOwnProperty( this.filterId ) ) {\n\t\t\t\tlet distances: number[] = values[ rowId ].data[ this.filterId ].positions.map( ( pos: L.LatLngLiteral ) => this.distance( origin, pos ) );\n\t\t\t\tlet dist = Math.min( ...distances );\n\n\t\t\t\tvalues[ rowId ].data[ this.filterId ].distance = dist;\n\t\t\t\tmax = Math.max( max, dist );\n\t\t\t} else {\n\t\t\t\tvalues[ rowId ].data[ this.filterId ].distance = Infinity;\n\t\t\t}\n\t\t}\n\n\t\treturn max;\n\t}\n\n\tpublic onFilterUpdated( eventObject: JQueryEventObject ) {\n\t\tthis.filterValue = eventObject.data.ui.value;\n\t\tthis.controller.onFilterUpdated( this.getId() );\n\t}\n\n\tprivate distance( a: L.LatLngLiteral, b: L.LatLngLiteral ) {\n\n\t\tconst DEG2RAD = Math.PI / 180.0;\n\n\t\tfunction squared( x: number ) {\n\t\t\treturn x * x\n\t\t}\n\n\t\tlet f =\n\t\t\tsquared( Math.sin( ( b.lat - a.lat ) * DEG2RAD / 2.0 ) ) +\n\t\t\tMath.cos( a.lat * DEG2RAD ) * Math.cos( b.lat * DEG2RAD ) *\n\t\t\tsquared( Math.sin( ( b.lng - a.lng ) * DEG2RAD / 2.0 ) );\n\n\t\treturn this.earthRadiusValue * 2 * Math.atan2( Math.sqrt( f ), Math.sqrt( 1 - f ) );\n\t}\n\n\tpublic isVisible( rowId: string ): boolean {\n\n\t\tlet rowdata = this.controller.getData()[ rowId ].data;\n\n\t\tif ( rowdata.hasOwnProperty( this.filterId ) ) {\n\t\t\treturn rowdata[ this.filterId ].distance <= this.filterValue;\n\t\t}\n\n\t\treturn super.isVisible( rowId );\n\n\t}\n\n}\n","import { Options } from \"../../types\";\nimport { Controller } from \"../Controller\";\n\nexport abstract class Filter{\n\n\tprivate outerTarget: JQuery = undefined;\n\tprotected target: JQuery = undefined;\n\tprotected filterId: string;\n\tprotected printrequestId: string;\n\tprotected controller: Controller;\n\tprotected options: Options = undefined;\n\tprotected disabled: boolean = false;\n\tprotected collapsed: boolean = false;\n\n\tpublic constructor( filterId: string, target: JQuery, printrequestId: string, controller: Controller, options?: Options ) {\n\t\tthis.target = target;\n\t\tthis.outerTarget = target;\n\t\tthis.filterId = filterId;\n\t\tthis.printrequestId = printrequestId;\n\t\tthis.controller = controller;\n\t\tthis.options = options || {};\n\t}\n\n\tpublic init() {};\n\n\tpublic isDisabled() : boolean {\n\t\treturn this.disabled;\n\t}\n\n\tpublic disable() {\n\t\tthis.disabled = true;\n\n\t\tthis.outerTarget\n\t\t.removeClass( 'enabled' )\n\t\t.addClass( 'disabled' );\n\n\t\tthis.collapse();\n\n\t\tthis.target.promise().then( () =>\tthis.controller.onFilterUpdated( this.filterId ) );\n\t}\n\n\tpublic enable() {\n\t\tthis.disabled = false;\n\n\t\tthis.outerTarget\n\t\t.removeClass( 'disabled' )\n\t\t.addClass( 'enabled' );\n\n\t\tif ( ! this.collapsed ) {\n\t\t\tthis.uncollapse();\n\t\t}\n\n\t\tthis.target.promise().then( () =>\tthis.controller.onFilterUpdated( this.filterId ) );\n\t}\n\n\tprivate collapse( duration : number = 400 ) {\n\n\t\tif ( ! this.collapsed ) {\n\n\t\t\tthis.outerTarget.promise()\n\t\t\t.then( () => {\n\n\t\t\t\tthis.target.slideUp( duration );\n\n\t\t\t\tthis.outerTarget.animate( {\n\t\t\t\t\t'padding-top': 0,\n\t\t\t\t\t'padding-bottom': 0,\n\t\t\t\t\t'margin-bottom': '2em'\n\t\t\t\t}, duration );\n\t\t\t} );\n\t\t}\n\t}\n\n\tprivate uncollapse() {\n\t\tthis.outerTarget.promise()\n\t\t.then( () => {\n\t\t\tthis.target.slideDown();\n\n\t\t\tlet style = this.outerTarget.attr( 'style' );\n\t\t\tthis.outerTarget.removeAttr( 'style' );\n\t\t\tlet uncollapsedCss = this.outerTarget.css( [ 'padding-top', 'padding-bottom', 'margin-bottom' ] );\n\t\t\tthis.outerTarget.attr( 'style', style );\n\n\t\t\tthis.outerTarget.animate( uncollapsedCss );\n\t\t} );\n\t}\n\n\tpublic isVisible( rowId: string ): boolean {\n\t\treturn this.options.hasOwnProperty( 'show if undefined' ) && this.options[ 'show if undefined' ] === true;\n\t}\n\n\tpublic getId() {\n\t\treturn this.filterId;\n\t}\n\n\tprotected buildEmptyControl() {\n\n\t\tthis.target = $( '<div class=\"filtered-filter-container\">' );\n\n\t\tthis.outerTarget\n\t\t.append( this.target )\n\t\t.addClass( 'enabled' );\n\n\t\tthis.addOnOffSwitch();\n\t\tthis.addLabel();\n\t\tthis.addControlForCollapsing();\n\n\t\treturn this.target;\n\t}\n\n\tprivate addLabel() {\n\t\t// insert the label of the printout this filter filters on\n\t\tthis.target.before( `<div class=\"filtered-filter-label\">${this.options[ 'label' ]}</div>` );\n\t}\n\n\tprotected addOnOffSwitch() {\n\n\t\tif ( this.options.hasOwnProperty( 'switches' ) ) {\n\n\t\t\tlet switches = this.options[ 'switches' ];\n\n\t\t\tif ( switches.length > 0 && $.inArray( 'on off', switches ) >= 0 ) {\n\n\t\t\t\tlet onOffControl = $( `<div class=\"filtered-filter-onoff on\"></div>` );\n\n\t\t\t\tthis.target.before( onOffControl );\n\n\t\t\t\tonOffControl.click( () => {\n\n\t\t\t\t\tif ( this.outerTarget.hasClass('enabled' ) ) {\n\t\t\t\t\t\tthis.disable();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.enable();\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected addControlForCollapsing() {\n\t\tlet collapsible = this.options.hasOwnProperty( 'collapsible' ) ? this.options[ 'collapsible' ] : undefined;\n\t\tif ( collapsible === 'collapsed' || collapsible === 'uncollapsed' ) {\n\n\t\t\tlet collapseControl = $( '<span class=\"filtered-filter-collapse\">' );\n\n\t\t\tthis.target.before( collapseControl );\n\n\t\t\tcollapseControl.click( () => {\n\t\t\t\tif ( collapseControl.hasClass( 'collapsed' ) ) {\n\t\t\t\t\tthis.uncollapse();\n\t\t\t\t\tthis.collapsed = false;\n\n\t\t\t\t\tcollapseControl\n\t\t\t\t\t.removeClass( 'collapsed' )\n\t\t\t\t\t.addClass( 'uncollapsed' );\n\t\t\t\t} else {\n\t\t\t\t\tthis.collapse();\n\t\t\t\t\tthis.collapsed = true;\n\n\t\t\t\t\tcollapseControl\n\t\t\t\t\t.removeClass( 'uncollapsed' )\n\t\t\t\t\t.addClass( 'collapsed' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( collapsible === 'collapsed' ) {\n\n\t\t\t\tthis.collapse( 0 );\n\t\t\t\tthis.collapsed = true;\n\t\t\t\tcollapseControl.addClass('collapsed');\n\n\t\t\t} else {\n\t\t\t\tcollapseControl.addClass('uncollapsed');\n\t\t\t}\n\t\t}\n\t}\n\n}","///<reference path=\"../../../../node_modules/@types/ion.rangeslider/index.d.ts\"/>\nimport { Filter } from \"./Filter\";\nimport { Options } from \"../../types\";\n\ndeclare let mw: any;\n\nexport class NumberFilter extends Filter {\n\n\tprivate MODE_RANGE = 0;\n\tprivate MODE_MIN = 1;\n\tprivate MODE_MAX = 2;\n\tprivate MODE_SELECT = 3;\n\n\tprivate filterValueUpper: number = 0;\n\tprivate filterValueLower: number = 0;\n\tprivate mode = this.MODE_RANGE;\n\n\tpublic init() {\n\n\t\tlet values: number[] = this.getValues();\n\n\t\tlet { minValue, maxValue, precision } = this.getRangeParameters( values );\n\n\t\tlet sliderOptions: IonRangeSliderOptions = {\n\t\t\tprettify_enabled: false,\n\t\t\tforce_edges: true,\n\t\t\tgrid: true\n\t\t};\n\n\t\tif ( this.options.hasOwnProperty( 'values' ) ) {\n\t\t\tsliderOptions = this.adjustSliderOptionsFromValues( sliderOptions, values );\n\n\t\t} else {\n\t\t\tsliderOptions = this.adjustSliderOptionsFromRangeParameters( sliderOptions, minValue, maxValue, precision );\n\t\t}\n\n\t\tswitch( this.options[ 'sliders' ] ) {\n\n\t\t\tcase \"min\":\n\n\t\t\t\tthis.mode = this.MODE_MIN;\n\t\t\t\tsliderOptions.type = 'single';\n\t\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\n\t\t\t\tthis.mode = this.MODE_MAX;\n\t\t\t\tsliderOptions.from = sliderOptions.to;\n\t\t\t\tsliderOptions.type = 'single';\n\t\t\t\tbreak;\n\n\t\t\tcase \"select\":\n\n\t\t\t\tthis.mode = this.MODE_SELECT;\n\t\t\t\tmaxValue = minValue;\n\t\t\t\tsliderOptions.type = 'single';\n\t\t\t\tbreak;\n\n\t\t\tdefault: // == case \"range\"\n\n\t\t\t\tthis.mode = this.MODE_RANGE;\n\t\t\t\tsliderOptions.type = 'double';\n\t\t}\n\n\t\tthis.buildFilterControls( sliderOptions );\n\n\t\tthis.filterValueLower = minValue;\n\t\tthis.filterValueUpper = maxValue;\n\n\t\treturn this;\n\t}\n\n\tprivate adjustSliderOptionsFromRangeParameters( sliderOptions: IonRangeSliderOptions, minValue: number, maxValue: number, precision: number ) {\n\n\t\tsliderOptions.min = minValue;\n\t\tsliderOptions.max = maxValue;\n\t\tsliderOptions.step = this.getStep( precision );\n\t\tsliderOptions.grid_num = Math.min( 4, Math.round( ( maxValue - minValue ) / sliderOptions.step ) );\n\n\t\tsliderOptions.from = minValue;\n\t\tsliderOptions.to = maxValue;\n\n\t\tsliderOptions.onFinish = ( data: IonRangeSliderEvent ) => this.onFilterUpdated( data.from, data.to );\n\n\t\treturn sliderOptions;\n\t}\n\n\tprivate adjustSliderOptionsFromValues( sliderOptions: IonRangeSliderOptions, values: number[] ) {\n\n\t\tsliderOptions.values = values;\n\n\t\tsliderOptions.from = 0;\n\t\tsliderOptions.to = values.length - 1;\n\n\t\tsliderOptions.onFinish = ( data: IonRangeSliderEvent ) => this.onFilterUpdated( data.from_value, data.to_value );\n\n\t\treturn sliderOptions;\n\t}\n\n\tprivate getRangeParameters( values: number[] ) {\n\n\t\tlet minValue = values[ 0 ];\n\t\tlet maxValue = values[ values.length - 1 ];\n\t\tlet precision: number = this.getPrecision( minValue, maxValue );\n\n\t\tif ( !this.options.hasOwnProperty( 'values' ) ) {\n\t\t\tminValue = this.getMinSliderValue( minValue, precision );\n\t\t\tmaxValue = this.getMaxSliderValue( maxValue, precision );\n\t\t}\n\n\t\treturn { minValue, maxValue, precision };\n\t}\n\n\tprivate getValues(): number[] {\n\t\tlet values: number[];\n\t\tif ( this.options.hasOwnProperty( 'values' ) && this.options[ 'values' ][0] !== 'auto' ) {\n\t\t\tvalues =  this.options[ 'values' ]\n\t\t} else {\n\t\t\tvalues =  this.getSortedValues();\n\t\t}\n\n\t\tif ( values.length === 0 ) {\n\t\t\tvalues = [ 0, 0 ];\n\t\t} else if ( values.length === 1 ) {\n\t\t\tvalues.push( values[ 0 ] );\n\t\t}\n\n\t\treturn values;\n\t}\n\n\tprivate buildFilterControls( sliderOptions: IonRangeSliderOptions ) {\n\n\t\tlet filterClassNames: any = {};\n\t\tfilterClassNames[ this.MODE_MIN.toString() ] = \"mode-min\";\n\t\tfilterClassNames[ this.MODE_MAX ] = \"mode-max\";\n\t\tfilterClassNames[ this.MODE_RANGE ] = \"mode-range\";\n\t\tfilterClassNames[ this.MODE_SELECT ] = \"mode-select\";\n\n\t\tlet filtercontrols = this.buildEmptyControl();\n\n\t\tlet slider = $( '<input type=\"text\" value=\"\" />' );\n\t\tlet sliderContainer = $( `<div class=\"filtered-number-slider ${filterClassNames[ this.mode ]}\" />` ).append( slider );\n\t\tfiltercontrols.append( sliderContainer );\n\n\t\tif ( this.options.hasOwnProperty( 'caption' ) ) {\n\t\t\tlet caption = `<div class=\"filtered-number-caption\">${this.options[ 'caption' ]}</div>`;\n\t\t\tfiltercontrols.append( caption );\n\t\t}\n\n\t\tmw.loader.using( 'ext.srf.filtered.slider' ).then( () => slider.ionRangeSlider( sliderOptions ) );\n\t}\n\n\tprivate getMinSliderValue( minValue: number, precision: number ) {\n\t\tlet requestedMin = this.options[ 'min' ];\n\n\t\tif ( requestedMin === undefined || isNaN( Number( requestedMin ) ) ) {\n\t\t\treturn Math.floor( minValue / precision ) * precision;\n\t\t}\n\n\t\treturn Math.min( requestedMin, minValue );\n\t}\n\n\tprivate getMaxSliderValue( maxValue: number, precision: number ) {\n\t\tlet requestedMax = this.options[ 'max' ];\n\n\t\tif ( requestedMax === undefined || isNaN( Number( requestedMax ) ) ) {\n\t\t\treturn Math.ceil( maxValue / precision ) * precision;\n\t\t}\n\n\t\treturn Math.max( requestedMax, maxValue );\n\t}\n\n\tprivate getPrecision( minValue: number, maxValue: number ): number {\n\t\tif ( maxValue - minValue > 0 ) {\n\t\t\treturn 10 ** ( Math.floor( Math.log( maxValue - minValue ) * Math.LOG10E ) - 1 );\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\tprivate getStep( precision: number ): number {\n\n\t\tlet step = this.options[ 'step' ];\n\n\t\tif ( step !== undefined ) {\n\n\t\t\tstep = Number( step );\n\n\t\t\tif ( !isNaN( step ) ) {\n\t\t\t\treturn step;\n\t\t\t}\n\t\t}\n\n\t\treturn precision / 10;\n\t}\n\n\tprivate getRangeFromValues(): [ number, number ] {\n\n\t\tlet rows = this.controller.getData();\n\t\tlet min = Infinity;\n\t\tlet max = -Infinity;\n\n\t\tfor ( let rowId in rows ) {\n\n\t\t\tif ( rows[ rowId ].data.hasOwnProperty( this.filterId ) ) {\n\t\t\t\tlet values: number[] = rows[ rowId ].data[ this.filterId ].values;\n\t\t\t\tmin = Math.min( min, ...values );\n\t\t\t\tmax = Math.max( max, ...values );\n\t\t\t}\n\t\t}\n\n\t\treturn [ min, max ];\n\t}\n\n\tprivate getSortedValues(): number[] {\n\n\t\tlet valueArray: number[] = [];\n\t\tlet rows = this.controller.getData();\n\n\t\tfor ( let rowId in rows ) {\n\n\t\t\tlet cells = rows[ rowId ].data;\n\n\t\t\tif ( cells.hasOwnProperty( this.filterId ) ) {\n\n\t\t\t\tlet values = cells[ this.filterId ].values;\n\n\t\t\t\tfor ( let valueId in values ) {\n\n\t\t\t\t\tlet value = Number( values[ valueId ] );\n\n\t\t\t\t\tif ( valueArray.indexOf( value ) === -1 ) {\n\t\t\t\t\t\tvalueArray.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn valueArray.sort( ( a: any, b: any ) => a - b );\n\t}\n\n\tpublic onFilterUpdated( from: number, to: number ) {\n\n\t\tswitch ( this.mode ) {\n\n\t\t\tcase this.MODE_MIN:\n\n\t\t\t\tthis.filterValueLower = from;\n\t\t\t\tbreak;\n\n\t\t\tcase this.MODE_MAX:\n\n\t\t\t\tthis.filterValueUpper = from;\n\t\t\t\tbreak;\n\n\t\t\tcase this.MODE_SELECT:\n\n\t\t\t\tthis.filterValueLower = from;\n\t\t\t\tthis.filterValueUpper = from;\n\t\t\t\tbreak;\n\n\t\t\tdefault: // case this.MODE_RANGE:\n\n\t\t\t\tthis.filterValueLower = from;\n\t\t\t\tthis.filterValueUpper = to;\n\t\t}\n\n\t\tthis.controller.onFilterUpdated( this.getId() );\n\t}\n\n\tpublic isVisible( rowId: string ): boolean {\n\t\tlet rowdata = this.controller.getData()[ rowId ].data;\n\n\t\tif ( rowdata.hasOwnProperty( this.filterId ) && rowdata[ this.filterId ].values.length > 0 ) {\n\n\t\t\tfor ( let value of rowdata[ this.filterId ].values ) {\n\t\t\t\tif ( value >= this.filterValueLower && value <= this.filterValueUpper ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn super.isVisible( rowId );\n\t}\n\n}\n","import { Filter } from \"./Filter\";\nimport { IdTextPair } from \"select2\";\n\ndeclare let mw: any;\n\nexport class ValueFilter extends Filter {\n\n\tprivate values: any = {};\n\tprivate visibleValues: string[] = [];\n\n\tprivate _useOr = true;\n\n\tpublic init() {\n\t\tthis.values = this.getSortedValues();\n\t\tthis.buildControl();\n\t}\n\n\tpublic useOr( useOr: boolean ) {\n\t\tthis._useOr = useOr;\n\t\tthis.controller.onFilterUpdated( this.getId() );\n\t}\n\n\tprivate getSortedValues(): any {\n\n\t\t/** Map of value => label distinct values */\n\t\tlet distinctValues: any = {};\n\t\t/** Map of value => sort value distinct values */\n\t\tlet distinctSortValues: any = {};\n\n\t\tif ( this.options.hasOwnProperty( 'values' ) ) {\n\n\t\t\treturn this.options[ 'values' ].map(\n\t\t\t\t( item: string ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprintoutValue: item,\n\t\t\t\t\t\tformattedValue: item\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\n\t\t} else {\n\t\t\t// build filter values from available values in result set\n\t\t\tlet data = this.controller.getData();\n\t\t\tlet sortedEntries: any[] = [];\n\t\t\tfor ( let id in data ) {\n\n\t\t\t\tlet printoutValues: any = data[ id ][ 'printouts' ][ this.printrequestId ][ 'values' ];\n\t\t\t\tlet printoutFormattedValues = data[ id ][ 'printouts' ][ this.printrequestId ][ 'formatted values' ];\n\t\t\t\tlet printoutSortValues: any = data[ id ][ 'printouts' ][ this.printrequestId ][ 'sort values' ];\n\n\t\t\t\tfor ( let i in printoutValues ) {\n\t\t\t\t\tlet printoutFormattedValue = printoutFormattedValues[ i ];\n\n\t\t\t\t\tif ( printoutFormattedValue.indexOf( '<a' ) > -1 ) {\n\t\t\t\t\t\tprintoutFormattedValue = /<a.*>(.*?)<\\/a>/.exec( printoutFormattedValue )[ 1 ];\n\t\t\t\t\t}\n\n\t\t\t\t\tdistinctValues[ printoutValues[ i ] ] = printoutFormattedValue;\n\t\t\t\t\tdistinctSortValues[ printoutValues[ i ] ] = printoutSortValues[ i ];\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( let printoutValue in distinctSortValues ) {\n\t\t\t\tsortedEntries.push( {\n\t\t\t\t\tprintoutValue: printoutValue,\n\t\t\t\t\tsortValue: distinctSortValues[ printoutValue ],\n\t\t\t\t\tformattedValue: distinctValues[ printoutValue ]\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tsortedEntries.sort(\n\t\t\t\t( a: any, b: any ) => {\n\t\t\t\t\treturn a.sortValue.localeCompare( b.sortValue );\n\t\t\t\t} );\n\t\t\treturn sortedEntries;\n\n\t\t}\n\n\t}\n\n\tprivate buildControl() {\n\n\t\tlet filtercontrols = this.buildEmptyControl();\n\n\t\tfiltercontrols = this.addControlForSwitches( filtercontrols );\n\n\t\tlet maxCheckboxes = this.options.hasOwnProperty( 'max checkboxes' ) ? this.options[ 'max checkboxes' ] : 5;\n\n\t\tif ( this.values.length > maxCheckboxes ) {\n\t\t\tfiltercontrols.append( this.getSelected2Control() );\n\t\t} else {\n\t\t\tfiltercontrols.append( this.getCheckboxesControl() );\n\t\t}\n\n\t}\n\n\tprivate getCheckboxesControl() {\n\n\t\tlet checkboxes = $( '<div class=\"filtered-value-checkboxes\" style=\"width: 100%;\">' );\n\n\t\t// insert options (checkboxes and labels)\n\t\tfor ( let value of this.values ) {\n\t\t\tcheckboxes.append( `<div class=\"filtered-value-option\"><label><input type=\"checkbox\" value=\"${value.printoutValue}\" ><div class=\"filtered-value-option-label\">${value.formattedValue || value.printoutValue}</div></label></div>` );\n\t\t}\n\n\t\t// attach event handler\n\t\tcheckboxes\n\t\t.on( 'change', ':checkbox', ( eventObject: JQueryEventObject ) => {\n\t\t\tlet checkboxElement = <HTMLInputElement> eventObject.currentTarget;\n\t\t\tthis.onFilterUpdated( checkboxElement.value, checkboxElement.checked );\n\t\t} );\n\n\t\treturn checkboxes;\n\t}\n\n\tprivate getSelected2Control() {\n\n\t\tlet select = $( '<select class=\"filtered-value-select\" style=\"width: 100%;\">' );\n\n\t\tlet data: IdTextPair[] = [];\n\n\t\t// insert options (checkboxes and labels) and attach event handlers\n\t\tfor ( let value of this.values ) {\n\t\t\t// Try to get label, if not fall back to value id\n\t\t\tlet label = value.formattedValue || value.printoutValue;\n\t\t\tdata.push( { id: value.printoutValue, text: label } );\n\n\t\t}\n\n\t\tmw.loader.using( 'ext.srf.filtered.value-filter.select' ).then( () => {\n\n\t\t\tselect.select2( {\n\t\t\t\tmultiple: true,\n\t\t\t\tplaceholder: mw.message( 'srf-filtered-value-filter-placeholder' ).text(),\n\t\t\t\tdata: data\n\t\t\t} );\n\n\t\t\tselect.on( \"select2:select\", ( e: any ) => {\n\t\t\t\tthis.onFilterUpdated( e.params.data.id, true );\n\t\t\t} );\n\n\t\t\tselect.on( \"select2:unselect\", ( e: any ) => {\n\t\t\t\tthis.onFilterUpdated( e.params.data.id, false );\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn select;\n\t}\n\n\tprivate addControlForSwitches( filtercontrols: JQuery ): JQuery {\n\t\t// insert switches\n\t\tlet switches = this.options.hasOwnProperty( 'switches' ) ? this.options[ 'switches' ] : undefined;\n\n\t\tif ( switches !== undefined && $.inArray( 'and or', switches ) >= 0 ) {\n\n\t\t\tlet switchControls = $( '<div class=\"filtered-value-switches\">' );\n\n\t\t\tlet andorControl = $( '<div class=\"filtered-value-andor\">' );\n\n\t\t\tlet orControl = this.getRadioControl( 'or', true );\n\t\t\tlet andControl = this.getRadioControl( 'and' );\n\n\t\t\tandorControl\n\t\t\t.append( orControl )\n\t\t\t.append( andControl )\n\t\t\t.appendTo( switchControls );\n\n\t\t\tandorControl\n\t\t\t.find( 'input' )\n\t\t\t.on( 'change', undefined, { 'filter': this }, ( eventObject: JQueryEventObject ) =>\n\t\t\t\teventObject.data.filter.useOr( eventObject.target.getAttribute( 'value' ) === 'or' )\n\t\t\t);\n\n\n\t\t\tfiltercontrols.append( switchControls );\n\t\t}\n\n\t\treturn filtercontrols;\n\t}\n\n\tprivate getRadioControl( type: string, isChecked: boolean = false ) {\n\n\t\tlet checkedAttr = isChecked?'checked':'';\n\t\tlet labelText = mw.message( 'srf-filtered-value-filter-' + type ).text();\n\n\t\tlet controlText =\n\t\t\t`<label for=\"filtered-value-${type}-${this.printrequestId}\">` +\n\t\t\t`<input type=\"radio\" name=\"filtered-value-${this.printrequestId}\"  class=\"filtered-value-${type}\" id=\"filtered-value-${type}-${this.printrequestId}\" value=\"${type}\" ${checkedAttr}>` +\n\t\t\t`${labelText}</label>`;\n\n\t\treturn $( controlText );\n\t}\n\n\tpublic isVisible( rowId: string ): boolean {\n\n\t\tif ( this.visibleValues.length === 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet values: string[] = this.controller.getData()[ rowId ].printouts[ this.printrequestId ].values;\n\n\t\tif ( values.length === 0 ) {\n\t\t\treturn super.isVisible( rowId );\n\t\t}\n\n\n\t\tif ( this._useOr ) {\n\t\t\tfor ( let expectedValue of this.visibleValues ) {\n\t\t\t\tif ( values.indexOf( expectedValue ) >= 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} else {\n\t\t\tfor ( let expectedValue of this.visibleValues ) {\n\t\t\t\tif ( values.indexOf( expectedValue ) < 0 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic onFilterUpdated( value: string, isChecked: boolean ) {\n\t\tlet index = this.visibleValues.indexOf( value );\n\n\t\tif ( isChecked && index === -1 ) {\n\t\t\tthis.visibleValues.push( value );\n\t\t} else if ( !isChecked && index >= 0 ) {\n\t\t\tthis.visibleValues.splice( index, 1 );\n\t\t}\n\n\t\tthis.controller.onFilterUpdated( this.getId() );\n\t}\n}\n","import { Options } from \"../types\";\nimport { Controller } from \"./Controller\";\nimport { ViewSelector } from \"./ViewSelector\";\nimport { View } from \"./View/View\";\nimport { ListView } from \"./View/ListView\";\nimport { TableView } from \"./View/TableView\";\nimport { MapView } from \"./View/MapView\";\nimport { CalendarView } from \"./View/CalendarView\";\nimport { Filter } from \"./Filter/Filter\";\nimport { ValueFilter } from \"./Filter/ValueFilter\";\nimport { DistanceFilter } from \"./Filter/DistanceFilter\";\nimport { NumberFilter } from \"./Filter/NumberFilter\";\n\n/**\n * Central Filtered class\n *\n * Factory to setup everyhting else\n */\nexport class Filtered {\n\n\tprivate config: any;\n\tprivate target: JQuery;\n\n\tprivate viewTypes: { [key: string]: new( id: string, target: JQuery, controller: Controller, options?: any ) => View } = {\n\t\ttable: TableView,\n\t\tlist: ListView,\n\t\tmap: MapView,\n\t\tcalendar: CalendarView\n\t};\n\n\tprivate filterTypes: { [key: string]: new( id: string, target: JQuery, printrequestId: string, controller: Controller, options?: Options ) => Filter } = {\n\t\tvalue: ValueFilter,\n\t\tdistance: DistanceFilter,\n\t\tnumber: NumberFilter\n\t};\n\n\t/**\n\t *\n\t * @param target\n\t * @param config\n\t */\n\tpublic constructor( target: JQuery, config: any ) {\n\t\tthis.config = config;\n\t\tthis.target = target;\n\t}\n\n\tpublic run() {\n\n\t\tlet controller = new Controller( this.target, this.config.data, this.config.printrequests );\n\n\t\tthis.attachFilters( controller, this.target.children( 'div.filtered-filters' ) );\n\t\tthis.attachViewSelector( controller, this.target.find( 'div.filtered-views-selectors-container' ) );\n\t\tthis.attachViews( controller, this.target.find( 'div.filtered-views-container' ) );\n\n\t\t// lift-off\n\t\tcontroller.show();\n\n\t}\n\n\tprivate attachFilters( controller: Controller, filtersContainer: JQuery ) {\n\n\t\tfor ( let prId in this.config.printrequests ) {\n\n\t\t\tlet pr = this.config.printrequests[ prId ];\n\n\t\t\tif ( pr.hasOwnProperty( 'filters' ) ) {\n\n\t\t\t\tfor ( let filterid in pr.filters ) {\n\n\t\t\t\t\tif ( pr.filters.hasOwnProperty( filterid ) &&\n\t\t\t\t\t\tpr.filters[ filterid ].hasOwnProperty( 'type' ) &&\n\t\t\t\t\t\tthis.filterTypes.hasOwnProperty( pr.filters[ filterid ].type ) ) {\n\n\t\t\t\t\t\t//  target: JQuery, printrequest: string,\n\t\t\t\t\t\t// controller: Controller, options?: Options\n\t\t\t\t\t\tlet filter: Filter = new this.filterTypes[ pr.filters[ filterid ].type ]( filterid, filtersContainer.children( '#' + filterid ), prId, controller, pr.filters[ filterid ] );\n\n\t\t\t\t\t\tcontroller.attachFilter( filter );\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n\n\tprivate attachViewSelector( controller: Controller, viewSelectorContainer: JQuery ) {\n\t\tlet viewSelector = new ViewSelector( viewSelectorContainer, Object.keys( this.config.views ), controller );\n\t\tviewSelector.init();\n\t}\n\n\tprivate attachViews( controller: Controller, viewsContainer: JQuery ) {\n\n\t\t// attach views\n\t\tfor ( let viewid in this.config.views ) {\n\n\t\t\tlet viewtype = this.config.views[ viewid ][ 'type' ];\n\t\t\tlet viewHandlerClass = this.viewTypes.hasOwnProperty( viewtype ) ? this.viewTypes[ viewtype ] : View;\n\n\t\t\tlet view: View = new viewHandlerClass( viewid, viewsContainer.children( '#' + viewid ), controller, this.config.views[ viewid ] );\n\n\t\t\tview.init();\n\n\t\t\tcontroller.attachView( viewid, view );\n\n\t\t}\n\t}\n}\n","import { View } from \"./View\";\ndeclare let mw: any;\n\nexport class CalendarView extends View {\n\n\tprivate getI18N() {\n\t\treturn {\n\t\t\tmonthNames: [ mw.msg( 'january' ), mw.msg( 'february' ), mw.msg( 'march' ),\n\t\t\t\tmw.msg( 'april' ), mw.msg( 'may_long' ), mw.msg( 'june' ),\n\t\t\t\tmw.msg( 'july' ), mw.msg( 'august' ), mw.msg( 'september' ),\n\t\t\t\tmw.msg( 'october' ), mw.msg( 'november' ), mw.msg( 'december' )\n\t\t\t],\n\t\t\tmonthNamesShort: [ mw.msg( 'jan' ), mw.msg( 'feb' ), mw.msg( 'mar' ),\n\t\t\t\tmw.msg( 'apr' ), mw.msg( 'may' ), mw.msg( 'jun' ),\n\t\t\t\tmw.msg( 'jul' ), mw.msg( 'aug' ), mw.msg( 'sep' ),\n\t\t\t\tmw.msg( 'oct' ), mw.msg( 'nov' ), mw.msg( 'dec' )\n\t\t\t],\n\t\t\tdayNames: [ mw.msg( 'sunday' ), mw.msg( 'monday' ), mw.msg( 'tuesday' ),\n\t\t\t\tmw.msg( 'wednesday' ), mw.msg( 'thursday' ), mw.msg( 'friday' ), mw.msg( 'saturday' )\n\t\t\t],\n\t\t\tdayNamesShort: [ mw.msg( 'sun' ), mw.msg( 'mon' ), mw.msg( 'tue' ),\n\t\t\t\tmw.msg( 'wed' ), mw.msg( 'thu' ), mw.msg( 'fri' ), mw.msg( 'sat' )\n\t\t\t],\n\t\t\tbuttonText: {\n\t\t\t\ttoday: mw.msg( 'srf-ui-eventcalendar-label-today' ),\n\t\t\t\tmonth: mw.msg( 'srf-ui-eventcalendar-label-month' ),\n\t\t\t\tweek: mw.msg( 'srf-ui-eventcalendar-label-week' ),\n\t\t\t\tday: mw.msg( 'srf-ui-eventcalendar-label-day' )\n\t\t\t}\n\t\t\t,\n\t\t\tallDayText: mw.msg( 'srf-ui-eventcalendar-label-allday' ),\n\t\t\ttimeFormat: {\n\t\t\t\t'': mw.msg( 'srf-ui-eventcalendar-format-time' ),\n\t\t\t\tagenda: mw.msg( 'srf-ui-eventcalendar-format-time-agenda' )\n\t\t\t}\n\t\t\t,\n\t\t\taxisFormat: mw.msg( 'srf-ui-eventcalendar-format-axis' ),\n\t\t\ttitleFormat: {\n\t\t\t\tmonth: mw.msg( 'srf-ui-eventcalendar-format-title-month' ),\n\t\t\t\tweek: mw.msg( 'srf-ui-eventcalendar-format-title-week' ),\n\t\t\t\tday: mw.msg( 'srf-ui-eventcalendar-format-title-day' )\n\t\t\t}\n\t\t\t,\n\t\t\tcolumnFormat: {\n\t\t\t\tmonth: mw.msg( 'srf-ui-eventcalendar-format-column-month' ),\n\t\t\t\tweek: mw.msg( 'srf-ui-eventcalendar-format-column-week' ),\n\t\t\t\tday: mw.msg( 'srf-ui-eventcalendar-format-column-day' )\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic init() {\n\n\t\tlet _i18n = this.getI18N();\n\n\t\t// initialize the calendar\n\t\tthis.target.fullCalendar( {\n\n\t\t\tfirstDay: this.options.firstDay,\n\t\t\tisRTL: this.options.isRTL,\n\t\t\tmonthNames: _i18n.monthNames,\n\t\t\tmonthNamesShort: _i18n.monthNamesShort,\n\t\t\tdayNames: _i18n.dayNames,\n\t\t\tdayNamesShort: _i18n.dayNamesShort,\n\t\t\tbuttonText: _i18n.buttonText,\n\t\t\tallDayText: _i18n.allDayText,\n\t\t\ttimeFormat: _i18n.timeFormat,\n\t\t\ttitleFormat: _i18n.titleFormat,\n\t\t\tcolumnFormat: _i18n.columnFormat\n\t\t} );\n\t}\n\n\tprivate getEvent( rowId: any, rowData: any ) {\n\n\t\tlet eventdata: any = {\n\t\t\tid: rowId,\n\t\t\ttitle: rowData[ 'title' ],\n\t\t\tstart: rowData[ 'start' ],\n\t\t\tclassName: rowId\n\t\t};\n\n\t\tif ( rowData.hasOwnProperty( 'end' ) ) {\n\t\t\teventdata[ 'end' ] = rowData[ 'end' ];\n\t\t}\n\n\t\tif ( rowData.hasOwnProperty( 'url' ) ) {\n\t\t\teventdata[ 'url' ] = rowData[ 'url' ];\n\t\t}\n\n\t\treturn eventdata;\n\t}\n\n\tpublic showRows( rowIds: string[] ): any {\n\n\t\tlet events: any[] = [];\n\n\t\trowIds.forEach( ( rowId: string ) => {\n\n\t\t\tlet rowData = this.controller.getData()[ rowId ].data[ this.id ];\n\n\t\t\tif ( rowData.hasOwnProperty( 'start' ) ) {\n\t\t\t\tevents.push( this.getEvent( rowId, rowData ) );\n\t\t\t}\n\t\t} );\n\n\t\tthis.target.fullCalendar( 'addEventSource', events );\n\t}\n\n\tpublic hideRows( rowIds: string[] ): any {\n\t\tthis.target.fullCalendar( 'removeEvents', ( e: any ) => ( rowIds.indexOf( e._id ) >= 0 ) );\n\t}\n\n\tpublic show(): any {\n\t\tsuper.show();\n\t\tthis.target.fullCalendar( 'render' );\n\t}\n\n\tpublic hide(): any {\n\t\treturn super.hide();\n\t}\n\n}\n","import { View } from \"./View\";\n\nexport class ListView extends View {\n\n\tprotected getItemClassName() {\n\t\treturn '.filtered-list-item';\n\t}\n\n\n}\n","/// <reference types=\"leaflet\" />\n\nimport { View } from \"./View\";\nimport { Options } from \"../../types\"\n\ndeclare let mw: any;\n\nexport class MapView extends View {\n\n\tprivate map: L.Map = undefined;\n\tprivate icon: { [key: string]: L.Icon } = undefined;\n\tprivate markers: { [key: string]: L.Marker[] } = undefined;\n\tprivate markerClusterGroup: L.MarkerClusterGroup = undefined;\n\tprivate bounds: L.LatLngBounds = undefined;\n\tprivate initialized: boolean = false;\n\n\tprivate zoom: number = -1;\n\tprivate minZoom: number = -1;\n\tprivate maxZoom: number = -1;\n\n\tprivate leafletPromise: Promise<any> = undefined;\n\n\tpublic init(): Promise<any> {\n\n\t\tlet data = this.controller.getData();\n\t\tlet markers: { [rowId: string]: L.Marker[] } = {};\n\n\t\tif ( this.options.hasOwnProperty( 'height' ) ) {\n\t\t\tthis.target.height( this.options.height );\n\t\t}\n\n\t\tthis.leafletPromise = mw.loader.using( 'ext.srf.filtered.map-view.leaflet' )\n\t\t.then( () => {\n\n\t\t\tlet bounds: L.LatLngBounds = undefined;\n\t\t\tlet disableClusteringAtZoom = this.getZoomForUnclustering();\n\n\t\t\tlet clusterOptions: Options = {\n\t\t\t\tanimateAddingMarkers: true,\n\t\t\t\tdisableClusteringAtZoom: disableClusteringAtZoom,\n\t\t\t\tspiderfyOnMaxZoom: disableClusteringAtZoom === null\n\t\t\t};\n\n\t\t\tclusterOptions = this.getOptions( [ 'maxClusterRadius', 'zoomToBoundsOnClick' ], clusterOptions );\n\n\t\t\tlet markerClusterGroup: L.MarkerClusterGroup = L.markerClusterGroup( clusterOptions );\n\n\t\t\tfor ( let rowId in data ) {\n\n\t\t\t\tif ( data[ rowId ][ 'data' ].hasOwnProperty( this.id ) ) {\n\t\t\t\t\tlet positions: L.LatLngLiteral[] = data[ rowId ][ 'data' ][ this.id ][ 'positions' ];\n\t\t\t\t\tmarkers[ rowId ] = [];\n\n\t\t\t\t\tfor ( let pos of positions ) {\n\n\t\t\t\t\t\tbounds = ( bounds === undefined ) ? new L.LatLngBounds( pos, pos ) : bounds.extend( pos );\n\n\t\t\t\t\t\tlet marker = this.getMarker( pos, data[ rowId ] );\n\t\t\t\t\t\tmarkers[ rowId ].push( marker );\n\t\t\t\t\t\tmarkerClusterGroup.addLayer( marker );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.markerClusterGroup = markerClusterGroup;\n\t\t\tthis.markers = markers;\n\t\t\tthis.bounds = ( bounds === undefined ) ? new L.LatLngBounds( [ -180, -90 ], [ 180, 90 ] ) : bounds;\n\t\t} );\n\n\t\treturn this.leafletPromise;\n\t}\n\n\t/**\n\t * Detects if user uses dark theme\n\t * @returns {boolean}\n\t */\n\tprivate isUserUsesDarkMode() {\n\t\treturn window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n\t}\n\n\tprivate getZoomForUnclustering() {\n\n\t\tif ( this.options.hasOwnProperty( 'marker cluster' ) && this.options[ 'marker cluster' ] === false ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( this.options.hasOwnProperty( 'marker cluster max zoom' ) ) {\n\t\t\treturn this.options[ 'marker cluster max zoom' ] + 1;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate getIcon( row: any ) {\n\n\t\tif ( this.icon === undefined ) {\n\t\t\tthis.buildIconList();\n\t\t}\n\n\t\tif ( this.options.hasOwnProperty( 'marker icon property' ) ) {\n\n\t\t\tlet vals: string[] = row[ 'printouts' ][ this.options[ 'marker icon property' ] ][ 'values' ];\n\n\t\t\tif ( vals.length > 0 && this.icon.hasOwnProperty( vals[ 0 ] ) ) {\n\t\t\t\treturn this.icon[ vals[ 0 ] ];\n\t\t\t}\n\t\t}\n\n\t\treturn this.icon[ 'default' ];\n\t}\n\n\tprivate buildIconList() {\n\t\tthis.icon = {};\n\n\t\tlet iconPath = this.controller.getPath() + 'css/images/';\n\n\t\tthis.icon[ 'default' ] = new L.Icon( {\n\t\t\t'iconUrl': iconPath + 'marker-icon.png',\n\t\t\t'iconRetinaUrl': iconPath + 'marker-icon-2x.png',\n\t\t\t'shadowUrl': iconPath + 'marker-shadow.png',\n\t\t\t'iconSize': [ 25, 41 ],\n\t\t\t'iconAnchor': [ 12, 41 ],\n\t\t\t'popupAnchor': [ 1, -34 ],\n\t\t\t// 'tooltipAnchor': [16, -28],\n\t\t\t'shadowSize': [ 41, 41 ]\n\t\t} );\n\n\t\tif ( this.options.hasOwnProperty( 'marker icons' ) ) {\n\n\t\t\tfor ( let value in this.options[ 'marker icons' ] ) {\n\t\t\t\tthis.icon[ value ] = new L.Icon( {\n\t\t\t\t\t'iconUrl': this.options[ 'marker icons' ][ value ],\n\t\t\t\t\t// 'iconRetinaUrl': iconPath + 'marker-icon-2x.png',\n\t\t\t\t\t'shadowUrl': iconPath + 'marker-shadow.png',\n\t\t\t\t\t'iconSize': [ 32, 32 ],\n\t\t\t\t\t'iconAnchor': [ 16, 32 ],\n\t\t\t\t\t'popupAnchor': [ 1, -30 ],\n\t\t\t\t\t// 'tooltipAnchor': [16, -28],\n\t\t\t\t\t'shadowSize': [ 41, 41 ],\n\t\t\t\t\t'shadowAnchor': [ 12, 41 ]\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getMarker( latLng: L.LatLngExpression, row: any ) {\n\t\tlet title = undefined;\n\t\tlet popup = [];\n\n\t\t// TODO: Use <div> instead of <b> and do CSS styling\n\n\t\tfor ( let prId in row[ 'printouts' ] ) {\n\t\t\tlet printrequest = (this.controller.getPrintRequests())[ prId ];\n\n\t\t\tif ( ! printrequest.hasOwnProperty('hide') || printrequest.hide === false ) {\n\t\t\t\tlet printouts = row[ 'printouts' ][ prId ];\n\n\t\t\t\tif ( title === undefined ) {\n\t\t\t\t\ttitle = printouts[ 'values' ].join( ', ' );\n\t\t\t\t\tpopup.push( '<b>' + printouts[ 'formatted values' ].join( ', ' ) + '</b>' );\n\t\t\t\t} else {\n\t\t\t\t\tpopup.push( (printouts.label ? '<b>' + printouts.label + ':</b> ' : '') + printouts[ 'formatted values' ].join( ', ' ) )\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet marker = L.marker( latLng, { title: title, alt: title } );\n\t\tmarker.bindPopup( popup.join( '<br>' ) );\n\n\t\tmarker.setIcon( this.getIcon( row ) );\n\t\treturn marker;\n\t}\n\n\tpublic lateInit() {\n\n\t\tif ( this.initialized ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.initialized = true;\n\n\t\tlet that = this;\n\n\t\tthis.leafletPromise.then( () => {\n\n\t\t\tlet mapOptions: Options = {\n\t\t\t\tcenter: this.bounds !== undefined ? this.bounds.getCenter() : [ 0, 0 ]\n\t\t\t};\n\n\t\t\tmapOptions = that.getOptions( [ 'zoom', 'minZoom', 'maxZoom' ], mapOptions );\n\n\t\t\t// TODO: Limit zoom values to map max zoom\n\n\t\t\tthat.map = L.map( <HTMLElement> that.getTargetElement().get( 0 ), mapOptions );\n\t\t\tthat.map.addLayer( that.markerClusterGroup );\n\n\t\t\tlet mapProvider = null;\n\n\t\t\tif( this.options.hasOwnProperty('map provider') ) {\n\t\t\t\tmapProvider = this.options['map provider'];\n\t\t\t}\n\n\t\t\tif( this.isUserUsesDarkMode() && this.options.hasOwnProperty('map provider dark') ) {\n\t\t\t\tmapProvider = this.options['map provider dark'];\n\t\t\t}\n\n\t\t\tif( mapProvider ) {\n\t\t\t\tL.tileLayer.provider( mapProvider ).addTo(that.map);\n\t\t\t}\n\n\t\t\tif ( !mapOptions.hasOwnProperty( 'zoom' ) ) {\n\t\t\t\tthat.map.fitBounds( that.bounds );\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\tpublic getOptions( keys: string[], defaults: Options = {} ) {\n\n\t\tfor ( let key of keys ) {\n\t\t\tif ( this.options.hasOwnProperty( key ) ) {\n\t\t\t\tdefaults[ key ] = this.options[ key ];\n\t\t\t}\n\t\t}\n\n\t\treturn defaults;\n\t}\n\n\tpublic showRows( rowIds: string[] ) {\n\t\tthis.leafletPromise.then( () => {\n\t\t\tthis.manipulateLayers( rowIds, ( layers: L.Layer[] ) => {\n\t\t\t\tthis.markerClusterGroup.addLayers( layers )\n\t\t\t} )\n\t\t} );\n\t}\n\n\tpublic hideRows( rowIds: string[] ) {\n\t\tthis.leafletPromise.then( () => {\n\t\t\tthis.manipulateLayers( rowIds, ( layers: L.Layer[] ) => {\n\t\t\t\tthis.markerClusterGroup.removeLayers( layers )\n\t\t\t} )\n\t\t} );\n\t}\n\n\tprivate manipulateLayers( rowIds: string[], cb: ( layers: L.Layer[] ) => void ) {\n\n\t\tlet layersFromRowIds = this.getLayersFromRowIds( rowIds );\n\n\t\tif ( layersFromRowIds.length > 0 ) {\n\t\t\tcb( layersFromRowIds );\n\t\t}\n\n\t}\n\n\tprivate getLayersFromRowIds( rowIds: string[] ) {\n\t\treturn this.flatten( this.getLayersFromRowIdsRaw( rowIds ) );\n\t}\n\n\tprivate getLayersFromRowIdsRaw( rowIds: string[] ) {\n\t\treturn rowIds.map( ( rowId: string ) => this.markers[ rowId ] ? this.markers[ rowId ] : [] );\n\t}\n\n\tprivate flatten( markers: L.Layer[][] ): L.Layer[] {\n\t\treturn markers.reduce( ( result: L.Layer[], layers: L.Layer[] ) => result.concat( layers ), [] );\n\t}\n\n\tpublic show() {\n\t\tsuper.show();\n\t\tthis.lateInit();\n\t}\n\n}\n","import { View } from \"./View\";\n\nexport class TableView extends View {\n\n\tprotected getItemClassName() {\n\t\treturn '.filtered-table-item';\n\t}\n\n}","import { Options } from \"../../types\";\nimport { Controller } from \"../Controller\";\n\nexport class View {\n\n\tprotected id: string = undefined;\n\tprotected target: JQuery = undefined;\n\tprotected controller: Controller = undefined;\n\tprotected options: Options = undefined;\n\tprotected visible: boolean = false;\n\tprotected rows: { [ rowId: string ]: JQuery } = {};\n\n\tpublic constructor( id: string, target: JQuery, c: Controller, options: Options = {} ) {\n\t\tthis.id = id;\n\t\tthis.target = target;\n\t\tthis.controller = c;\n\t\tthis.options = options;\n\t}\n\n\tpublic init(): Promise<any>|void {\n\n\t\tlet rowIds = Object.keys( this.controller.getData() );\n\t\tlet rows = this.target.find( this.getItemClassName() );\n\n\t\trows.each( ( index, elem ) => {\n\t\t\tlet classes = elem.classList;\n\t\t\tfor ( let i = 0; i < classes.length; i++ ) {\n\t\t\t\tif ( rowIds.indexOf( classes[ i ] ) >= 0 ) {\n\t\t\t\t\tthis.rows[ classes[ i ] ] = $( rows[ index ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\tprotected getItemClassName() {\n\t\treturn '.filtered-item';\n\t}\n\n\tpublic getTargetElement(): JQuery {\n\t\treturn this.target;\n\t}\n\n\tpublic showRows( rowIds: string[] ) {\n\n\t\tif ( this.visible && rowIds.length < 200 ) {\n\n\t\t\trowIds.forEach( ( rowId: string ) => {\n\t\t\t\tthis.rows[ rowId ].slideDown( 400 );\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\trowIds.forEach( ( rowId: string ) => {\n\t\t\t\tthis.rows[ rowId ].css( 'display', '');\n\t\t\t} );\n\n\t\t}\n\t}\n\n\tpublic hideRows( rowIds: string[] ) {\n\n\t\tif ( this.visible && rowIds.length < 200 ) {\n\n\t\t\trowIds.forEach( ( rowId: string ) => {\n\t\t\t\tthis.rows[ rowId ].slideUp( 400 );\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\trowIds.forEach( ( rowId: string ) => {\n\t\t\t\tthis.rows[ rowId ].css( 'display', 'none');\n\t\t\t} );\n\n\t\t}\n\t}\n\n\tpublic show() {\n\t\tthis.target.show();\n\t\tthis.visible = true;\n\t}\n\n\tpublic hide() {\n\t\tthis.target.hide();\n\t\tthis.visible = false;\n\t}\n}\n","import { Controller } from \"./Controller\";\nexport class ViewSelector {\n\n\tprivate target: JQuery = undefined;\n\tprivate viewIDs: string[] = undefined;\n\n\tprivate controller: Controller = undefined;\n\n\tpublic constructor( target: JQuery, viewIDs: string[], controller: Controller ) {\n\t\tthis.target = target;\n\t\tthis.viewIDs = viewIDs;\n\t\tthis.controller = controller;\n\t}\n\n\tpublic init() {\n\t\tif ( this.viewIDs.length > 1 ) {\n\t\t\tthis.viewIDs.forEach( ( id: string) => { this.target.on( 'click', '.' + id, { 'target': id, 'controller' : this.controller }, ViewSelector.onSelectorSelected ); } );\n\t\t\tthis.target.children().first().addClass( 'selected');\n\t\t\tthis.target.show();\n\t\t}\n\t}\n\n\tprivate static onSelectorSelected( event: JQueryEventObject ) {\n\n\t\tevent.data.controller.onViewSelected( event.data.target );\n\n\t\t$( event.target )\n\t\t.addClass( 'selected')\n\t\t.siblings().removeClass( 'selected' );\n\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n\n}","import { Filtered } from \"./Filtered/Filtered\";\n\ndeclare let mw: any;\nlet config = mw.config.get( 'srfFilteredConfig' );\n\nfor ( let id in config ) {\n\tif ( config.hasOwnProperty( id ) ) {\n\t\tlet f = new Filtered( $( '#' + id ), config[ id ] );\n\t\tmw.hook( 'wikipage.content' ).add( () => f.run() );\n\t}\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvQ29udHJvbGxlci50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9GaWx0ZXIvRGlzdGFuY2VGaWx0ZXIudHMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvRmlsdGVyL0ZpbHRlci50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9GaWx0ZXIvTnVtYmVyRmlsdGVyLnRzIiwicmVzb3VyY2VzL3RzL0ZpbHRlcmVkL0ZpbHRlci9WYWx1ZUZpbHRlci50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9GaWx0ZXJlZC50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9WaWV3L0NhbGVuZGFyVmlldy50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9WaWV3L0xpc3RWaWV3LnRzIiwicmVzb3VyY2VzL3RzL0ZpbHRlcmVkL1ZpZXcvTWFwVmlldy50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9WaWV3L1RhYmxlVmlldy50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9WaWV3L1ZpZXcudHMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvVmlld1NlbGVjdG9yLnRzIiwicmVzb3VyY2VzL3RzL2Jvb3RzdHJhcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQSxnQ0FBZ0M7O0FBS2hDLG9DQUFtQztBQUduQztJQVVDLG9CQUFvQixNQUFjLEVBQUUsSUFBZ0IsRUFBRSxhQUFzQjtRQVRwRSxXQUFNLEdBQVcsU0FBUyxDQUFDO1FBQzNCLGtCQUFhLEdBQVcsU0FBUyxDQUFDO1FBRWxDLFVBQUssR0FBNEIsRUFBRSxDQUFDO1FBQ3BDLFlBQU8sR0FBOEIsRUFBRSxDQUFDO1FBQ3hDLGdCQUFXLEdBQVMsU0FBUyxDQUFDO1FBS3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBRXJCLElBQUssSUFBSSxDQUFDLE1BQU0sS0FBSyxTQUFT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QUFZOzs7OztBQ0R6QixnREFBK0M7QUFHL0MsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUUsbUJBQW1CLENBQUUsQ0FBQzt3QkFFeEMsRUFBRTtJQUNYLElBQUssTUFBTSxDQUFDLGNBQWMsQ0FBRSxFQUFFLENBQUUsRUFBRztRQUNsQyxJQUFJLEdBQUMsR0FBRyxJQUFJLG1CQUFRLENBQUUsQ0FBQyxDQUFFLEdBQUcsR0FBRyxFQUFFLENBQUUsRUFBRSxNQUFNLENBQUUsRUFBRSxDQUFFLENBQUUsQ0FBQztRQUNwRCxFQUFFLENBQUMsSUFBSSxDQUFFLGtCQUFrQixDQUFFLENBQUMsR0FBRyxDQUFFLGNBQU0sT0FBQSxHQUFDLENBQUMsR0FBRyxFQUFFLEVBQVAsQ0FBTyxDQUFFLENBQUM7S0FDbkQ7O0FBSkYsS0FBTSxJQUFJLEVBQUUsSUFBSSxNQUFNO1lBQVosRUFBRTtDQUtYIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJqcXVlcnlcIiAvPlxuXG5pbXBvcnQgeyBPcHRpb25zLCBSZXN1bHREYXRhIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5kZWNsYXJlIGxldCBzcmY6IGFueTtcblxuaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL1ZpZXcvVmlld1wiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyL0ZpbHRlclwiO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciB7XG5cdHByaXZhdGUgdGFyZ2V0OiBKUXVlcnkgPSB1bmRlZmluZWQ7XG5cdHByaXZhdGUgZmlsdGVyU3Bpbm5lcjogSlF1ZXJ5ID0gdW5kZWZpbmVkO1xuXG5cdHByaXZhdGUgdmlld3M6IHsgW2tleTogc3RyaW5nXTogVmlldyB9ID0ge307XG5cdHByaXZhdGUgZmlsdGVyczogeyBba2V5OiBzdHJpbmddOiBGaWx0ZXIgfSA9IHt9O1xuXHRwcml2YXRlIGN1cnJlbnRWaWV3OiBWaWV3ID0gdW5kZWZpbmVkO1xuXHRwcml2YXRlIGRhdGE6IFJlc3VsdERhdGE7XG5cdHByaXZhdGUgcHJpbnRSZXF1ZXN0czogT3B0aW9ucztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IoIHRhcmdldDogSlF1ZXJ5LCBkYXRhOiBSZXN1bHREYXRhLCBwcmludFJlcXVlc3RzOiBPcHRpb25zICkge1xuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXG5cdFx0aWYgKCB0aGlzLnRhcmdldCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5maWx0ZXJTcGlubmVyID0gdGhpcy50YXJnZXQuZmluZCggJ2Rpdi5maWx0ZXJlZC1maWx0ZXItc3Bpbm5lcicgKTtcblx0XHR9XG5cblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xuXHRcdHRoaXMucHJpbnRSZXF1ZXN0cyA9IHByaW50UmVxdWVzdHM7XG5cblx0XHRmb3IgKCBsZXQgcm93SWQgaW4gdGhpcy5kYXRhICkge1xuXHRcdFx0aWYgKCAhdGhpcy5kYXRhWyByb3dJZCBdLmhhc093blByb3BlcnR5KCAndmlzaWJsZScgKSApIHtcblx0XHRcdFx0dGhpcy5kYXRhWyByb3dJZCBdLnZpc2libGUgPSB7fTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgZ2V0RGF0YSgpOiBhbnkge1xuXHRcdHJldHVybiB0aGlzLmRhdGE7XG5cdH1cblxuXHRwdWJsaWMgZ2V0UHJpbnRSZXF1ZXN0cygpOiBPcHRpb25zIHtcblx0XHRyZXR1cm4gdGhpcy5wcmludFJlcXVlc3RzO1xuXHR9XG5cblx0cHVibGljIGdldFBhdGgoKSB7XG5cdFx0cmV0dXJuIHNyZi5zZXR0aW5ncy5nZXQoICdzcmZnU2NyaXB0UGF0aCcgKSArICcvZm9ybWF0cy9maWx0ZXJlZC9yZXNvdXJjZXMvJztcblx0fVxuXG5cdHB1YmxpYyBhdHRhY2hWaWV3KCB2aWV3aWQ6IHN0cmluZywgdmlldzogVmlldyApIHtcblxuXHRcdHRoaXMudmlld3NbIHZpZXdpZCBdID0gdmlldztcblxuXHRcdGlmICggdGhpcy5jdXJyZW50VmlldyA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XG5cdFx0XHR2aWV3LnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmlldy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgZ2V0Vmlldyggdmlld0lkOiBzdHJpbmcgKTogVmlldyB7XG5cdFx0cmV0dXJuIHRoaXMudmlld3NbIHZpZXdJZCBdO1xuXHR9XG5cblx0cHVibGljIGF0dGFjaEZpbHRlciggZmlsdGVyOiBGaWx0ZXIgKTogSlF1ZXJ5UHJvbWlzZTwgdm9pZCA+IHtcblx0XHRsZXQgZmlsdGVySWQgPSBmaWx0ZXIuZ2V0SWQoKTtcblxuXHRcdHRoaXMuZmlsdGVyc1sgZmlsdGVySWQgXSA9IGZpbHRlcjtcblxuXHRcdGZpbHRlci5pbml0KCk7XG5cblx0XHRyZXR1cm4gdGhpcy5vbkZpbHRlclVwZGF0ZWQoIGZpbHRlcklkICk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0RmlsdGVyKCBmaWx0ZXJJZDogc3RyaW5nICk6IEZpbHRlciB7XG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyc1sgZmlsdGVySWQgXTtcblx0fVxuXG5cdHB1YmxpYyBzaG93KCkge1xuXHRcdHRoaXMuaW5pdGlhbGl6ZUZpbHRlcnMoKTtcblx0XHR0aGlzLnRhcmdldC5jaGlsZHJlbiggJy5maWx0ZXJlZC1zcGlubmVyJyApLnJlbW92ZSgpO1xuXHRcdHRoaXMudGFyZ2V0LmNoaWxkcmVuKCkuc2hvdygpO1xuXHRcdHRoaXMuc3dpdGNoVG9WaWV3KCB0aGlzLmN1cnJlbnRWaWV3ICk7XG5cdH1cblxuXHRwcml2YXRlIHN3aXRjaFRvVmlldyggdmlldzogVmlldyApIHtcblxuXHRcdGlmICggdGhpcy5jdXJyZW50VmlldyBpbnN0YW5jZW9mIFZpZXcgKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRWaWV3LmhpZGUoKTtcblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnRWaWV3ID0gdmlldztcblxuXHRcdGlmICggdGhpcy5jdXJyZW50VmlldyBpbnN0YW5jZW9mIFZpZXcgKSB7XG5cdFx0XHR2aWV3LnNob3coKTtcblx0XHR9XG5cblx0fVxuXG5cdHByaXZhdGUgaW5pdGlhbGl6ZUZpbHRlcnMoKSB7XG5cdFx0bGV0IHRvU2hvdzogc3RyaW5nW10gPSBbXTtcblx0XHRsZXQgdG9IaWRlOiBzdHJpbmdbXSA9IFtdO1xuXG5cdFx0Zm9yICggbGV0IHJvd0lkIGluIHRoaXMuZGF0YSApIHtcblx0XHRcdGZvciAoIGxldCBmaWx0ZXJJZCBpbiB0aGlzLmZpbHRlcnMgKSB7XG5cdFx0XHRcdHRoaXMuZGF0YVsgcm93SWQgXS52aXNpYmxlWyBmaWx0ZXJJZCBdID0gdGhpcy5maWx0ZXJzWyBmaWx0ZXJJZCBdLmlzRGlzYWJsZWQoKSB8fCB0aGlzLmZpbHRlcnNbIGZpbHRlcklkIF0uaXNWaXNpYmxlKCByb3dJZCApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0aGlzLmlzVmlzaWJsZSggcm93SWQgKSApIHtcblx0XHRcdFx0dG9TaG93LnB1c2goIHJvd0lkICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0b0hpZGUucHVzaCggcm93SWQgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmhpZGVSb3dzKCB0b0hpZGUgKTtcblx0XHR0aGlzLnNob3dSb3dzKCB0b1Nob3cgKTtcblx0fVxuXG5cdHB1YmxpYyBvblZpZXdTZWxlY3RlZCggdmlld0lEOiBzdHJpbmcgKSB7XG5cdFx0dGhpcy5zd2l0Y2hUb1ZpZXcoIHRoaXMudmlld3NbIHZpZXdJRCBdICk7XG5cdH1cblxuXHRwdWJsaWMgb25GaWx0ZXJVcGRhdGVkKCBmaWx0ZXJJZDogc3RyaW5nICk6IEpRdWVyeVByb21pc2U8IHZvaWQgPiB7XG5cblx0XHRyZXR1cm4gdGhpcy5zaG93U3Bpbm5lcigpXG5cdFx0LnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRsZXQgdG9TaG93OiBzdHJpbmdbXSA9IFtdO1xuXHRcdFx0bGV0IHRvSGlkZTogc3RyaW5nW10gPSBbXTtcblxuXHRcdFx0bGV0IGRpc2FibGVkID0gdGhpcy5maWx0ZXJzWyBmaWx0ZXJJZCBdLmlzRGlzYWJsZWQoKTtcblxuXHRcdFx0Zm9yICggbGV0IHJvd0lkIGluIHRoaXMuZGF0YSApIHtcblxuXHRcdFx0XHRsZXQgbmV3VmlzaWJsZTogYm9vbGVhbiA9IGRpc2FibGVkIHx8IHRoaXMuZmlsdGVyc1sgZmlsdGVySWQgXS5pc1Zpc2libGUoIHJvd0lkICk7XG5cblx0XHRcdFx0aWYgKCB0aGlzLmRhdGFbIHJvd0lkIF0udmlzaWJsZVsgZmlsdGVySWQgXSAhPT0gbmV3VmlzaWJsZSApIHtcblxuXHRcdFx0XHRcdHRoaXMuZGF0YVsgcm93SWQgXS52aXNpYmxlWyBmaWx0ZXJJZCBdID0gbmV3VmlzaWJsZTtcblxuXHRcdFx0XHRcdGlmICggbmV3VmlzaWJsZSAmJiB0aGlzLmlzVmlzaWJsZSggcm93SWQgKSApIHtcblx0XHRcdFx0XHRcdHRvU2hvdy5wdXNoKCByb3dJZCApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0b0hpZGUucHVzaCggcm93SWQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy5oaWRlUm93cyggdG9IaWRlICk7XG5cdFx0XHR0aGlzLnNob3dSb3dzKCB0b1Nob3cgKTtcblx0XHR9KVxuXHRcdC50aGVuKCAoKSA9PiB7IHRoaXMuaGlkZVNwaW5uZXIoKSB9ICk7XG5cdH1cblxuXHRwdWJsaWMgaXNWaXNpYmxlKCByb3dJZDogYW55ICkge1xuXHRcdGZvciAoIGxldCBmaWx0ZXJJZCBpbiB0aGlzLmRhdGFbIHJvd0lkIF0udmlzaWJsZSApIHtcblx0XHRcdGlmICggIXRoaXMuZGF0YVsgcm93SWQgXS52aXNpYmxlWyBmaWx0ZXJJZCBdICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHJpdmF0ZSBoaWRlUm93cyggcm93SWRzOiBzdHJpbmdbXSApIHtcblx0XHRpZiAoIHJvd0lkcy5sZW5ndGggPT09IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGZvciAoIGxldCB2aWV3SWQgaW4gdGhpcy52aWV3cyApIHtcblx0XHRcdHRoaXMudmlld3NbIHZpZXdJZCBdLmhpZGVSb3dzKCByb3dJZHMgKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHNob3dSb3dzKCByb3dJZHM6IHN0cmluZ1tdICkge1xuXHRcdGlmICggcm93SWRzLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Zm9yICggbGV0IHZpZXdJZCBpbiB0aGlzLnZpZXdzICkge1xuXHRcdFx0dGhpcy52aWV3c1sgdmlld0lkIF0uc2hvd1Jvd3MoIHJvd0lkcyApO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc2hvd1NwaW5uZXIoKTogSlF1ZXJ5UHJvbWlzZTwgdm9pZCA+IHtcblx0XHRyZXR1cm4gdGhpcy5hbmltYXRlU3Bpbm5lcigpO1xuXHR9XG5cblx0cHJpdmF0ZSBoaWRlU3Bpbm5lcigpOiBKUXVlcnlQcm9taXNlPCB2b2lkID4ge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGVTcGlubmVyKCBmYWxzZSApO1xuXHR9XG5cblx0cHJpdmF0ZSBhbmltYXRlU3Bpbm5lciggc2hvdzogYm9vbGVhbiA9IHRydWUgKTogSlF1ZXJ5UHJvbWlzZTwgdm9pZCA+IHtcblxuXHRcdGlmICggdGhpcy5maWx0ZXJTcGlubmVyID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LndoZW4oKTtcblx0XHR9XG5cblx0XHRpZiAoIHNob3cgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5maWx0ZXJTcGlubmVyLmZhZGVJbiggMjAwICkucHJvbWlzZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmZpbHRlclNwaW5uZXIuZmFkZU91dCggMjAwICkucHJvbWlzZSgpO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL0ZpbHRlclwiO1xuXG5kZWNsYXJlIGxldCBtdzogYW55O1xuXG5leHBvcnQgY2xhc3MgRGlzdGFuY2VGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuXG5cdHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IGVhcnRoUmFkaXVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuXHRcdG06IDYzNzEwMDguOCxcblx0XHRrbTogNjM3MS4wMDg4LFxuXHRcdG1pOiAzOTU4Ljc2MTMsXG5cdFx0bm06IDM0NDAuMDY5NSxcblx0XHTDhTogNjM3MTAwODgwMDAwMDAwMDBcblx0fTtcblxuXHRwcml2YXRlIGVhcnRoUmFkaXVzVmFsdWU6IG51bWJlciA9IERpc3RhbmNlRmlsdGVyLmVhcnRoUmFkaXVzLmttO1xuXHRwcml2YXRlIGZpbHRlclZhbHVlOiBudW1iZXIgPSAwO1xuXG5cdHB1YmxpYyBpbml0KCkge1xuXG5cdFx0bGV0IHZhbHVlcyA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKCk7XG5cblx0XHRsZXQgb3JpZ2luID0gdGhpcy5vcHRpb25zWyAnb3JpZ2luJyBdO1xuXG5cdFx0aWYgKCAhKCBvcmlnaW4gIT09IHVuZGVmaW5lZCAmJiBvcmlnaW4uaGFzT3duUHJvcGVydHkoICdsYXQnICkgJiYgb3JpZ2luLmhhc093blByb3BlcnR5KCAnbG5nJyApICkgKSB7XG5cdFx0XHR0aGlzLnRhcmdldC5kZXRhY2goKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgdW5pdCA9ICdrbSc7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9uc1sgJ3VuaXQnIF0gJiYgRGlzdGFuY2VGaWx0ZXIuZWFydGhSYWRpdXNbIHRoaXMub3B0aW9uc1sgJ3VuaXQnIF0gXSApIHtcblx0XHRcdHVuaXQgPSB0aGlzLm9wdGlvbnNbICd1bml0JyBdO1xuXHRcdH1cblxuXHRcdHRoaXMuZWFydGhSYWRpdXNWYWx1ZSA9IERpc3RhbmNlRmlsdGVyLmVhcnRoUmFkaXVzWyB1bml0IF07XG5cblx0XHRsZXQgbWF4VmFsdWU6IG51bWJlciA9IHRoaXMudXBkYXRlRGlzdGFuY2VzKCBvcmlnaW4gKTtcblxuXHRcdGxldCBwcmVjaXNpb24gPSAxMCAqKiAoIE1hdGguZmxvb3IoIE1hdGgubG9nKCBtYXhWYWx1ZSApICogTWF0aC5MT0cxMEUgKSAtIDEpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnNbICdtYXgnIF0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9wdGlvbnNbICdtYXgnIF0gPiBtYXhWYWx1ZSApIHtcblx0XHRcdG1heFZhbHVlID0gdGhpcy5vcHRpb25zWyAnbWF4JyBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXhWYWx1ZSA9IE1hdGguY2VpbCggbWF4VmFsdWUgLyBwcmVjaXNpb24gKSAqIHByZWNpc2lvbjtcblx0XHR9XG5cblx0XHR0aGlzLmZpbHRlclZhbHVlID0gdGhpcy5vcHRpb25zWyAnaW5pdGlhbCB2YWx1ZScgXSA/IE1hdGgubWluKCB0aGlzLm9wdGlvbnNbICdpbml0aWFsIHZhbHVlJyBdLCBtYXhWYWx1ZSApIDogbWF4VmFsdWU7XG5cblx0XHQvLyBidWlsZCBmaWx0ZXIgY29udHJvbHNcblx0XHRsZXQgZmlsdGVyY29udHJvbHMgPSB0aGlzLmJ1aWxkRW1wdHlDb250cm9sKCk7XG5cblx0XHRsZXQgcmVhZG91dCA9ICQoICc8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtZGlzdGFuY2UtcmVhZG91dFwiPicgKyB0aGlzLmZpbHRlclZhbHVlICsgJzwvZGl2PicgKTtcblxuXHRcdGxldCB0YWJsZSA9ICQoICc8dGFibGUgY2xhc3M9XCJmaWx0ZXJlZC1kaXN0YW5jZS10YWJsZVwiPjx0Ym9keT48dHI+PHRkIGNsYXNzPVwiZmlsdGVyZWQtZGlzdGFuY2UtbWluLWNlbGxcIj4wPC90ZD4nICtcblx0XHRcdCc8dGQgY2xhc3M9XCJmaWx0ZXJlZC1kaXN0YW5jZS1zbGlkZXItY2VsbFwiPjxkaXYgY2xhc3M9XCJmaWx0ZXJlZC1kaXN0YW5jZS1zbGlkZXJcIj48L2Rpdj48L3RkPicgK1xuXHRcdFx0Jzx0ZCBjbGFzcz1cImZpbHRlcmVkLWRpc3RhbmNlLW1heC1jZWxsXCI+JyArIG1heFZhbHVlICsgJzwvdGQ+PC90cj4nICtcblx0XHRcdCc8dHI+PHRkIGNvbHNwYW49MyBjbGFzcz1cImZpbHRlcmVkLWRpc3RhbmNlLXVuaXQtY2VsbFwiPicgKyB1bml0ICsgJzwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+JyApO1xuXG5cdFx0ZmlsdGVyY29udHJvbHMuYXBwZW5kKCB0YWJsZSApO1xuXG5cdFx0bGV0IHRoYXQgPSB0aGlzO1xuXHRcdG13LmxvYWRlci51c2luZyggJ2pxdWVyeS51aS5zbGlkZXInICkudGhlbiggZnVuY3Rpb24gKCkge1xuXG5cdFx0XHR0YWJsZS5maW5kKCAnLmZpbHRlcmVkLWRpc3RhbmNlLXNsaWRlcicgKVxuXHRcdFx0LnNsaWRlcigge1xuXHRcdFx0XHRhbmltYXRlOiB0cnVlLFxuXHRcdFx0XHRtYXg6IG1heFZhbHVlLFxuXHRcdFx0XHR2YWx1ZTogdGhhdC5maWx0ZXJWYWx1ZSxcblx0XHRcdFx0c3RlcDogcHJlY2lzaW9uIC8gMTAwXG5cdFx0XHR9IClcblx0XHRcdC5vbiggJ3NsaWRlY2hhbmdlJywgdW5kZWZpbmVkLCB7ICdmaWx0ZXInOiB0aGF0IH0sIGZ1bmN0aW9uICggZXZlbnRPYmplY3Q6IEpRdWVyeUV2ZW50T2JqZWN0LCB1aTogYW55ICkge1xuXHRcdFx0XHRldmVudE9iamVjdC5kYXRhLnVpID0gdWk7XG5cdFx0XHRcdGV2ZW50T2JqZWN0LmRhdGEuZmlsdGVyLm9uRmlsdGVyVXBkYXRlZCggZXZlbnRPYmplY3QgKTtcblx0XHRcdH0gKVxuXHRcdFx0Lm9uKCAnc2xpZGUnLCB1bmRlZmluZWQsIHsgJ2ZpbHRlcic6IHRoYXQgfSwgZnVuY3Rpb24gKCBldmVudE9iamVjdDogSlF1ZXJ5RXZlbnRPYmplY3QsIHVpOiBhbnkgKSB7XG5cdFx0XHRcdHJlYWRvdXQudGV4dCggdWkudmFsdWUgKTtcblx0XHRcdH0gKVxuXHRcdFx0LmZpbmQoICcudWktc2xpZGVyLWhhbmRsZScgKVxuXHRcdFx0LmFwcGVuZCggcmVhZG91dCApO1xuXG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZURpc3RhbmNlcyggb3JpZ2luOiBMLkxhdExuZ0xpdGVyYWwgKTogbnVtYmVyIHtcblxuXHRcdGxldCB2YWx1ZXMgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpO1xuXHRcdGxldCBtYXggPSAxO1xuXG5cdFx0bGV0IHBySWQgPSB0aGlzLnByaW50cmVxdWVzdElkO1xuXG5cdFx0Zm9yICggbGV0IHJvd0lkIGluIHZhbHVlcyApIHtcblxuXHRcdFx0aWYgKCB2YWx1ZXNbIHJvd0lkIF0uZGF0YS5oYXNPd25Qcm9wZXJ0eSggdGhpcy5maWx0ZXJJZCApICkge1xuXHRcdFx0XHRsZXQgZGlzdGFuY2VzOiBudW1iZXJbXSA9IHZhbHVlc1sgcm93SWQgXS5kYXRhWyB0aGlzLmZpbHRlcklkIF0ucG9zaXRpb25zLm1hcCggKCBwb3M6IEwuTGF0TG5nTGl0ZXJhbCApID0+IHRoaXMuZGlzdGFuY2UoIG9yaWdpbiwgcG9zICkgKTtcblx0XHRcdFx0bGV0IGRpc3QgPSBNYXRoLm1pbiggLi4uZGlzdGFuY2VzICk7XG5cblx0XHRcdFx0dmFsdWVzWyByb3dJZCBdLmRhdGFbIHRoaXMuZmlsdGVySWQgXS5kaXN0YW5jZSA9IGRpc3Q7XG5cdFx0XHRcdG1heCA9IE1hdGgubWF4KCBtYXgsIGRpc3QgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbHVlc1sgcm93SWQgXS5kYXRhWyB0aGlzLmZpbHRlcklkIF0uZGlzdGFuY2UgPSBJbmZpbml0eTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF4O1xuXHR9XG5cblx0cHVibGljIG9uRmlsdGVyVXBkYXRlZCggZXZlbnRPYmplY3Q6IEpRdWVyeUV2ZW50T2JqZWN0ICkge1xuXHRcdHRoaXMuZmlsdGVyVmFsdWUgPSBldmVudE9iamVjdC5kYXRhLnVpLnZhbHVlO1xuXHRcdHRoaXMuY29udHJvbGxlci5vbkZpbHRlclVwZGF0ZWQoIHRoaXMuZ2V0SWQoKSApO1xuXHR9XG5cblx0cHJpdmF0ZSBkaXN0YW5jZSggYTogTC5MYXRMbmdMaXRlcmFsLCBiOiBMLkxhdExuZ0xpdGVyYWwgKSB7XG5cblx0XHRjb25zdCBERUcyUkFEID0gTWF0aC5QSSAvIDE4MC4wO1xuXG5cdFx0ZnVuY3Rpb24gc3F1YXJlZCggeDogbnVtYmVyICkge1xuXHRcdFx0cmV0dXJuIHggKiB4XG5cdFx0fVxuXG5cdFx0bGV0IGYgPVxuXHRcdFx0c3F1YXJlZCggTWF0aC5zaW4oICggYi5sYXQgLSBhLmxhdCApICogREVHMlJBRCAvIDIuMCApICkgK1xuXHRcdFx0TWF0aC5jb3MoIGEubGF0ICogREVHMlJBRCApICogTWF0aC5jb3MoIGIubGF0ICogREVHMlJBRCApICpcblx0XHRcdHNxdWFyZWQoIE1hdGguc2luKCAoIGIubG5nIC0gYS5sbmcgKSAqIERFRzJSQUQgLyAyLjAgKSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFydGhSYWRpdXNWYWx1ZSAqIDIgKiBNYXRoLmF0YW4yKCBNYXRoLnNxcnQoIGYgKSwgTWF0aC5zcXJ0KCAxIC0gZiApICk7XG5cdH1cblxuXHRwdWJsaWMgaXNWaXNpYmxlKCByb3dJZDogc3RyaW5nICk6IGJvb2xlYW4ge1xuXG5cdFx0bGV0IHJvd2RhdGEgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpWyByb3dJZCBdLmRhdGE7XG5cblx0XHRpZiAoIHJvd2RhdGEuaGFzT3duUHJvcGVydHkoIHRoaXMuZmlsdGVySWQgKSApIHtcblx0XHRcdHJldHVybiByb3dkYXRhWyB0aGlzLmZpbHRlcklkIF0uZGlzdGFuY2UgPD0gdGhpcy5maWx0ZXJWYWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3VwZXIuaXNWaXNpYmxlKCByb3dJZCApO1xuXG5cdH1cblxufVxuIiwiaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuLi9Db250cm9sbGVyXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWx0ZXJ7XG5cblx0cHJpdmF0ZSBvdXRlclRhcmdldDogSlF1ZXJ5ID0gdW5kZWZpbmVkO1xuXHRwcm90ZWN0ZWQgdGFyZ2V0OiBKUXVlcnkgPSB1bmRlZmluZWQ7XG5cdHByb3RlY3RlZCBmaWx0ZXJJZDogc3RyaW5nO1xuXHRwcm90ZWN0ZWQgcHJpbnRyZXF1ZXN0SWQ6IHN0cmluZztcblx0cHJvdGVjdGVkIGNvbnRyb2xsZXI6IENvbnRyb2xsZXI7XG5cdHByb3RlY3RlZCBvcHRpb25zOiBPcHRpb25zID0gdW5kZWZpbmVkO1xuXHRwcm90ZWN0ZWQgZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJvdGVjdGVkIGNvbGxhcHNlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvciggZmlsdGVySWQ6IHN0cmluZywgdGFyZ2V0OiBKUXVlcnksIHByaW50cmVxdWVzdElkOiBzdHJpbmcsIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsIG9wdGlvbnM/OiBPcHRpb25zICkge1xuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXHRcdHRoaXMub3V0ZXJUYXJnZXQgPSB0YXJnZXQ7XG5cdFx0dGhpcy5maWx0ZXJJZCA9IGZpbHRlcklkO1xuXHRcdHRoaXMucHJpbnRyZXF1ZXN0SWQgPSBwcmludHJlcXVlc3RJZDtcblx0XHR0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdH1cblxuXHRwdWJsaWMgaW5pdCgpIHt9O1xuXG5cdHB1YmxpYyBpc0Rpc2FibGVkKCkgOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5kaXNhYmxlZDtcblx0fVxuXG5cdHB1YmxpYyBkaXNhYmxlKCkge1xuXHRcdHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuXG5cdFx0dGhpcy5vdXRlclRhcmdldFxuXHRcdC5yZW1vdmVDbGFzcyggJ2VuYWJsZWQnIClcblx0XHQuYWRkQ2xhc3MoICdkaXNhYmxlZCcgKTtcblxuXHRcdHRoaXMuY29sbGFwc2UoKTtcblxuXHRcdHRoaXMudGFyZ2V0LnByb21pc2UoKS50aGVuKCAoKSA9Plx0dGhpcy5jb250cm9sbGVyLm9uRmlsdGVyVXBkYXRlZCggdGhpcy5maWx0ZXJJZCApICk7XG5cdH1cblxuXHRwdWJsaWMgZW5hYmxlKCkge1xuXHRcdHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcblxuXHRcdHRoaXMub3V0ZXJUYXJnZXRcblx0XHQucmVtb3ZlQ2xhc3MoICdkaXNhYmxlZCcgKVxuXHRcdC5hZGRDbGFzcyggJ2VuYWJsZWQnICk7XG5cblx0XHRpZiAoICEgdGhpcy5jb2xsYXBzZWQgKSB7XG5cdFx0XHR0aGlzLnVuY29sbGFwc2UoKTtcblx0XHR9XG5cblx0XHR0aGlzLnRhcmdldC5wcm9taXNlKCkudGhlbiggKCkgPT5cdHRoaXMuY29udHJvbGxlci5vbkZpbHRlclVwZGF0ZWQoIHRoaXMuZmlsdGVySWQgKSApO1xuXHR9XG5cblx0cHJpdmF0ZSBjb2xsYXBzZSggZHVyYXRpb24gOiBudW1iZXIgPSA0MDAgKSB7XG5cblx0XHRpZiAoICEgdGhpcy5jb2xsYXBzZWQgKSB7XG5cblx0XHRcdHRoaXMub3V0ZXJUYXJnZXQucHJvbWlzZSgpXG5cdFx0XHQudGhlbiggKCkgPT4ge1xuXG5cdFx0XHRcdHRoaXMudGFyZ2V0LnNsaWRlVXAoIGR1cmF0aW9uICk7XG5cblx0XHRcdFx0dGhpcy5vdXRlclRhcmdldC5hbmltYXRlKCB7XG5cdFx0XHRcdFx0J3BhZGRpbmctdG9wJzogMCxcblx0XHRcdFx0XHQncGFkZGluZy1ib3R0b20nOiAwLFxuXHRcdFx0XHRcdCdtYXJnaW4tYm90dG9tJzogJzJlbSdcblx0XHRcdFx0fSwgZHVyYXRpb24gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHVuY29sbGFwc2UoKSB7XG5cdFx0dGhpcy5vdXRlclRhcmdldC5wcm9taXNlKClcblx0XHQudGhlbiggKCkgPT4ge1xuXHRcdFx0dGhpcy50YXJnZXQuc2xpZGVEb3duKCk7XG5cblx0XHRcdGxldCBzdHlsZSA9IHRoaXMub3V0ZXJUYXJnZXQuYXR0ciggJ3N0eWxlJyApO1xuXHRcdFx0dGhpcy5vdXRlclRhcmdldC5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XG5cdFx0XHRsZXQgdW5jb2xsYXBzZWRDc3MgPSB0aGlzLm91dGVyVGFyZ2V0LmNzcyggWyAncGFkZGluZy10b3AnLCAncGFkZGluZy1ib3R0b20nLCAnbWFyZ2luLWJvdHRvbScgXSApO1xuXHRcdFx0dGhpcy5vdXRlclRhcmdldC5hdHRyKCAnc3R5bGUnLCBzdHlsZSApO1xuXG5cdFx0XHR0aGlzLm91dGVyVGFyZ2V0LmFuaW1hdGUoIHVuY29sbGFwc2VkQ3NzICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cHVibGljIGlzVmlzaWJsZSggcm93SWQ6IHN0cmluZyApOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCAnc2hvdyBpZiB1bmRlZmluZWQnICkgJiYgdGhpcy5vcHRpb25zWyAnc2hvdyBpZiB1bmRlZmluZWQnIF0gPT09IHRydWU7XG5cdH1cblxuXHRwdWJsaWMgZ2V0SWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVySWQ7XG5cdH1cblxuXHRwcm90ZWN0ZWQgYnVpbGRFbXB0eUNvbnRyb2woKSB7XG5cblx0XHR0aGlzLnRhcmdldCA9ICQoICc8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtZmlsdGVyLWNvbnRhaW5lclwiPicgKTtcblxuXHRcdHRoaXMub3V0ZXJUYXJnZXRcblx0XHQuYXBwZW5kKCB0aGlzLnRhcmdldCApXG5cdFx0LmFkZENsYXNzKCAnZW5hYmxlZCcgKTtcblxuXHRcdHRoaXMuYWRkT25PZmZTd2l0Y2goKTtcblx0XHR0aGlzLmFkZExhYmVsKCk7XG5cdFx0dGhpcy5hZGRDb250cm9sRm9yQ29sbGFwc2luZygpO1xuXG5cdFx0cmV0dXJuIHRoaXMudGFyZ2V0O1xuXHR9XG5cblx0cHJpdmF0ZSBhZGRMYWJlbCgpIHtcblx0XHQvLyBpbnNlcnQgdGhlIGxhYmVsIG9mIHRoZSBwcmludG91dCB0aGlzIGZpbHRlciBmaWx0ZXJzIG9uXG5cdFx0dGhpcy50YXJnZXQuYmVmb3JlKCBgPGRpdiBjbGFzcz1cImZpbHRlcmVkLWZpbHRlci1sYWJlbFwiPiR7dGhpcy5vcHRpb25zWyAnbGFiZWwnIF19PC9kaXY+YCApO1xuXHR9XG5cblx0cHJvdGVjdGVkIGFkZE9uT2ZmU3dpdGNoKCkge1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICdzd2l0Y2hlcycgKSApIHtcblxuXHRcdFx0bGV0IHN3aXRjaGVzID0gdGhpcy5vcHRpb25zWyAnc3dpdGNoZXMnIF07XG5cblx0XHRcdGlmICggc3dpdGNoZXMubGVuZ3RoID4gMCAmJiAkLmluQXJyYXkoICdvbiBvZmYnLCBzd2l0Y2hlcyApID49IDAgKSB7XG5cblx0XHRcdFx0bGV0IG9uT2ZmQ29udHJvbCA9ICQoIGA8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtZmlsdGVyLW9ub2ZmIG9uXCI+PC9kaXY+YCApO1xuXG5cdFx0XHRcdHRoaXMudGFyZ2V0LmJlZm9yZSggb25PZmZDb250cm9sICk7XG5cblx0XHRcdFx0b25PZmZDb250cm9sLmNsaWNrKCAoKSA9PiB7XG5cblx0XHRcdFx0XHRpZiAoIHRoaXMub3V0ZXJUYXJnZXQuaGFzQ2xhc3MoJ2VuYWJsZWQnICkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc2FibGUoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5lbmFibGUoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByb3RlY3RlZCBhZGRDb250cm9sRm9yQ29sbGFwc2luZygpIHtcblx0XHRsZXQgY29sbGFwc2libGUgPSB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICdjb2xsYXBzaWJsZScgKSA/IHRoaXMub3B0aW9uc1sgJ2NvbGxhcHNpYmxlJyBdIDogdW5kZWZpbmVkO1xuXHRcdGlmICggY29sbGFwc2libGUgPT09ICdjb2xsYXBzZWQnIHx8IGNvbGxhcHNpYmxlID09PSAndW5jb2xsYXBzZWQnICkge1xuXG5cdFx0XHRsZXQgY29sbGFwc2VDb250cm9sID0gJCggJzxzcGFuIGNsYXNzPVwiZmlsdGVyZWQtZmlsdGVyLWNvbGxhcHNlXCI+JyApO1xuXG5cdFx0XHR0aGlzLnRhcmdldC5iZWZvcmUoIGNvbGxhcHNlQ29udHJvbCApO1xuXG5cdFx0XHRjb2xsYXBzZUNvbnRyb2wuY2xpY2soICgpID0+IHtcblx0XHRcdFx0aWYgKCBjb2xsYXBzZUNvbnRyb2wuaGFzQ2xhc3MoICdjb2xsYXBzZWQnICkgKSB7XG5cdFx0XHRcdFx0dGhpcy51bmNvbGxhcHNlKCk7XG5cdFx0XHRcdFx0dGhpcy5jb2xsYXBzZWQgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGNvbGxhcHNlQ29udHJvbFxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggJ2NvbGxhcHNlZCcgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggJ3VuY29sbGFwc2VkJyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuY29sbGFwc2UoKTtcblx0XHRcdFx0XHR0aGlzLmNvbGxhcHNlZCA9IHRydWU7XG5cblx0XHRcdFx0XHRjb2xsYXBzZUNvbnRyb2xcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoICd1bmNvbGxhcHNlZCcgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggJ2NvbGxhcHNlZCcgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdGlmICggY29sbGFwc2libGUgPT09ICdjb2xsYXBzZWQnICkge1xuXG5cdFx0XHRcdHRoaXMuY29sbGFwc2UoIDAgKTtcblx0XHRcdFx0dGhpcy5jb2xsYXBzZWQgPSB0cnVlO1xuXHRcdFx0XHRjb2xsYXBzZUNvbnRyb2wuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb2xsYXBzZUNvbnRyb2wuYWRkQ2xhc3MoJ3VuY29sbGFwc2VkJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cbn0iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHR5cGVzL2lvbi5yYW5nZXNsaWRlci9pbmRleC5kLnRzXCIvPlxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyXCI7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbmRlY2xhcmUgbGV0IG13OiBhbnk7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuXG5cdHByaXZhdGUgTU9ERV9SQU5HRSA9IDA7XG5cdHByaXZhdGUgTU9ERV9NSU4gPSAxO1xuXHRwcml2YXRlIE1PREVfTUFYID0gMjtcblx0cHJpdmF0ZSBNT0RFX1NFTEVDVCA9IDM7XG5cblx0cHJpdmF0ZSBmaWx0ZXJWYWx1ZVVwcGVyOiBudW1iZXIgPSAwO1xuXHRwcml2YXRlIGZpbHRlclZhbHVlTG93ZXI6IG51bWJlciA9IDA7XG5cdHByaXZhdGUgbW9kZSA9IHRoaXMuTU9ERV9SQU5HRTtcblxuXHRwdWJsaWMgaW5pdCgpIHtcblxuXHRcdGxldCB2YWx1ZXM6IG51bWJlcltdID0gdGhpcy5nZXRWYWx1ZXMoKTtcblxuXHRcdGxldCB7IG1pblZhbHVlLCBtYXhWYWx1ZSwgcHJlY2lzaW9uIH0gPSB0aGlzLmdldFJhbmdlUGFyYW1ldGVycyggdmFsdWVzICk7XG5cblx0XHRsZXQgc2xpZGVyT3B0aW9uczogSW9uUmFuZ2VTbGlkZXJPcHRpb25zID0ge1xuXHRcdFx0cHJldHRpZnlfZW5hYmxlZDogZmFsc2UsXG5cdFx0XHRmb3JjZV9lZGdlczogdHJ1ZSxcblx0XHRcdGdyaWQ6IHRydWVcblx0XHR9O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICd2YWx1ZXMnICkgKSB7XG5cdFx0XHRzbGlkZXJPcHRpb25zID0gdGhpcy5hZGp1c3RTbGlkZXJPcHRpb25zRnJvbVZhbHVlcyggc2xpZGVyT3B0aW9ucywgdmFsdWVzICk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0c2xpZGVyT3B0aW9ucyA9IHRoaXMuYWRqdXN0U2xpZGVyT3B0aW9uc0Zyb21SYW5nZVBhcmFtZXRlcnMoIHNsaWRlck9wdGlvbnMsIG1pblZhbHVlLCBtYXhWYWx1ZSwgcHJlY2lzaW9uICk7XG5cdFx0fVxuXG5cdFx0c3dpdGNoKCB0aGlzLm9wdGlvbnNbICdzbGlkZXJzJyBdICkge1xuXG5cdFx0XHRjYXNlIFwibWluXCI6XG5cblx0XHRcdFx0dGhpcy5tb2RlID0gdGhpcy5NT0RFX01JTjtcblx0XHRcdFx0c2xpZGVyT3B0aW9ucy50eXBlID0gJ3NpbmdsZSc7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFwibWF4XCI6XG5cblx0XHRcdFx0dGhpcy5tb2RlID0gdGhpcy5NT0RFX01BWDtcblx0XHRcdFx0c2xpZGVyT3B0aW9ucy5mcm9tID0gc2xpZGVyT3B0aW9ucy50bztcblx0XHRcdFx0c2xpZGVyT3B0aW9ucy50eXBlID0gJ3NpbmdsZSc7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFwic2VsZWN0XCI6XG5cblx0XHRcdFx0dGhpcy5tb2RlID0gdGhpcy5NT0RFX1NFTEVDVDtcblx0XHRcdFx0bWF4VmFsdWUgPSBtaW5WYWx1ZTtcblx0XHRcdFx0c2xpZGVyT3B0aW9ucy50eXBlID0gJ3NpbmdsZSc7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OiAvLyA9PSBjYXNlIFwicmFuZ2VcIlxuXG5cdFx0XHRcdHRoaXMubW9kZSA9IHRoaXMuTU9ERV9SQU5HRTtcblx0XHRcdFx0c2xpZGVyT3B0aW9ucy50eXBlID0gJ2RvdWJsZSc7XG5cdFx0fVxuXG5cdFx0dGhpcy5idWlsZEZpbHRlckNvbnRyb2xzKCBzbGlkZXJPcHRpb25zICk7XG5cblx0XHR0aGlzLmZpbHRlclZhbHVlTG93ZXIgPSBtaW5WYWx1ZTtcblx0XHR0aGlzLmZpbHRlclZhbHVlVXBwZXIgPSBtYXhWYWx1ZTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHJpdmF0ZSBhZGp1c3RTbGlkZXJPcHRpb25zRnJvbVJhbmdlUGFyYW1ldGVycyggc2xpZGVyT3B0aW9uczogSW9uUmFuZ2VTbGlkZXJPcHRpb25zLCBtaW5WYWx1ZTogbnVtYmVyLCBtYXhWYWx1ZTogbnVtYmVyLCBwcmVjaXNpb246IG51bWJlciApIHtcblxuXHRcdHNsaWRlck9wdGlvbnMubWluID0gbWluVmFsdWU7XG5cdFx0c2xpZGVyT3B0aW9ucy5tYXggPSBtYXhWYWx1ZTtcblx0XHRzbGlkZXJPcHRpb25zLnN0ZXAgPSB0aGlzLmdldFN0ZXAoIHByZWNpc2lvbiApO1xuXHRcdHNsaWRlck9wdGlvbnMuZ3JpZF9udW0gPSBNYXRoLm1pbiggNCwgTWF0aC5yb3VuZCggKCBtYXhWYWx1ZSAtIG1pblZhbHVlICkgLyBzbGlkZXJPcHRpb25zLnN0ZXAgKSApO1xuXG5cdFx0c2xpZGVyT3B0aW9ucy5mcm9tID0gbWluVmFsdWU7XG5cdFx0c2xpZGVyT3B0aW9ucy50byA9IG1heFZhbHVlO1xuXG5cdFx0c2xpZGVyT3B0aW9ucy5vbkZpbmlzaCA9ICggZGF0YTogSW9uUmFuZ2VTbGlkZXJFdmVudCApID0+IHRoaXMub25GaWx0ZXJVcGRhdGVkKCBkYXRhLmZyb20sIGRhdGEudG8gKTtcblxuXHRcdHJldHVybiBzbGlkZXJPcHRpb25zO1xuXHR9XG5cblx0cHJpdmF0ZSBhZGp1c3RTbGlkZXJPcHRpb25zRnJvbVZhbHVlcyggc2xpZGVyT3B0aW9uczogSW9uUmFuZ2VTbGlkZXJPcHRpb25zLCB2YWx1ZXM6IG51bWJlcltdICkge1xuXG5cdFx0c2xpZGVyT3B0aW9ucy52YWx1ZXMgPSB2YWx1ZXM7XG5cblx0XHRzbGlkZXJPcHRpb25zLmZyb20gPSAwO1xuXHRcdHNsaWRlck9wdGlvbnMudG8gPSB2YWx1ZXMubGVuZ3RoIC0gMTtcblxuXHRcdHNsaWRlck9wdGlvbnMub25GaW5pc2ggPSAoIGRhdGE6IElvblJhbmdlU2xpZGVyRXZlbnQgKSA9PiB0aGlzLm9uRmlsdGVyVXBkYXRlZCggZGF0YS5mcm9tX3ZhbHVlLCBkYXRhLnRvX3ZhbHVlICk7XG5cblx0XHRyZXR1cm4gc2xpZGVyT3B0aW9ucztcblx0fVxuXG5cdHByaXZhdGUgZ2V0UmFuZ2VQYXJhbWV0ZXJzKCB2YWx1ZXM6IG51bWJlcltdICkge1xuXG5cdFx0bGV0IG1pblZhbHVlID0gdmFsdWVzWyAwIF07XG5cdFx0bGV0IG1heFZhbHVlID0gdmFsdWVzWyB2YWx1ZXMubGVuZ3RoIC0gMSBdO1xuXHRcdGxldCBwcmVjaXNpb246IG51bWJlciA9IHRoaXMuZ2V0UHJlY2lzaW9uKCBtaW5WYWx1ZSwgbWF4VmFsdWUgKTtcblxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSggJ3ZhbHVlcycgKSApIHtcblx0XHRcdG1pblZhbHVlID0gdGhpcy5nZXRNaW5TbGlkZXJWYWx1ZSggbWluVmFsdWUsIHByZWNpc2lvbiApO1xuXHRcdFx0bWF4VmFsdWUgPSB0aGlzLmdldE1heFNsaWRlclZhbHVlKCBtYXhWYWx1ZSwgcHJlY2lzaW9uICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgbWluVmFsdWUsIG1heFZhbHVlLCBwcmVjaXNpb24gfTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0VmFsdWVzKCk6IG51bWJlcltdIHtcblx0XHRsZXQgdmFsdWVzOiBudW1iZXJbXTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSggJ3ZhbHVlcycgKSAmJiB0aGlzLm9wdGlvbnNbICd2YWx1ZXMnIF1bMF0gIT09ICdhdXRvJyApIHtcblx0XHRcdHZhbHVlcyA9ICB0aGlzLm9wdGlvbnNbICd2YWx1ZXMnIF1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsdWVzID0gIHRoaXMuZ2V0U29ydGVkVmFsdWVzKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZXMubGVuZ3RoID09PSAwICkge1xuXHRcdFx0dmFsdWVzID0gWyAwLCAwIF07XG5cdFx0fSBlbHNlIGlmICggdmFsdWVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZXM7XG5cdH1cblxuXHRwcml2YXRlIGJ1aWxkRmlsdGVyQ29udHJvbHMoIHNsaWRlck9wdGlvbnM6IElvblJhbmdlU2xpZGVyT3B0aW9ucyApIHtcblxuXHRcdGxldCBmaWx0ZXJDbGFzc05hbWVzOiBhbnkgPSB7fTtcblx0XHRmaWx0ZXJDbGFzc05hbWVzWyB0aGlzLk1PREVfTUlOLnRvU3RyaW5nKCkgXSA9IFwibW9kZS1taW5cIjtcblx0XHRmaWx0ZXJDbGFzc05hbWVzWyB0aGlzLk1PREVfTUFYIF0gPSBcIm1vZGUtbWF4XCI7XG5cdFx0ZmlsdGVyQ2xhc3NOYW1lc1sgdGhpcy5NT0RFX1JBTkdFIF0gPSBcIm1vZGUtcmFuZ2VcIjtcblx0XHRmaWx0ZXJDbGFzc05hbWVzWyB0aGlzLk1PREVfU0VMRUNUIF0gPSBcIm1vZGUtc2VsZWN0XCI7XG5cblx0XHRsZXQgZmlsdGVyY29udHJvbHMgPSB0aGlzLmJ1aWxkRW1wdHlDb250cm9sKCk7XG5cblx0XHRsZXQgc2xpZGVyID0gJCggJzxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiXCIgLz4nICk7XG5cdFx0bGV0IHNsaWRlckNvbnRhaW5lciA9ICQoIGA8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtbnVtYmVyLXNsaWRlciAke2ZpbHRlckNsYXNzTmFtZXNbIHRoaXMubW9kZSBdfVwiIC8+YCApLmFwcGVuZCggc2xpZGVyICk7XG5cdFx0ZmlsdGVyY29udHJvbHMuYXBwZW5kKCBzbGlkZXJDb250YWluZXIgKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCAnY2FwdGlvbicgKSApIHtcblx0XHRcdGxldCBjYXB0aW9uID0gYDxkaXYgY2xhc3M9XCJmaWx0ZXJlZC1udW1iZXItY2FwdGlvblwiPiR7dGhpcy5vcHRpb25zWyAnY2FwdGlvbicgXX08L2Rpdj5gO1xuXHRcdFx0ZmlsdGVyY29udHJvbHMuYXBwZW5kKCBjYXB0aW9uICk7XG5cdFx0fVxuXG5cdFx0bXcubG9hZGVyLnVzaW5nKCAnZXh0LnNyZi5maWx0ZXJlZC5zbGlkZXInICkudGhlbiggKCkgPT4gc2xpZGVyLmlvblJhbmdlU2xpZGVyKCBzbGlkZXJPcHRpb25zICkgKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0TWluU2xpZGVyVmFsdWUoIG1pblZhbHVlOiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyICkge1xuXHRcdGxldCByZXF1ZXN0ZWRNaW4gPSB0aGlzLm9wdGlvbnNbICdtaW4nIF07XG5cblx0XHRpZiAoIHJlcXVlc3RlZE1pbiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKCBOdW1iZXIoIHJlcXVlc3RlZE1pbiApICkgKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5mbG9vciggbWluVmFsdWUgLyBwcmVjaXNpb24gKSAqIHByZWNpc2lvbjtcblx0XHR9XG5cblx0XHRyZXR1cm4gTWF0aC5taW4oIHJlcXVlc3RlZE1pbiwgbWluVmFsdWUgKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0TWF4U2xpZGVyVmFsdWUoIG1heFZhbHVlOiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyICkge1xuXHRcdGxldCByZXF1ZXN0ZWRNYXggPSB0aGlzLm9wdGlvbnNbICdtYXgnIF07XG5cblx0XHRpZiAoIHJlcXVlc3RlZE1heCA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKCBOdW1iZXIoIHJlcXVlc3RlZE1heCApICkgKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5jZWlsKCBtYXhWYWx1ZSAvIHByZWNpc2lvbiApICogcHJlY2lzaW9uO1xuXHRcdH1cblxuXHRcdHJldHVybiBNYXRoLm1heCggcmVxdWVzdGVkTWF4LCBtYXhWYWx1ZSApO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRQcmVjaXNpb24oIG1pblZhbHVlOiBudW1iZXIsIG1heFZhbHVlOiBudW1iZXIgKTogbnVtYmVyIHtcblx0XHRpZiAoIG1heFZhbHVlIC0gbWluVmFsdWUgPiAwICkge1xuXHRcdFx0cmV0dXJuIDEwICoqICggTWF0aC5mbG9vciggTWF0aC5sb2coIG1heFZhbHVlIC0gbWluVmFsdWUgKSAqIE1hdGguTE9HMTBFICkgLSAxICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAxO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZ2V0U3RlcCggcHJlY2lzaW9uOiBudW1iZXIgKTogbnVtYmVyIHtcblxuXHRcdGxldCBzdGVwID0gdGhpcy5vcHRpb25zWyAnc3RlcCcgXTtcblxuXHRcdGlmICggc3RlcCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRzdGVwID0gTnVtYmVyKCBzdGVwICk7XG5cblx0XHRcdGlmICggIWlzTmFOKCBzdGVwICkgKSB7XG5cdFx0XHRcdHJldHVybiBzdGVwO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBwcmVjaXNpb24gLyAxMDtcblx0fVxuXG5cdHByaXZhdGUgZ2V0UmFuZ2VGcm9tVmFsdWVzKCk6IFsgbnVtYmVyLCBudW1iZXIgXSB7XG5cblx0XHRsZXQgcm93cyA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKCk7XG5cdFx0bGV0IG1pbiA9IEluZmluaXR5O1xuXHRcdGxldCBtYXggPSAtSW5maW5pdHk7XG5cblx0XHRmb3IgKCBsZXQgcm93SWQgaW4gcm93cyApIHtcblxuXHRcdFx0aWYgKCByb3dzWyByb3dJZCBdLmRhdGEuaGFzT3duUHJvcGVydHkoIHRoaXMuZmlsdGVySWQgKSApIHtcblx0XHRcdFx0bGV0IHZhbHVlczogbnVtYmVyW10gPSByb3dzWyByb3dJZCBdLmRhdGFbIHRoaXMuZmlsdGVySWQgXS52YWx1ZXM7XG5cdFx0XHRcdG1pbiA9IE1hdGgubWluKCBtaW4sIC4uLnZhbHVlcyApO1xuXHRcdFx0XHRtYXggPSBNYXRoLm1heCggbWF4LCAuLi52YWx1ZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gWyBtaW4sIG1heCBdO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRTb3J0ZWRWYWx1ZXMoKTogbnVtYmVyW10ge1xuXG5cdFx0bGV0IHZhbHVlQXJyYXk6IG51bWJlcltdID0gW107XG5cdFx0bGV0IHJvd3MgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpO1xuXG5cdFx0Zm9yICggbGV0IHJvd0lkIGluIHJvd3MgKSB7XG5cblx0XHRcdGxldCBjZWxscyA9IHJvd3NbIHJvd0lkIF0uZGF0YTtcblxuXHRcdFx0aWYgKCBjZWxscy5oYXNPd25Qcm9wZXJ0eSggdGhpcy5maWx0ZXJJZCApICkge1xuXG5cdFx0XHRcdGxldCB2YWx1ZXMgPSBjZWxsc1sgdGhpcy5maWx0ZXJJZCBdLnZhbHVlcztcblxuXHRcdFx0XHRmb3IgKCBsZXQgdmFsdWVJZCBpbiB2YWx1ZXMgKSB7XG5cblx0XHRcdFx0XHRsZXQgdmFsdWUgPSBOdW1iZXIoIHZhbHVlc1sgdmFsdWVJZCBdICk7XG5cblx0XHRcdFx0XHRpZiAoIHZhbHVlQXJyYXkuaW5kZXhPZiggdmFsdWUgKSA9PT0gLTEgKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZUFycmF5LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlQXJyYXkuc29ydCggKCBhOiBhbnksIGI6IGFueSApID0+IGEgLSBiICk7XG5cdH1cblxuXHRwdWJsaWMgb25GaWx0ZXJVcGRhdGVkKCBmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIgKSB7XG5cblx0XHRzd2l0Y2ggKCB0aGlzLm1vZGUgKSB7XG5cblx0XHRcdGNhc2UgdGhpcy5NT0RFX01JTjpcblxuXHRcdFx0XHR0aGlzLmZpbHRlclZhbHVlTG93ZXIgPSBmcm9tO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSB0aGlzLk1PREVfTUFYOlxuXG5cdFx0XHRcdHRoaXMuZmlsdGVyVmFsdWVVcHBlciA9IGZyb207XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIHRoaXMuTU9ERV9TRUxFQ1Q6XG5cblx0XHRcdFx0dGhpcy5maWx0ZXJWYWx1ZUxvd2VyID0gZnJvbTtcblx0XHRcdFx0dGhpcy5maWx0ZXJWYWx1ZVVwcGVyID0gZnJvbTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6IC8vIGNhc2UgdGhpcy5NT0RFX1JBTkdFOlxuXG5cdFx0XHRcdHRoaXMuZmlsdGVyVmFsdWVMb3dlciA9IGZyb207XG5cdFx0XHRcdHRoaXMuZmlsdGVyVmFsdWVVcHBlciA9IHRvO1xuXHRcdH1cblxuXHRcdHRoaXMuY29udHJvbGxlci5vbkZpbHRlclVwZGF0ZWQoIHRoaXMuZ2V0SWQoKSApO1xuXHR9XG5cblx0cHVibGljIGlzVmlzaWJsZSggcm93SWQ6IHN0cmluZyApOiBib29sZWFuIHtcblx0XHRsZXQgcm93ZGF0YSA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKClbIHJvd0lkIF0uZGF0YTtcblxuXHRcdGlmICggcm93ZGF0YS5oYXNPd25Qcm9wZXJ0eSggdGhpcy5maWx0ZXJJZCApICYmIHJvd2RhdGFbIHRoaXMuZmlsdGVySWQgXS52YWx1ZXMubGVuZ3RoID4gMCApIHtcblxuXHRcdFx0Zm9yICggbGV0IHZhbHVlIG9mIHJvd2RhdGFbIHRoaXMuZmlsdGVySWQgXS52YWx1ZXMgKSB7XG5cdFx0XHRcdGlmICggdmFsdWUgPj0gdGhpcy5maWx0ZXJWYWx1ZUxvd2VyICYmIHZhbHVlIDw9IHRoaXMuZmlsdGVyVmFsdWVVcHBlciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN1cGVyLmlzVmlzaWJsZSggcm93SWQgKTtcblx0fVxuXG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi9GaWx0ZXJcIjtcbmltcG9ydCB7IElkVGV4dFBhaXIgfSBmcm9tIFwic2VsZWN0MlwiO1xuXG5kZWNsYXJlIGxldCBtdzogYW55O1xuXG5leHBvcnQgY2xhc3MgVmFsdWVGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuXG5cdHByaXZhdGUgdmFsdWVzOiBhbnkgPSB7fTtcblx0cHJpdmF0ZSB2aXNpYmxlVmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdHByaXZhdGUgX3VzZU9yID0gdHJ1ZTtcblxuXHRwdWJsaWMgaW5pdCgpIHtcblx0XHR0aGlzLnZhbHVlcyA9IHRoaXMuZ2V0U29ydGVkVmFsdWVzKCk7XG5cdFx0dGhpcy5idWlsZENvbnRyb2woKTtcblx0fVxuXG5cdHB1YmxpYyB1c2VPciggdXNlT3I6IGJvb2xlYW4gKSB7XG5cdFx0dGhpcy5fdXNlT3IgPSB1c2VPcjtcblx0XHR0aGlzLmNvbnRyb2xsZXIub25GaWx0ZXJVcGRhdGVkKCB0aGlzLmdldElkKCkgKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0U29ydGVkVmFsdWVzKCk6IGFueSB7XG5cblx0XHQvKiogTWFwIG9mIHZhbHVlID0+IGxhYmVsIGRpc3RpbmN0IHZhbHVlcyAqL1xuXHRcdGxldCBkaXN0aW5jdFZhbHVlczogYW55ID0ge307XG5cdFx0LyoqIE1hcCBvZiB2YWx1ZSA9PiBzb3J0IHZhbHVlIGRpc3RpbmN0IHZhbHVlcyAqL1xuXHRcdGxldCBkaXN0aW5jdFNvcnRWYWx1ZXM6IGFueSA9IHt9O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICd2YWx1ZXMnICkgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnNbICd2YWx1ZXMnIF0ubWFwKFxuXHRcdFx0XHQoIGl0ZW06IHN0cmluZyApID0+IHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0cHJpbnRvdXRWYWx1ZTogaXRlbSxcblx0XHRcdFx0XHRcdGZvcm1hdHRlZFZhbHVlOiBpdGVtXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBidWlsZCBmaWx0ZXIgdmFsdWVzIGZyb20gYXZhaWxhYmxlIHZhbHVlcyBpbiByZXN1bHQgc2V0XG5cdFx0XHRsZXQgZGF0YSA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKCk7XG5cdFx0XHRsZXQgc29ydGVkRW50cmllczogYW55W10gPSBbXTtcblx0XHRcdGZvciAoIGxldCBpZCBpbiBkYXRhICkge1xuXG5cdFx0XHRcdGxldCBwcmludG91dFZhbHVlczogYW55ID0gZGF0YVsgaWQgXVsgJ3ByaW50b3V0cycgXVsgdGhpcy5wcmludHJlcXVlc3RJZCBdWyAndmFsdWVzJyBdO1xuXHRcdFx0XHRsZXQgcHJpbnRvdXRGb3JtYXR0ZWRWYWx1ZXMgPSBkYXRhWyBpZCBdWyAncHJpbnRvdXRzJyBdWyB0aGlzLnByaW50cmVxdWVzdElkIF1bICdmb3JtYXR0ZWQgdmFsdWVzJyBdO1xuXHRcdFx0XHRsZXQgcHJpbnRvdXRTb3J0VmFsdWVzOiBhbnkgPSBkYXRhWyBpZCBdWyAncHJpbnRvdXRzJyBdWyB0aGlzLnByaW50cmVxdWVzdElkIF1bICdzb3J0IHZhbHVlcycgXTtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaSBpbiBwcmludG91dFZhbHVlcyApIHtcblx0XHRcdFx0XHRsZXQgcHJpbnRvdXRGb3JtYXR0ZWRWYWx1ZSA9IHByaW50b3V0Rm9ybWF0dGVkVmFsdWVzWyBpIF07XG5cblx0XHRcdFx0XHRpZiAoIHByaW50b3V0Rm9ybWF0dGVkVmFsdWUuaW5kZXhPZiggJzxhJyApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRwcmludG91dEZvcm1hdHRlZFZhbHVlID0gLzxhLio+KC4qPyk8XFwvYT4vLmV4ZWMoIHByaW50b3V0Rm9ybWF0dGVkVmFsdWUgKVsgMSBdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGRpc3RpbmN0VmFsdWVzWyBwcmludG91dFZhbHVlc1sgaSBdIF0gPSBwcmludG91dEZvcm1hdHRlZFZhbHVlO1xuXHRcdFx0XHRcdGRpc3RpbmN0U29ydFZhbHVlc1sgcHJpbnRvdXRWYWx1ZXNbIGkgXSBdID0gcHJpbnRvdXRTb3J0VmFsdWVzWyBpIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBsZXQgcHJpbnRvdXRWYWx1ZSBpbiBkaXN0aW5jdFNvcnRWYWx1ZXMgKSB7XG5cdFx0XHRcdHNvcnRlZEVudHJpZXMucHVzaCgge1xuXHRcdFx0XHRcdHByaW50b3V0VmFsdWU6IHByaW50b3V0VmFsdWUsXG5cdFx0XHRcdFx0c29ydFZhbHVlOiBkaXN0aW5jdFNvcnRWYWx1ZXNbIHByaW50b3V0VmFsdWUgXSxcblx0XHRcdFx0XHRmb3JtYXR0ZWRWYWx1ZTogZGlzdGluY3RWYWx1ZXNbIHByaW50b3V0VmFsdWUgXVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdHNvcnRlZEVudHJpZXMuc29ydChcblx0XHRcdFx0KCBhOiBhbnksIGI6IGFueSApID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gYS5zb3J0VmFsdWUubG9jYWxlQ29tcGFyZSggYi5zb3J0VmFsdWUgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHNvcnRlZEVudHJpZXM7XG5cblx0XHR9XG5cblx0fVxuXG5cdHByaXZhdGUgYnVpbGRDb250cm9sKCkge1xuXG5cdFx0bGV0IGZpbHRlcmNvbnRyb2xzID0gdGhpcy5idWlsZEVtcHR5Q29udHJvbCgpO1xuXG5cdFx0ZmlsdGVyY29udHJvbHMgPSB0aGlzLmFkZENvbnRyb2xGb3JTd2l0Y2hlcyggZmlsdGVyY29udHJvbHMgKTtcblxuXHRcdGxldCBtYXhDaGVja2JveGVzID0gdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCAnbWF4IGNoZWNrYm94ZXMnICkgPyB0aGlzLm9wdGlvbnNbICdtYXggY2hlY2tib3hlcycgXSA6IDU7XG5cblx0XHRpZiAoIHRoaXMudmFsdWVzLmxlbmd0aCA+IG1heENoZWNrYm94ZXMgKSB7XG5cdFx0XHRmaWx0ZXJjb250cm9scy5hcHBlbmQoIHRoaXMuZ2V0U2VsZWN0ZWQyQ29udHJvbCgpICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZpbHRlcmNvbnRyb2xzLmFwcGVuZCggdGhpcy5nZXRDaGVja2JveGVzQ29udHJvbCgpICk7XG5cdFx0fVxuXG5cdH1cblxuXHRwcml2YXRlIGdldENoZWNrYm94ZXNDb250cm9sKCkge1xuXG5cdFx0bGV0IGNoZWNrYm94ZXMgPSAkKCAnPGRpdiBjbGFzcz1cImZpbHRlcmVkLXZhbHVlLWNoZWNrYm94ZXNcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPicgKTtcblxuXHRcdC8vIGluc2VydCBvcHRpb25zIChjaGVja2JveGVzIGFuZCBsYWJlbHMpXG5cdFx0Zm9yICggbGV0IHZhbHVlIG9mIHRoaXMudmFsdWVzICkge1xuXHRcdFx0Y2hlY2tib3hlcy5hcHBlbmQoIGA8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtdmFsdWUtb3B0aW9uXCI+PGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIiR7dmFsdWUucHJpbnRvdXRWYWx1ZX1cIiA+PGRpdiBjbGFzcz1cImZpbHRlcmVkLXZhbHVlLW9wdGlvbi1sYWJlbFwiPiR7dmFsdWUuZm9ybWF0dGVkVmFsdWUgfHwgdmFsdWUucHJpbnRvdXRWYWx1ZX08L2Rpdj48L2xhYmVsPjwvZGl2PmAgKTtcblx0XHR9XG5cblx0XHQvLyBhdHRhY2ggZXZlbnQgaGFuZGxlclxuXHRcdGNoZWNrYm94ZXNcblx0XHQub24oICdjaGFuZ2UnLCAnOmNoZWNrYm94JywgKCBldmVudE9iamVjdDogSlF1ZXJ5RXZlbnRPYmplY3QgKSA9PiB7XG5cdFx0XHRsZXQgY2hlY2tib3hFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGV2ZW50T2JqZWN0LmN1cnJlbnRUYXJnZXQ7XG5cdFx0XHR0aGlzLm9uRmlsdGVyVXBkYXRlZCggY2hlY2tib3hFbGVtZW50LnZhbHVlLCBjaGVja2JveEVsZW1lbnQuY2hlY2tlZCApO1xuXHRcdH0gKTtcblxuXHRcdHJldHVybiBjaGVja2JveGVzO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRTZWxlY3RlZDJDb250cm9sKCkge1xuXG5cdFx0bGV0IHNlbGVjdCA9ICQoICc8c2VsZWN0IGNsYXNzPVwiZmlsdGVyZWQtdmFsdWUtc2VsZWN0XCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj4nICk7XG5cblx0XHRsZXQgZGF0YTogSWRUZXh0UGFpcltdID0gW107XG5cblx0XHQvLyBpbnNlcnQgb3B0aW9ucyAoY2hlY2tib3hlcyBhbmQgbGFiZWxzKSBhbmQgYXR0YWNoIGV2ZW50IGhhbmRsZXJzXG5cdFx0Zm9yICggbGV0IHZhbHVlIG9mIHRoaXMudmFsdWVzICkge1xuXHRcdFx0Ly8gVHJ5IHRvIGdldCBsYWJlbCwgaWYgbm90IGZhbGwgYmFjayB0byB2YWx1ZSBpZFxuXHRcdFx0bGV0IGxhYmVsID0gdmFsdWUuZm9ybWF0dGVkVmFsdWUgfHwgdmFsdWUucHJpbnRvdXRWYWx1ZTtcblx0XHRcdGRhdGEucHVzaCggeyBpZDogdmFsdWUucHJpbnRvdXRWYWx1ZSwgdGV4dDogbGFiZWwgfSApO1xuXG5cdFx0fVxuXG5cdFx0bXcubG9hZGVyLnVzaW5nKCAnZXh0LnNyZi5maWx0ZXJlZC52YWx1ZS1maWx0ZXIuc2VsZWN0JyApLnRoZW4oICgpID0+IHtcblxuXHRcdFx0c2VsZWN0LnNlbGVjdDIoIHtcblx0XHRcdFx0bXVsdGlwbGU6IHRydWUsXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBtdy5tZXNzYWdlKCAnc3JmLWZpbHRlcmVkLXZhbHVlLWZpbHRlci1wbGFjZWhvbGRlcicgKS50ZXh0KCksXG5cdFx0XHRcdGRhdGE6IGRhdGFcblx0XHRcdH0gKTtcblxuXHRcdFx0c2VsZWN0Lm9uKCBcInNlbGVjdDI6c2VsZWN0XCIsICggZTogYW55ICkgPT4ge1xuXHRcdFx0XHR0aGlzLm9uRmlsdGVyVXBkYXRlZCggZS5wYXJhbXMuZGF0YS5pZCwgdHJ1ZSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHRzZWxlY3Qub24oIFwic2VsZWN0Mjp1bnNlbGVjdFwiLCAoIGU6IGFueSApID0+IHtcblx0XHRcdFx0dGhpcy5vbkZpbHRlclVwZGF0ZWQoIGUucGFyYW1zLmRhdGEuaWQsIGZhbHNlICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gc2VsZWN0O1xuXHR9XG5cblx0cHJpdmF0ZSBhZGRDb250cm9sRm9yU3dpdGNoZXMoIGZpbHRlcmNvbnRyb2xzOiBKUXVlcnkgKTogSlF1ZXJ5IHtcblx0XHQvLyBpbnNlcnQgc3dpdGNoZXNcblx0XHRsZXQgc3dpdGNoZXMgPSB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICdzd2l0Y2hlcycgKSA/IHRoaXMub3B0aW9uc1sgJ3N3aXRjaGVzJyBdIDogdW5kZWZpbmVkO1xuXG5cdFx0aWYgKCBzd2l0Y2hlcyAhPT0gdW5kZWZpbmVkICYmICQuaW5BcnJheSggJ2FuZCBvcicsIHN3aXRjaGVzICkgPj0gMCApIHtcblxuXHRcdFx0bGV0IHN3aXRjaENvbnRyb2xzID0gJCggJzxkaXYgY2xhc3M9XCJmaWx0ZXJlZC12YWx1ZS1zd2l0Y2hlc1wiPicgKTtcblxuXHRcdFx0bGV0IGFuZG9yQ29udHJvbCA9ICQoICc8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtdmFsdWUtYW5kb3JcIj4nICk7XG5cblx0XHRcdGxldCBvckNvbnRyb2wgPSB0aGlzLmdldFJhZGlvQ29udHJvbCggJ29yJywgdHJ1ZSApO1xuXHRcdFx0bGV0IGFuZENvbnRyb2wgPSB0aGlzLmdldFJhZGlvQ29udHJvbCggJ2FuZCcgKTtcblxuXHRcdFx0YW5kb3JDb250cm9sXG5cdFx0XHQuYXBwZW5kKCBvckNvbnRyb2wgKVxuXHRcdFx0LmFwcGVuZCggYW5kQ29udHJvbCApXG5cdFx0XHQuYXBwZW5kVG8oIHN3aXRjaENvbnRyb2xzICk7XG5cblx0XHRcdGFuZG9yQ29udHJvbFxuXHRcdFx0LmZpbmQoICdpbnB1dCcgKVxuXHRcdFx0Lm9uKCAnY2hhbmdlJywgdW5kZWZpbmVkLCB7ICdmaWx0ZXInOiB0aGlzIH0sICggZXZlbnRPYmplY3Q6IEpRdWVyeUV2ZW50T2JqZWN0ICkgPT5cblx0XHRcdFx0ZXZlbnRPYmplY3QuZGF0YS5maWx0ZXIudXNlT3IoIGV2ZW50T2JqZWN0LnRhcmdldC5nZXRBdHRyaWJ1dGUoICd2YWx1ZScgKSA9PT0gJ29yJyApXG5cdFx0XHQpO1xuXG5cblx0XHRcdGZpbHRlcmNvbnRyb2xzLmFwcGVuZCggc3dpdGNoQ29udHJvbHMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmlsdGVyY29udHJvbHM7XG5cdH1cblxuXHRwcml2YXRlIGdldFJhZGlvQ29udHJvbCggdHlwZTogc3RyaW5nLCBpc0NoZWNrZWQ6IGJvb2xlYW4gPSBmYWxzZSApIHtcblxuXHRcdGxldCBjaGVja2VkQXR0ciA9IGlzQ2hlY2tlZD8nY2hlY2tlZCc6Jyc7XG5cdFx0bGV0IGxhYmVsVGV4dCA9IG13Lm1lc3NhZ2UoICdzcmYtZmlsdGVyZWQtdmFsdWUtZmlsdGVyLScgKyB0eXBlICkudGV4dCgpO1xuXG5cdFx0bGV0IGNvbnRyb2xUZXh0ID1cblx0XHRcdGA8bGFiZWwgZm9yPVwiZmlsdGVyZWQtdmFsdWUtJHt0eXBlfS0ke3RoaXMucHJpbnRyZXF1ZXN0SWR9XCI+YCArXG5cdFx0XHRgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJmaWx0ZXJlZC12YWx1ZS0ke3RoaXMucHJpbnRyZXF1ZXN0SWR9XCIgIGNsYXNzPVwiZmlsdGVyZWQtdmFsdWUtJHt0eXBlfVwiIGlkPVwiZmlsdGVyZWQtdmFsdWUtJHt0eXBlfS0ke3RoaXMucHJpbnRyZXF1ZXN0SWR9XCIgdmFsdWU9XCIke3R5cGV9XCIgJHtjaGVja2VkQXR0cn0+YCArXG5cdFx0XHRgJHtsYWJlbFRleHR9PC9sYWJlbD5gO1xuXG5cdFx0cmV0dXJuICQoIGNvbnRyb2xUZXh0ICk7XG5cdH1cblxuXHRwdWJsaWMgaXNWaXNpYmxlKCByb3dJZDogc3RyaW5nICk6IGJvb2xlYW4ge1xuXG5cdFx0aWYgKCB0aGlzLnZpc2libGVWYWx1ZXMubGVuZ3RoID09PSAwICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IHZhbHVlczogc3RyaW5nW10gPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpWyByb3dJZCBdLnByaW50b3V0c1sgdGhpcy5wcmludHJlcXVlc3RJZCBdLnZhbHVlcztcblxuXHRcdGlmICggdmFsdWVzLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdHJldHVybiBzdXBlci5pc1Zpc2libGUoIHJvd0lkICk7XG5cdFx0fVxuXG5cblx0XHRpZiAoIHRoaXMuX3VzZU9yICkge1xuXHRcdFx0Zm9yICggbGV0IGV4cGVjdGVkVmFsdWUgb2YgdGhpcy52aXNpYmxlVmFsdWVzICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlcy5pbmRleE9mKCBleHBlY3RlZFZhbHVlICkgPj0gMCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBsZXQgZXhwZWN0ZWRWYWx1ZSBvZiB0aGlzLnZpc2libGVWYWx1ZXMgKSB7XG5cdFx0XHRcdGlmICggdmFsdWVzLmluZGV4T2YoIGV4cGVjdGVkVmFsdWUgKSA8IDAgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgb25GaWx0ZXJVcGRhdGVkKCB2YWx1ZTogc3RyaW5nLCBpc0NoZWNrZWQ6IGJvb2xlYW4gKSB7XG5cdFx0bGV0IGluZGV4ID0gdGhpcy52aXNpYmxlVmFsdWVzLmluZGV4T2YoIHZhbHVlICk7XG5cblx0XHRpZiAoIGlzQ2hlY2tlZCAmJiBpbmRleCA9PT0gLTEgKSB7XG5cdFx0XHR0aGlzLnZpc2libGVWYWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHR9IGVsc2UgaWYgKCAhaXNDaGVja2VkICYmIGluZGV4ID49IDAgKSB7XG5cdFx0XHR0aGlzLnZpc2libGVWYWx1ZXMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdH1cblxuXHRcdHRoaXMuY29udHJvbGxlci5vbkZpbHRlclVwZGF0ZWQoIHRoaXMuZ2V0SWQoKSApO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBPcHRpb25zIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmlld1NlbGVjdG9yIH0gZnJvbSBcIi4vVmlld1NlbGVjdG9yXCI7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vVmlldy9WaWV3XCI7XG5pbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuL1ZpZXcvTGlzdFZpZXdcIjtcbmltcG9ydCB7IFRhYmxlVmlldyB9IGZyb20gXCIuL1ZpZXcvVGFibGVWaWV3XCI7XG5pbXBvcnQgeyBNYXBWaWV3IH0gZnJvbSBcIi4vVmlldy9NYXBWaWV3XCI7XG5pbXBvcnQgeyBDYWxlbmRhclZpZXcgfSBmcm9tIFwiLi9WaWV3L0NhbGVuZGFyVmlld1wiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyL0ZpbHRlclwiO1xuaW1wb3J0IHsgVmFsdWVGaWx0ZXIgfSBmcm9tIFwiLi9GaWx0ZXIvVmFsdWVGaWx0ZXJcIjtcbmltcG9ydCB7IERpc3RhbmNlRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyL0Rpc3RhbmNlRmlsdGVyXCI7XG5pbXBvcnQgeyBOdW1iZXJGaWx0ZXIgfSBmcm9tIFwiLi9GaWx0ZXIvTnVtYmVyRmlsdGVyXCI7XG5cbi8qKlxuICogQ2VudHJhbCBGaWx0ZXJlZCBjbGFzc1xuICpcbiAqIEZhY3RvcnkgdG8gc2V0dXAgZXZlcnlodGluZyBlbHNlXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWx0ZXJlZCB7XG5cblx0cHJpdmF0ZSBjb25maWc6IGFueTtcblx0cHJpdmF0ZSB0YXJnZXQ6IEpRdWVyeTtcblxuXHRwcml2YXRlIHZpZXdUeXBlczogeyBba2V5OiBzdHJpbmddOiBuZXcoIGlkOiBzdHJpbmcsIHRhcmdldDogSlF1ZXJ5LCBjb250cm9sbGVyOiBDb250cm9sbGVyLCBvcHRpb25zPzogYW55ICkgPT4gVmlldyB9ID0ge1xuXHRcdHRhYmxlOiBUYWJsZVZpZXcsXG5cdFx0bGlzdDogTGlzdFZpZXcsXG5cdFx0bWFwOiBNYXBWaWV3LFxuXHRcdGNhbGVuZGFyOiBDYWxlbmRhclZpZXdcblx0fTtcblxuXHRwcml2YXRlIGZpbHRlclR5cGVzOiB7IFtrZXk6IHN0cmluZ106IG5ldyggaWQ6IHN0cmluZywgdGFyZ2V0OiBKUXVlcnksIHByaW50cmVxdWVzdElkOiBzdHJpbmcsIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsIG9wdGlvbnM/OiBPcHRpb25zICkgPT4gRmlsdGVyIH0gPSB7XG5cdFx0dmFsdWU6IFZhbHVlRmlsdGVyLFxuXHRcdGRpc3RhbmNlOiBEaXN0YW5jZUZpbHRlcixcblx0XHRudW1iZXI6IE51bWJlckZpbHRlclxuXHR9O1xuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gdGFyZ2V0XG5cdCAqIEBwYXJhbSBjb25maWdcblx0ICovXG5cdHB1YmxpYyBjb25zdHJ1Y3RvciggdGFyZ2V0OiBKUXVlcnksIGNvbmZpZzogYW55ICkge1xuXHRcdHRoaXMuY29uZmlnID0gY29uZmlnO1xuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXHR9XG5cblx0cHVibGljIHJ1bigpIHtcblxuXHRcdGxldCBjb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoIHRoaXMudGFyZ2V0LCB0aGlzLmNvbmZpZy5kYXRhLCB0aGlzLmNvbmZpZy5wcmludHJlcXVlc3RzICk7XG5cblx0XHR0aGlzLmF0dGFjaEZpbHRlcnMoIGNvbnRyb2xsZXIsIHRoaXMudGFyZ2V0LmNoaWxkcmVuKCAnZGl2LmZpbHRlcmVkLWZpbHRlcnMnICkgKTtcblx0XHR0aGlzLmF0dGFjaFZpZXdTZWxlY3RvciggY29udHJvbGxlciwgdGhpcy50YXJnZXQuZmluZCggJ2Rpdi5maWx0ZXJlZC12aWV3cy1zZWxlY3RvcnMtY29udGFpbmVyJyApICk7XG5cdFx0dGhpcy5hdHRhY2hWaWV3cyggY29udHJvbGxlciwgdGhpcy50YXJnZXQuZmluZCggJ2Rpdi5maWx0ZXJlZC12aWV3cy1jb250YWluZXInICkgKTtcblxuXHRcdC8vIGxpZnQtb2ZmXG5cdFx0Y29udHJvbGxlci5zaG93KCk7XG5cblx0fVxuXG5cdHByaXZhdGUgYXR0YWNoRmlsdGVycyggY29udHJvbGxlcjogQ29udHJvbGxlciwgZmlsdGVyc0NvbnRhaW5lcjogSlF1ZXJ5ICkge1xuXG5cdFx0Zm9yICggbGV0IHBySWQgaW4gdGhpcy5jb25maWcucHJpbnRyZXF1ZXN0cyApIHtcblxuXHRcdFx0bGV0IHByID0gdGhpcy5jb25maWcucHJpbnRyZXF1ZXN0c1sgcHJJZCBdO1xuXG5cdFx0XHRpZiAoIHByLmhhc093blByb3BlcnR5KCAnZmlsdGVycycgKSApIHtcblxuXHRcdFx0XHRmb3IgKCBsZXQgZmlsdGVyaWQgaW4gcHIuZmlsdGVycyApIHtcblxuXHRcdFx0XHRcdGlmICggcHIuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggZmlsdGVyaWQgKSAmJlxuXHRcdFx0XHRcdFx0cHIuZmlsdGVyc1sgZmlsdGVyaWQgXS5oYXNPd25Qcm9wZXJ0eSggJ3R5cGUnICkgJiZcblx0XHRcdFx0XHRcdHRoaXMuZmlsdGVyVHlwZXMuaGFzT3duUHJvcGVydHkoIHByLmZpbHRlcnNbIGZpbHRlcmlkIF0udHlwZSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyAgdGFyZ2V0OiBKUXVlcnksIHByaW50cmVxdWVzdDogc3RyaW5nLFxuXHRcdFx0XHRcdFx0Ly8gY29udHJvbGxlcjogQ29udHJvbGxlciwgb3B0aW9ucz86IE9wdGlvbnNcblx0XHRcdFx0XHRcdGxldCBmaWx0ZXI6IEZpbHRlciA9IG5ldyB0aGlzLmZpbHRlclR5cGVzWyBwci5maWx0ZXJzWyBmaWx0ZXJpZCBdLnR5cGUgXSggZmlsdGVyaWQsIGZpbHRlcnNDb250YWluZXIuY2hpbGRyZW4oICcjJyArIGZpbHRlcmlkICksIHBySWQsIGNvbnRyb2xsZXIsIHByLmZpbHRlcnNbIGZpbHRlcmlkIF0gKTtcblxuXHRcdFx0XHRcdFx0Y29udHJvbGxlci5hdHRhY2hGaWx0ZXIoIGZpbHRlciApO1xuXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGF0dGFjaFZpZXdTZWxlY3RvciggY29udHJvbGxlcjogQ29udHJvbGxlciwgdmlld1NlbGVjdG9yQ29udGFpbmVyOiBKUXVlcnkgKSB7XG5cdFx0bGV0IHZpZXdTZWxlY3RvciA9IG5ldyBWaWV3U2VsZWN0b3IoIHZpZXdTZWxlY3RvckNvbnRhaW5lciwgT2JqZWN0LmtleXMoIHRoaXMuY29uZmlnLnZpZXdzICksIGNvbnRyb2xsZXIgKTtcblx0XHR2aWV3U2VsZWN0b3IuaW5pdCgpO1xuXHR9XG5cblx0cHJpdmF0ZSBhdHRhY2hWaWV3cyggY29udHJvbGxlcjogQ29udHJvbGxlciwgdmlld3NDb250YWluZXI6IEpRdWVyeSApIHtcblxuXHRcdC8vIGF0dGFjaCB2aWV3c1xuXHRcdGZvciAoIGxldCB2aWV3aWQgaW4gdGhpcy5jb25maWcudmlld3MgKSB7XG5cblx0XHRcdGxldCB2aWV3dHlwZSA9IHRoaXMuY29uZmlnLnZpZXdzWyB2aWV3aWQgXVsgJ3R5cGUnIF07XG5cdFx0XHRsZXQgdmlld0hhbmRsZXJDbGFzcyA9IHRoaXMudmlld1R5cGVzLmhhc093blByb3BlcnR5KCB2aWV3dHlwZSApID8gdGhpcy52aWV3VHlwZXNbIHZpZXd0eXBlIF0gOiBWaWV3O1xuXG5cdFx0XHRsZXQgdmlldzogVmlldyA9IG5ldyB2aWV3SGFuZGxlckNsYXNzKCB2aWV3aWQsIHZpZXdzQ29udGFpbmVyLmNoaWxkcmVuKCAnIycgKyB2aWV3aWQgKSwgY29udHJvbGxlciwgdGhpcy5jb25maWcudmlld3NbIHZpZXdpZCBdICk7XG5cblx0XHRcdHZpZXcuaW5pdCgpO1xuXG5cdFx0XHRjb250cm9sbGVyLmF0dGFjaFZpZXcoIHZpZXdpZCwgdmlldyApO1xuXG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vVmlld1wiO1xuZGVjbGFyZSBsZXQgbXc6IGFueTtcblxuZXhwb3J0IGNsYXNzIENhbGVuZGFyVmlldyBleHRlbmRzIFZpZXcge1xuXG5cdHByaXZhdGUgZ2V0STE4TigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bW9udGhOYW1lczogWyBtdy5tc2coICdqYW51YXJ5JyApLCBtdy5tc2coICdmZWJydWFyeScgKSwgbXcubXNnKCAnbWFyY2gnICksXG5cdFx0XHRcdG13Lm1zZyggJ2FwcmlsJyApLCBtdy5tc2coICdtYXlfbG9uZycgKSwgbXcubXNnKCAnanVuZScgKSxcblx0XHRcdFx0bXcubXNnKCAnanVseScgKSwgbXcubXNnKCAnYXVndXN0JyApLCBtdy5tc2coICdzZXB0ZW1iZXInICksXG5cdFx0XHRcdG13Lm1zZyggJ29jdG9iZXInICksIG13Lm1zZyggJ25vdmVtYmVyJyApLCBtdy5tc2coICdkZWNlbWJlcicgKVxuXHRcdFx0XSxcblx0XHRcdG1vbnRoTmFtZXNTaG9ydDogWyBtdy5tc2coICdqYW4nICksIG13Lm1zZyggJ2ZlYicgKSwgbXcubXNnKCAnbWFyJyApLFxuXHRcdFx0XHRtdy5tc2coICdhcHInICksIG13Lm1zZyggJ21heScgKSwgbXcubXNnKCAnanVuJyApLFxuXHRcdFx0XHRtdy5tc2coICdqdWwnICksIG13Lm1zZyggJ2F1ZycgKSwgbXcubXNnKCAnc2VwJyApLFxuXHRcdFx0XHRtdy5tc2coICdvY3QnICksIG13Lm1zZyggJ25vdicgKSwgbXcubXNnKCAnZGVjJyApXG5cdFx0XHRdLFxuXHRcdFx0ZGF5TmFtZXM6IFsgbXcubXNnKCAnc3VuZGF5JyApLCBtdy5tc2coICdtb25kYXknICksIG13Lm1zZyggJ3R1ZXNkYXknICksXG5cdFx0XHRcdG13Lm1zZyggJ3dlZG5lc2RheScgKSwgbXcubXNnKCAndGh1cnNkYXknICksIG13Lm1zZyggJ2ZyaWRheScgKSwgbXcubXNnKCAnc2F0dXJkYXknIClcblx0XHRcdF0sXG5cdFx0XHRkYXlOYW1lc1Nob3J0OiBbIG13Lm1zZyggJ3N1bicgKSwgbXcubXNnKCAnbW9uJyApLCBtdy5tc2coICd0dWUnICksXG5cdFx0XHRcdG13Lm1zZyggJ3dlZCcgKSwgbXcubXNnKCAndGh1JyApLCBtdy5tc2coICdmcmknICksIG13Lm1zZyggJ3NhdCcgKVxuXHRcdFx0XSxcblx0XHRcdGJ1dHRvblRleHQ6IHtcblx0XHRcdFx0dG9kYXk6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWxhYmVsLXRvZGF5JyApLFxuXHRcdFx0XHRtb250aDogbXcubXNnKCAnc3JmLXVpLWV2ZW50Y2FsZW5kYXItbGFiZWwtbW9udGgnICksXG5cdFx0XHRcdHdlZWs6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWxhYmVsLXdlZWsnICksXG5cdFx0XHRcdGRheTogbXcubXNnKCAnc3JmLXVpLWV2ZW50Y2FsZW5kYXItbGFiZWwtZGF5JyApXG5cdFx0XHR9XG5cdFx0XHQsXG5cdFx0XHRhbGxEYXlUZXh0OiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1sYWJlbC1hbGxkYXknICksXG5cdFx0XHR0aW1lRm9ybWF0OiB7XG5cdFx0XHRcdCcnOiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1mb3JtYXQtdGltZScgKSxcblx0XHRcdFx0YWdlbmRhOiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1mb3JtYXQtdGltZS1hZ2VuZGEnIClcblx0XHRcdH1cblx0XHRcdCxcblx0XHRcdGF4aXNGb3JtYXQ6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWZvcm1hdC1heGlzJyApLFxuXHRcdFx0dGl0bGVGb3JtYXQ6IHtcblx0XHRcdFx0bW9udGg6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWZvcm1hdC10aXRsZS1tb250aCcgKSxcblx0XHRcdFx0d2VlazogbXcubXNnKCAnc3JmLXVpLWV2ZW50Y2FsZW5kYXItZm9ybWF0LXRpdGxlLXdlZWsnICksXG5cdFx0XHRcdGRheTogbXcubXNnKCAnc3JmLXVpLWV2ZW50Y2FsZW5kYXItZm9ybWF0LXRpdGxlLWRheScgKVxuXHRcdFx0fVxuXHRcdFx0LFxuXHRcdFx0Y29sdW1uRm9ybWF0OiB7XG5cdFx0XHRcdG1vbnRoOiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1mb3JtYXQtY29sdW1uLW1vbnRoJyApLFxuXHRcdFx0XHR3ZWVrOiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1mb3JtYXQtY29sdW1uLXdlZWsnICksXG5cdFx0XHRcdGRheTogbXcubXNnKCAnc3JmLXVpLWV2ZW50Y2FsZW5kYXItZm9ybWF0LWNvbHVtbi1kYXknIClcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0cHVibGljIGluaXQoKSB7XG5cblx0XHRsZXQgX2kxOG4gPSB0aGlzLmdldEkxOE4oKTtcblxuXHRcdC8vIGluaXRpYWxpemUgdGhlIGNhbGVuZGFyXG5cdFx0dGhpcy50YXJnZXQuZnVsbENhbGVuZGFyKCB7XG5cblx0XHRcdGZpcnN0RGF5OiB0aGlzLm9wdGlvbnMuZmlyc3REYXksXG5cdFx0XHRpc1JUTDogdGhpcy5vcHRpb25zLmlzUlRMLFxuXHRcdFx0bW9udGhOYW1lczogX2kxOG4ubW9udGhOYW1lcyxcblx0XHRcdG1vbnRoTmFtZXNTaG9ydDogX2kxOG4ubW9udGhOYW1lc1Nob3J0LFxuXHRcdFx0ZGF5TmFtZXM6IF9pMThuLmRheU5hbWVzLFxuXHRcdFx0ZGF5TmFtZXNTaG9ydDogX2kxOG4uZGF5TmFtZXNTaG9ydCxcblx0XHRcdGJ1dHRvblRleHQ6IF9pMThuLmJ1dHRvblRleHQsXG5cdFx0XHRhbGxEYXlUZXh0OiBfaTE4bi5hbGxEYXlUZXh0LFxuXHRcdFx0dGltZUZvcm1hdDogX2kxOG4udGltZUZvcm1hdCxcblx0XHRcdHRpdGxlRm9ybWF0OiBfaTE4bi50aXRsZUZvcm1hdCxcblx0XHRcdGNvbHVtbkZvcm1hdDogX2kxOG4uY29sdW1uRm9ybWF0XG5cdFx0fSApO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRFdmVudCggcm93SWQ6IGFueSwgcm93RGF0YTogYW55ICkge1xuXG5cdFx0bGV0IGV2ZW50ZGF0YTogYW55ID0ge1xuXHRcdFx0aWQ6IHJvd0lkLFxuXHRcdFx0dGl0bGU6IHJvd0RhdGFbICd0aXRsZScgXSxcblx0XHRcdHN0YXJ0OiByb3dEYXRhWyAnc3RhcnQnIF0sXG5cdFx0XHRjbGFzc05hbWU6IHJvd0lkXG5cdFx0fTtcblxuXHRcdGlmICggcm93RGF0YS5oYXNPd25Qcm9wZXJ0eSggJ2VuZCcgKSApIHtcblx0XHRcdGV2ZW50ZGF0YVsgJ2VuZCcgXSA9IHJvd0RhdGFbICdlbmQnIF07XG5cdFx0fVxuXG5cdFx0aWYgKCByb3dEYXRhLmhhc093blByb3BlcnR5KCAndXJsJyApICkge1xuXHRcdFx0ZXZlbnRkYXRhWyAndXJsJyBdID0gcm93RGF0YVsgJ3VybCcgXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnRkYXRhO1xuXHR9XG5cblx0cHVibGljIHNob3dSb3dzKCByb3dJZHM6IHN0cmluZ1tdICk6IGFueSB7XG5cblx0XHRsZXQgZXZlbnRzOiBhbnlbXSA9IFtdO1xuXG5cdFx0cm93SWRzLmZvckVhY2goICggcm93SWQ6IHN0cmluZyApID0+IHtcblxuXHRcdFx0bGV0IHJvd0RhdGEgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpWyByb3dJZCBdLmRhdGFbIHRoaXMuaWQgXTtcblxuXHRcdFx0aWYgKCByb3dEYXRhLmhhc093blByb3BlcnR5KCAnc3RhcnQnICkgKSB7XG5cdFx0XHRcdGV2ZW50cy5wdXNoKCB0aGlzLmdldEV2ZW50KCByb3dJZCwgcm93RGF0YSApICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0dGhpcy50YXJnZXQuZnVsbENhbGVuZGFyKCAnYWRkRXZlbnRTb3VyY2UnLCBldmVudHMgKTtcblx0fVxuXG5cdHB1YmxpYyBoaWRlUm93cyggcm93SWRzOiBzdHJpbmdbXSApOiBhbnkge1xuXHRcdHRoaXMudGFyZ2V0LmZ1bGxDYWxlbmRhciggJ3JlbW92ZUV2ZW50cycsICggZTogYW55ICkgPT4gKCByb3dJZHMuaW5kZXhPZiggZS5faWQgKSA+PSAwICkgKTtcblx0fVxuXG5cdHB1YmxpYyBzaG93KCk6IGFueSB7XG5cdFx0c3VwZXIuc2hvdygpO1xuXHRcdHRoaXMudGFyZ2V0LmZ1bGxDYWxlbmRhciggJ3JlbmRlcicgKTtcblx0fVxuXG5cdHB1YmxpYyBoaWRlKCk6IGFueSB7XG5cdFx0cmV0dXJuIHN1cGVyLmhpZGUoKTtcblx0fVxuXG59XG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vVmlld1wiO1xuXG5leHBvcnQgY2xhc3MgTGlzdFZpZXcgZXh0ZW5kcyBWaWV3IHtcblxuXHRwcm90ZWN0ZWQgZ2V0SXRlbUNsYXNzTmFtZSgpIHtcblx0XHRyZXR1cm4gJy5maWx0ZXJlZC1saXN0LWl0ZW0nO1xuXHR9XG5cblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJsZWFmbGV0XCIgLz5cblxuaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL1ZpZXdcIjtcbmltcG9ydCB7IE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIlxuXG5kZWNsYXJlIGxldCBtdzogYW55O1xuXG5leHBvcnQgY2xhc3MgTWFwVmlldyBleHRlbmRzIFZpZXcge1xuXG5cdHByaXZhdGUgbWFwOiBMLk1hcCA9IHVuZGVmaW5lZDtcblx0cHJpdmF0ZSBpY29uOiB7IFtrZXk6IHN0cmluZ106IEwuSWNvbiB9ID0gdW5kZWZpbmVkO1xuXHRwcml2YXRlIG1hcmtlcnM6IHsgW2tleTogc3RyaW5nXTogTC5NYXJrZXJbXSB9ID0gdW5kZWZpbmVkO1xuXHRwcml2YXRlIG1hcmtlckNsdXN0ZXJHcm91cDogTC5NYXJrZXJDbHVzdGVyR3JvdXAgPSB1bmRlZmluZWQ7XG5cdHByaXZhdGUgYm91bmRzOiBMLkxhdExuZ0JvdW5kcyA9IHVuZGVmaW5lZDtcblx0cHJpdmF0ZSBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdHByaXZhdGUgem9vbTogbnVtYmVyID0gLTE7XG5cdHByaXZhdGUgbWluWm9vbTogbnVtYmVyID0gLTE7XG5cdHByaXZhdGUgbWF4Wm9vbTogbnVtYmVyID0gLTE7XG5cblx0cHJpdmF0ZSBsZWFmbGV0UHJvbWlzZTogUHJvbWlzZTxhbnk+ID0gdW5kZWZpbmVkO1xuXG5cdHB1YmxpYyBpbml0KCk6IFByb21pc2U8YW55PiB7XG5cblx0XHRsZXQgZGF0YSA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKCk7XG5cdFx0bGV0IG1hcmtlcnM6IHsgW3Jvd0lkOiBzdHJpbmddOiBMLk1hcmtlcltdIH0gPSB7fTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCAnaGVpZ2h0JyApICkge1xuXHRcdFx0dGhpcy50YXJnZXQuaGVpZ2h0KCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5sZWFmbGV0UHJvbWlzZSA9IG13LmxvYWRlci51c2luZyggJ2V4dC5zcmYuZmlsdGVyZWQubWFwLXZpZXcubGVhZmxldCcgKVxuXHRcdC50aGVuKCAoKSA9PiB7XG5cblx0XHRcdGxldCBib3VuZHM6IEwuTGF0TG5nQm91bmRzID0gdW5kZWZpbmVkO1xuXHRcdFx0bGV0IGRpc2FibGVDbHVzdGVyaW5nQXRab29tID0gdGhpcy5nZXRab29tRm9yVW5jbHVzdGVyaW5nKCk7XG5cblx0XHRcdGxldCBjbHVzdGVyT3B0aW9uczogT3B0aW9ucyA9IHtcblx0XHRcdFx0YW5pbWF0ZUFkZGluZ01hcmtlcnM6IHRydWUsXG5cdFx0XHRcdGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiBkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSxcblx0XHRcdFx0c3BpZGVyZnlPbk1heFpvb206IGRpc2FibGVDbHVzdGVyaW5nQXRab29tID09PSBudWxsXG5cdFx0XHR9O1xuXG5cdFx0XHRjbHVzdGVyT3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucyggWyAnbWF4Q2x1c3RlclJhZGl1cycsICd6b29tVG9Cb3VuZHNPbkNsaWNrJyBdLCBjbHVzdGVyT3B0aW9ucyApO1xuXG5cdFx0XHRsZXQgbWFya2VyQ2x1c3Rlckdyb3VwOiBMLk1hcmtlckNsdXN0ZXJHcm91cCA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKCBjbHVzdGVyT3B0aW9ucyApO1xuXG5cdFx0XHRmb3IgKCBsZXQgcm93SWQgaW4gZGF0YSApIHtcblxuXHRcdFx0XHRpZiAoIGRhdGFbIHJvd0lkIF1bICdkYXRhJyBdLmhhc093blByb3BlcnR5KCB0aGlzLmlkICkgKSB7XG5cdFx0XHRcdFx0bGV0IHBvc2l0aW9uczogTC5MYXRMbmdMaXRlcmFsW10gPSBkYXRhWyByb3dJZCBdWyAnZGF0YScgXVsgdGhpcy5pZCBdWyAncG9zaXRpb25zJyBdO1xuXHRcdFx0XHRcdG1hcmtlcnNbIHJvd0lkIF0gPSBbXTtcblxuXHRcdFx0XHRcdGZvciAoIGxldCBwb3Mgb2YgcG9zaXRpb25zICkge1xuXG5cdFx0XHRcdFx0XHRib3VuZHMgPSAoIGJvdW5kcyA9PT0gdW5kZWZpbmVkICkgPyBuZXcgTC5MYXRMbmdCb3VuZHMoIHBvcywgcG9zICkgOiBib3VuZHMuZXh0ZW5kKCBwb3MgKTtcblxuXHRcdFx0XHRcdFx0bGV0IG1hcmtlciA9IHRoaXMuZ2V0TWFya2VyKCBwb3MsIGRhdGFbIHJvd0lkIF0gKTtcblx0XHRcdFx0XHRcdG1hcmtlcnNbIHJvd0lkIF0ucHVzaCggbWFya2VyICk7XG5cdFx0XHRcdFx0XHRtYXJrZXJDbHVzdGVyR3JvdXAuYWRkTGF5ZXIoIG1hcmtlciApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm1hcmtlckNsdXN0ZXJHcm91cCA9IG1hcmtlckNsdXN0ZXJHcm91cDtcblx0XHRcdHRoaXMubWFya2VycyA9IG1hcmtlcnM7XG5cdFx0XHR0aGlzLmJvdW5kcyA9ICggYm91bmRzID09PSB1bmRlZmluZWQgKSA/IG5ldyBMLkxhdExuZ0JvdW5kcyggWyAtMTgwLCAtOTAgXSwgWyAxODAsIDkwIF0gKSA6IGJvdW5kcztcblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gdGhpcy5sZWFmbGV0UHJvbWlzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZXRlY3RzIGlmIHVzZXIgdXNlcyBkYXJrIHRoZW1lXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0cHJpdmF0ZSBpc1VzZXJVc2VzRGFya01vZGUoKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRab29tRm9yVW5jbHVzdGVyaW5nKCkge1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICdtYXJrZXIgY2x1c3RlcicgKSAmJiB0aGlzLm9wdGlvbnNbICdtYXJrZXIgY2x1c3RlcicgXSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSggJ21hcmtlciBjbHVzdGVyIG1heCB6b29tJyApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uc1sgJ21hcmtlciBjbHVzdGVyIG1heCB6b29tJyBdICsgMTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHByaXZhdGUgZ2V0SWNvbiggcm93OiBhbnkgKSB7XG5cblx0XHRpZiAoIHRoaXMuaWNvbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5idWlsZEljb25MaXN0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICdtYXJrZXIgaWNvbiBwcm9wZXJ0eScgKSApIHtcblxuXHRcdFx0bGV0IHZhbHM6IHN0cmluZ1tdID0gcm93WyAncHJpbnRvdXRzJyBdWyB0aGlzLm9wdGlvbnNbICdtYXJrZXIgaWNvbiBwcm9wZXJ0eScgXSBdWyAndmFsdWVzJyBdO1xuXG5cdFx0XHRpZiAoIHZhbHMubGVuZ3RoID4gMCAmJiB0aGlzLmljb24uaGFzT3duUHJvcGVydHkoIHZhbHNbIDAgXSApICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5pY29uWyB2YWxzWyAwIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pY29uWyAnZGVmYXVsdCcgXTtcblx0fVxuXG5cdHByaXZhdGUgYnVpbGRJY29uTGlzdCgpIHtcblx0XHR0aGlzLmljb24gPSB7fTtcblxuXHRcdGxldCBpY29uUGF0aCA9IHRoaXMuY29udHJvbGxlci5nZXRQYXRoKCkgKyAnY3NzL2ltYWdlcy8nO1xuXG5cdFx0dGhpcy5pY29uWyAnZGVmYXVsdCcgXSA9IG5ldyBMLkljb24oIHtcblx0XHRcdCdpY29uVXJsJzogaWNvblBhdGggKyAnbWFya2VyLWljb24ucG5nJyxcblx0XHRcdCdpY29uUmV0aW5hVXJsJzogaWNvblBhdGggKyAnbWFya2VyLWljb24tMngucG5nJyxcblx0XHRcdCdzaGFkb3dVcmwnOiBpY29uUGF0aCArICdtYXJrZXItc2hhZG93LnBuZycsXG5cdFx0XHQnaWNvblNpemUnOiBbIDI1LCA0MSBdLFxuXHRcdFx0J2ljb25BbmNob3InOiBbIDEyLCA0MSBdLFxuXHRcdFx0J3BvcHVwQW5jaG9yJzogWyAxLCAtMzQgXSxcblx0XHRcdC8vICd0b29sdGlwQW5jaG9yJzogWzE2LCAtMjhdLFxuXHRcdFx0J3NoYWRvd1NpemUnOiBbIDQxLCA0MSBdXG5cdFx0fSApO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICdtYXJrZXIgaWNvbnMnICkgKSB7XG5cblx0XHRcdGZvciAoIGxldCB2YWx1ZSBpbiB0aGlzLm9wdGlvbnNbICdtYXJrZXIgaWNvbnMnIF0gKSB7XG5cdFx0XHRcdHRoaXMuaWNvblsgdmFsdWUgXSA9IG5ldyBMLkljb24oIHtcblx0XHRcdFx0XHQnaWNvblVybCc6IHRoaXMub3B0aW9uc1sgJ21hcmtlciBpY29ucycgXVsgdmFsdWUgXSxcblx0XHRcdFx0XHQvLyAnaWNvblJldGluYVVybCc6IGljb25QYXRoICsgJ21hcmtlci1pY29uLTJ4LnBuZycsXG5cdFx0XHRcdFx0J3NoYWRvd1VybCc6IGljb25QYXRoICsgJ21hcmtlci1zaGFkb3cucG5nJyxcblx0XHRcdFx0XHQnaWNvblNpemUnOiBbIDMyLCAzMiBdLFxuXHRcdFx0XHRcdCdpY29uQW5jaG9yJzogWyAxNiwgMzIgXSxcblx0XHRcdFx0XHQncG9wdXBBbmNob3InOiBbIDEsIC0zMCBdLFxuXHRcdFx0XHRcdC8vICd0b29sdGlwQW5jaG9yJzogWzE2LCAtMjhdLFxuXHRcdFx0XHRcdCdzaGFkb3dTaXplJzogWyA0MSwgNDEgXSxcblx0XHRcdFx0XHQnc2hhZG93QW5jaG9yJzogWyAxMiwgNDEgXVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBnZXRNYXJrZXIoIGxhdExuZzogTC5MYXRMbmdFeHByZXNzaW9uLCByb3c6IGFueSApIHtcblx0XHRsZXQgdGl0bGUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IHBvcHVwID0gW107XG5cblx0XHQvLyBUT0RPOiBVc2UgPGRpdj4gaW5zdGVhZCBvZiA8Yj4gYW5kIGRvIENTUyBzdHlsaW5nXG5cblx0XHRmb3IgKCBsZXQgcHJJZCBpbiByb3dbICdwcmludG91dHMnIF0gKSB7XG5cdFx0XHRsZXQgcHJpbnRyZXF1ZXN0ID0gKHRoaXMuY29udHJvbGxlci5nZXRQcmludFJlcXVlc3RzKCkpWyBwcklkIF07XG5cblx0XHRcdGlmICggISBwcmludHJlcXVlc3QuaGFzT3duUHJvcGVydHkoJ2hpZGUnKSB8fCBwcmludHJlcXVlc3QuaGlkZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGxldCBwcmludG91dHMgPSByb3dbICdwcmludG91dHMnIF1bIHBySWQgXTtcblxuXHRcdFx0XHRpZiAoIHRpdGxlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGl0bGUgPSBwcmludG91dHNbICd2YWx1ZXMnIF0uam9pbiggJywgJyApO1xuXHRcdFx0XHRcdHBvcHVwLnB1c2goICc8Yj4nICsgcHJpbnRvdXRzWyAnZm9ybWF0dGVkIHZhbHVlcycgXS5qb2luKCAnLCAnICkgKyAnPC9iPicgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwb3B1cC5wdXNoKCAocHJpbnRvdXRzLmxhYmVsID8gJzxiPicgKyBwcmludG91dHMubGFiZWwgKyAnOjwvYj4gJyA6ICcnKSArIHByaW50b3V0c1sgJ2Zvcm1hdHRlZCB2YWx1ZXMnIF0uam9pbiggJywgJyApIClcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGxldCBtYXJrZXIgPSBMLm1hcmtlciggbGF0TG5nLCB7IHRpdGxlOiB0aXRsZSwgYWx0OiB0aXRsZSB9ICk7XG5cdFx0bWFya2VyLmJpbmRQb3B1cCggcG9wdXAuam9pbiggJzxicj4nICkgKTtcblxuXHRcdG1hcmtlci5zZXRJY29uKCB0aGlzLmdldEljb24oIHJvdyApICk7XG5cdFx0cmV0dXJuIG1hcmtlcjtcblx0fVxuXG5cdHB1YmxpYyBsYXRlSW5pdCgpIHtcblxuXHRcdGlmICggdGhpcy5pbml0aWFsaXplZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcblxuXHRcdGxldCB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMubGVhZmxldFByb21pc2UudGhlbiggKCkgPT4ge1xuXG5cdFx0XHRsZXQgbWFwT3B0aW9uczogT3B0aW9ucyA9IHtcblx0XHRcdFx0Y2VudGVyOiB0aGlzLmJvdW5kcyAhPT0gdW5kZWZpbmVkID8gdGhpcy5ib3VuZHMuZ2V0Q2VudGVyKCkgOiBbIDAsIDAgXVxuXHRcdFx0fTtcblxuXHRcdFx0bWFwT3B0aW9ucyA9IHRoYXQuZ2V0T3B0aW9ucyggWyAnem9vbScsICdtaW5ab29tJywgJ21heFpvb20nIF0sIG1hcE9wdGlvbnMgKTtcblxuXHRcdFx0Ly8gVE9ETzogTGltaXQgem9vbSB2YWx1ZXMgdG8gbWFwIG1heCB6b29tXG5cblx0XHRcdHRoYXQubWFwID0gTC5tYXAoIDxIVE1MRWxlbWVudD4gdGhhdC5nZXRUYXJnZXRFbGVtZW50KCkuZ2V0KCAwICksIG1hcE9wdGlvbnMgKTtcblx0XHRcdHRoYXQubWFwLmFkZExheWVyKCB0aGF0Lm1hcmtlckNsdXN0ZXJHcm91cCApO1xuXG5cdFx0XHRsZXQgbWFwUHJvdmlkZXIgPSBudWxsO1xuXG5cdFx0XHRpZiggdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCdtYXAgcHJvdmlkZXInKSApIHtcblx0XHRcdFx0bWFwUHJvdmlkZXIgPSB0aGlzLm9wdGlvbnNbJ21hcCBwcm92aWRlciddO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiggdGhpcy5pc1VzZXJVc2VzRGFya01vZGUoKSAmJiB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21hcCBwcm92aWRlciBkYXJrJykgKSB7XG5cdFx0XHRcdG1hcFByb3ZpZGVyID0gdGhpcy5vcHRpb25zWydtYXAgcHJvdmlkZXIgZGFyayddO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiggbWFwUHJvdmlkZXIgKSB7XG5cdFx0XHRcdEwudGlsZUxheWVyLnByb3ZpZGVyKCBtYXBQcm92aWRlciApLmFkZFRvKHRoYXQubWFwKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhbWFwT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSggJ3pvb20nICkgKSB7XG5cdFx0XHRcdHRoYXQubWFwLmZpdEJvdW5kcyggdGhhdC5ib3VuZHMgKTtcblx0XHRcdH1cblxuXHRcdH0gKTtcblxuXHR9XG5cblx0cHVibGljIGdldE9wdGlvbnMoIGtleXM6IHN0cmluZ1tdLCBkZWZhdWx0czogT3B0aW9ucyA9IHt9ICkge1xuXG5cdFx0Zm9yICggbGV0IGtleSBvZiBrZXlzICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoIGtleSApICkge1xuXHRcdFx0XHRkZWZhdWx0c1sga2V5IF0gPSB0aGlzLm9wdGlvbnNbIGtleSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0cztcblx0fVxuXG5cdHB1YmxpYyBzaG93Um93cyggcm93SWRzOiBzdHJpbmdbXSApIHtcblx0XHR0aGlzLmxlYWZsZXRQcm9taXNlLnRoZW4oICgpID0+IHtcblx0XHRcdHRoaXMubWFuaXB1bGF0ZUxheWVycyggcm93SWRzLCAoIGxheWVyczogTC5MYXllcltdICkgPT4ge1xuXHRcdFx0XHR0aGlzLm1hcmtlckNsdXN0ZXJHcm91cC5hZGRMYXllcnMoIGxheWVycyApXG5cdFx0XHR9IClcblx0XHR9ICk7XG5cdH1cblxuXHRwdWJsaWMgaGlkZVJvd3MoIHJvd0lkczogc3RyaW5nW10gKSB7XG5cdFx0dGhpcy5sZWFmbGV0UHJvbWlzZS50aGVuKCAoKSA9PiB7XG5cdFx0XHR0aGlzLm1hbmlwdWxhdGVMYXllcnMoIHJvd0lkcywgKCBsYXllcnM6IEwuTGF5ZXJbXSApID0+IHtcblx0XHRcdFx0dGhpcy5tYXJrZXJDbHVzdGVyR3JvdXAucmVtb3ZlTGF5ZXJzKCBsYXllcnMgKVxuXHRcdFx0fSApXG5cdFx0fSApO1xuXHR9XG5cblx0cHJpdmF0ZSBtYW5pcHVsYXRlTGF5ZXJzKCByb3dJZHM6IHN0cmluZ1tdLCBjYjogKCBsYXllcnM6IEwuTGF5ZXJbXSApID0+IHZvaWQgKSB7XG5cblx0XHRsZXQgbGF5ZXJzRnJvbVJvd0lkcyA9IHRoaXMuZ2V0TGF5ZXJzRnJvbVJvd0lkcyggcm93SWRzICk7XG5cblx0XHRpZiAoIGxheWVyc0Zyb21Sb3dJZHMubGVuZ3RoID4gMCApIHtcblx0XHRcdGNiKCBsYXllcnNGcm9tUm93SWRzICk7XG5cdFx0fVxuXG5cdH1cblxuXHRwcml2YXRlIGdldExheWVyc0Zyb21Sb3dJZHMoIHJvd0lkczogc3RyaW5nW10gKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmxhdHRlbiggdGhpcy5nZXRMYXllcnNGcm9tUm93SWRzUmF3KCByb3dJZHMgKSApO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRMYXllcnNGcm9tUm93SWRzUmF3KCByb3dJZHM6IHN0cmluZ1tdICkge1xuXHRcdHJldHVybiByb3dJZHMubWFwKCAoIHJvd0lkOiBzdHJpbmcgKSA9PiB0aGlzLm1hcmtlcnNbIHJvd0lkIF0gPyB0aGlzLm1hcmtlcnNbIHJvd0lkIF0gOiBbXSApO1xuXHR9XG5cblx0cHJpdmF0ZSBmbGF0dGVuKCBtYXJrZXJzOiBMLkxheWVyW11bXSApOiBMLkxheWVyW10ge1xuXHRcdHJldHVybiBtYXJrZXJzLnJlZHVjZSggKCByZXN1bHQ6IEwuTGF5ZXJbXSwgbGF5ZXJzOiBMLkxheWVyW10gKSA9PiByZXN1bHQuY29uY2F0KCBsYXllcnMgKSwgW10gKTtcblx0fVxuXG5cdHB1YmxpYyBzaG93KCkge1xuXHRcdHN1cGVyLnNob3coKTtcblx0XHR0aGlzLmxhdGVJbml0KCk7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL1ZpZXdcIjtcblxuZXhwb3J0IGNsYXNzIFRhYmxlVmlldyBleHRlbmRzIFZpZXcge1xuXG5cdHByb3RlY3RlZCBnZXRJdGVtQ2xhc3NOYW1lKCkge1xuXHRcdHJldHVybiAnLmZpbHRlcmVkLXRhYmxlLWl0ZW0nO1xuXHR9XG5cbn0iLCJpbXBvcnQgeyBPcHRpb25zIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4uL0NvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGNsYXNzIFZpZXcge1xuXG5cdHByb3RlY3RlZCBpZDogc3RyaW5nID0gdW5kZWZpbmVkO1xuXHRwcm90ZWN0ZWQgdGFyZ2V0OiBKUXVlcnkgPSB1bmRlZmluZWQ7XG5cdHByb3RlY3RlZCBjb250cm9sbGVyOiBDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuXHRwcm90ZWN0ZWQgb3B0aW9uczogT3B0aW9ucyA9IHVuZGVmaW5lZDtcblx0cHJvdGVjdGVkIHZpc2libGU6IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJvdGVjdGVkIHJvd3M6IHsgWyByb3dJZDogc3RyaW5nIF06IEpRdWVyeSB9ID0ge307XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKCBpZDogc3RyaW5nLCB0YXJnZXQ6IEpRdWVyeSwgYzogQ29udHJvbGxlciwgb3B0aW9uczogT3B0aW9ucyA9IHt9ICkge1xuXHRcdHRoaXMuaWQgPSBpZDtcblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcblx0XHR0aGlzLmNvbnRyb2xsZXIgPSBjO1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdH1cblxuXHRwdWJsaWMgaW5pdCgpOiBQcm9taXNlPGFueT58dm9pZCB7XG5cblx0XHRsZXQgcm93SWRzID0gT2JqZWN0LmtleXMoIHRoaXMuY29udHJvbGxlci5nZXREYXRhKCkgKTtcblx0XHRsZXQgcm93cyA9IHRoaXMudGFyZ2V0LmZpbmQoIHRoaXMuZ2V0SXRlbUNsYXNzTmFtZSgpICk7XG5cblx0XHRyb3dzLmVhY2goICggaW5kZXgsIGVsZW0gKSA9PiB7XG5cdFx0XHRsZXQgY2xhc3NlcyA9IGVsZW0uY2xhc3NMaXN0O1xuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCByb3dJZHMuaW5kZXhPZiggY2xhc3Nlc1sgaSBdICkgPj0gMCApIHtcblx0XHRcdFx0XHR0aGlzLnJvd3NbIGNsYXNzZXNbIGkgXSBdID0gJCggcm93c1sgaW5kZXggXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG5cblx0cHJvdGVjdGVkIGdldEl0ZW1DbGFzc05hbWUoKSB7XG5cdFx0cmV0dXJuICcuZmlsdGVyZWQtaXRlbSc7XG5cdH1cblxuXHRwdWJsaWMgZ2V0VGFyZ2V0RWxlbWVudCgpOiBKUXVlcnkge1xuXHRcdHJldHVybiB0aGlzLnRhcmdldDtcblx0fVxuXG5cdHB1YmxpYyBzaG93Um93cyggcm93SWRzOiBzdHJpbmdbXSApIHtcblxuXHRcdGlmICggdGhpcy52aXNpYmxlICYmIHJvd0lkcy5sZW5ndGggPCAyMDAgKSB7XG5cblx0XHRcdHJvd0lkcy5mb3JFYWNoKCAoIHJvd0lkOiBzdHJpbmcgKSA9PiB7XG5cdFx0XHRcdHRoaXMucm93c1sgcm93SWQgXS5zbGlkZURvd24oIDQwMCApO1xuXHRcdFx0fSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cm93SWRzLmZvckVhY2goICggcm93SWQ6IHN0cmluZyApID0+IHtcblx0XHRcdFx0dGhpcy5yb3dzWyByb3dJZCBdLmNzcyggJ2Rpc3BsYXknLCAnJyk7XG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgaGlkZVJvd3MoIHJvd0lkczogc3RyaW5nW10gKSB7XG5cblx0XHRpZiAoIHRoaXMudmlzaWJsZSAmJiByb3dJZHMubGVuZ3RoIDwgMjAwICkge1xuXG5cdFx0XHRyb3dJZHMuZm9yRWFjaCggKCByb3dJZDogc3RyaW5nICkgPT4ge1xuXHRcdFx0XHR0aGlzLnJvd3NbIHJvd0lkIF0uc2xpZGVVcCggNDAwICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyb3dJZHMuZm9yRWFjaCggKCByb3dJZDogc3RyaW5nICkgPT4ge1xuXHRcdFx0XHR0aGlzLnJvd3NbIHJvd0lkIF0uY3NzKCAnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc2hvdygpIHtcblx0XHR0aGlzLnRhcmdldC5zaG93KCk7XG5cdFx0dGhpcy52aXNpYmxlID0gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBoaWRlKCkge1xuXHRcdHRoaXMudGFyZ2V0LmhpZGUoKTtcblx0XHR0aGlzLnZpc2libGUgPSBmYWxzZTtcblx0fVxufVxuIiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmV4cG9ydCBjbGFzcyBWaWV3U2VsZWN0b3Ige1xuXG5cdHByaXZhdGUgdGFyZ2V0OiBKUXVlcnkgPSB1bmRlZmluZWQ7XG5cdHByaXZhdGUgdmlld0lEczogc3RyaW5nW10gPSB1bmRlZmluZWQ7XG5cblx0cHJpdmF0ZSBjb250cm9sbGVyOiBDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvciggdGFyZ2V0OiBKUXVlcnksIHZpZXdJRHM6IHN0cmluZ1tdLCBjb250cm9sbGVyOiBDb250cm9sbGVyICkge1xuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXHRcdHRoaXMudmlld0lEcyA9IHZpZXdJRHM7XG5cdFx0dGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcblx0fVxuXG5cdHB1YmxpYyBpbml0KCkge1xuXHRcdGlmICggdGhpcy52aWV3SURzLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHR0aGlzLnZpZXdJRHMuZm9yRWFjaCggKCBpZDogc3RyaW5nKSA9PiB7IHRoaXMudGFyZ2V0Lm9uKCAnY2xpY2snLCAnLicgKyBpZCwgeyAndGFyZ2V0JzogaWQsICdjb250cm9sbGVyJyA6IHRoaXMuY29udHJvbGxlciB9LCBWaWV3U2VsZWN0b3Iub25TZWxlY3RvclNlbGVjdGVkICk7IH0gKTtcblx0XHRcdHRoaXMudGFyZ2V0LmNoaWxkcmVuKCkuZmlyc3QoKS5hZGRDbGFzcyggJ3NlbGVjdGVkJyk7XG5cdFx0XHR0aGlzLnRhcmdldC5zaG93KCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgb25TZWxlY3RvclNlbGVjdGVkKCBldmVudDogSlF1ZXJ5RXZlbnRPYmplY3QgKSB7XG5cblx0XHRldmVudC5kYXRhLmNvbnRyb2xsZXIub25WaWV3U2VsZWN0ZWQoIGV2ZW50LmRhdGEudGFyZ2V0ICk7XG5cblx0XHQkKCBldmVudC50YXJnZXQgKVxuXHRcdC5hZGRDbGFzcyggJ3NlbGVjdGVkJylcblx0XHQuc2libGluZ3MoKS5yZW1vdmVDbGFzcyggJ3NlbGVjdGVkJyApO1xuXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0fVxuXG59IiwiaW1wb3J0IHsgRmlsdGVyZWQgfSBmcm9tIFwiLi9GaWx0ZXJlZC9GaWx0ZXJlZFwiO1xuXG5kZWNsYXJlIGxldCBtdzogYW55O1xubGV0IGNvbmZpZyA9IG13LmNvbmZpZy5nZXQoICdzcmZGaWx0ZXJlZENvbmZpZycgKTtcblxuZm9yICggbGV0IGlkIGluIGNvbmZpZyApIHtcblx0aWYgKCBjb25maWcuaGFzT3duUHJvcGVydHkoIGlkICkgKSB7XG5cdFx0bGV0IGYgPSBuZXcgRmlsdGVyZWQoICQoICcjJyArIGlkICksIGNvbmZpZ1sgaWQgXSApO1xuXHRcdG13Lmhvb2soICd3aWtpcGFnZS5jb250ZW50JyApLmFkZCggKCkgPT4gZi5ydW4oKSApO1xuXHR9XG59Il19"}