{"version":3,"sources":["node_modules/browser-pack/_prelude.js","resources/ts/Filtered/Controller.ts","resources/ts/Filtered/Filter/DistanceFilter.ts","resources/ts/Filtered/Filter/Filter.ts","resources/ts/Filtered/Filter/NumberFilter.ts","resources/ts/Filtered/Filter/ValueFilter.ts","resources/ts/Filtered/Filtered.ts","resources/ts/Filtered/ViewSelector.ts","resources/ts/Filtered/View/CalendarView.ts","resources/ts/Filtered/View/ListView.ts","resources/ts/Filtered/View/MapView.ts","resources/ts/Filtered/View/TableView.ts","resources/ts/Filtered/View/View.ts","resources/ts/bootstrap.ts"],"names":[],"mappings":"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","file":"ext.srf.filtered.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { ResultData } from \"../types\";\r\ndeclare let srf: any;\r\n\r\nimport { View } from \"./View/View\";\r\nimport { Filter } from \"./Filter/Filter\";\r\n\r\nexport class Controller {\r\n\tprivate target: JQuery = undefined;\r\n\r\n\tprivate views: { [key: string]: View } = {};\r\n\tprivate filters: { [key: string]: Filter } = {};\r\n\tprivate currentView: View = undefined;\r\n\tprivate data: ResultData;\r\n\r\n\tpublic constructor( target: JQuery, data: ResultData ) {\r\n\t\tthis.target = target;\r\n\t\tthis.data = data;\r\n\r\n\t\tfor ( let rowId in this.data ) {\r\n\t\t\tif ( !this.data[ rowId ].hasOwnProperty( 'visible' ) ) {\r\n\t\t\t\tthis.data[ rowId ].visible = {};\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getData(): any {\r\n\t\treturn this.data;\r\n\t}\r\n\r\n\tpublic getPath() {\r\n\t\treturn srf.settings.get( 'srfgScriptPath' ) + '/formats/filtered/resources/';\r\n\t}\r\n\r\n\tpublic attachView( viewid: string, view: View ) {\r\n\r\n\t\tthis.views[ viewid ] = view;\r\n\r\n\t\tif ( this.currentView === undefined ) {\r\n\t\t\tthis.currentView = view;\r\n\t\t\tview.show();\r\n\t\t} else {\r\n\t\t\tview.hide();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic getView( viewId: string ): View {\r\n\t\treturn this.views[ viewId ];\r\n\t}\r\n\r\n\tpublic attachFilter( filter: Filter ) {\r\n\t\tlet filterId = filter.getId();\r\n\r\n\t\tthis.filters[ filterId ] = filter;\r\n\t\tthis.onFilterUpdated( filterId );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic getFilter( filterId: string ): Filter {\r\n\t\treturn this.filters[ filterId ];\r\n\t}\r\n\r\n\tpublic show() {\r\n\t\tthis.initializeFilters();\r\n\t\tthis.target.show();\r\n\t\tthis.switchToView( this.currentView );\r\n\t}\r\n\r\n\tprivate switchToView( view: View ) {\r\n\r\n\t\tif ( this.currentView instanceof View ) {\r\n\t\t\tthis.currentView.hide();\r\n\t\t}\r\n\r\n\t\tthis.currentView = view;\r\n\r\n\t\tif ( this.currentView instanceof View ) {\r\n\t\t\tview.show();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate initializeFilters() {\r\n\t\tlet toShow: string[] = [];\r\n\t\tlet toHide: string[] = [];\r\n\r\n\t\tfor ( let rowId in this.data ) {\r\n\t\t\tfor ( let filterId in this.filters ) {\r\n\t\t\t\tthis.data[ rowId ].visible[ filterId ] = this.filters[ filterId ].isVisible( rowId );\r\n\t\t\t}\r\n\t\t\tif ( this.isVisible( rowId ) ) {\r\n\t\t\t\ttoShow.push( rowId );\r\n\t\t\t} else {\r\n\t\t\t\ttoHide.push( rowId );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.hideRows( toHide );\r\n\t\tthis.showRows( toShow );\r\n\t}\r\n\r\n\tpublic onViewSelected( viewID: string ) {\r\n\t\tthis.switchToView( this.views[ viewID ] );\r\n\t}\r\n\r\n\tpublic onFilterUpdated( filterId: string ) {\r\n\t\tlet toShow: string[] = [];\r\n\t\tlet toHide: string[] = [];\r\n\r\n\t\tfor ( let rowId in this.data ) {\r\n\t\t\tlet oldVisible: boolean = this.data[ rowId ].visible[ filterId ];\r\n\t\t\tlet newVisible: boolean = this.filters[ filterId ].isVisible( rowId );\r\n\r\n\t\t\tif ( oldVisible !== newVisible ) {\r\n\r\n\t\t\t\tthis.data[ rowId ].visible[ filterId ] = newVisible;\r\n\r\n\t\t\t\tif ( newVisible && this.isVisible( rowId ) ) {\r\n\t\t\t\t\ttoShow.push( rowId );\r\n\t\t\t\t\t// controller.showRow( rowId );\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoHide.push( rowId );\r\n\t\t\t\t\t// controller.hideRow( rowId );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.hideRows( toHide );\r\n\t\tthis.showRows( toShow );\r\n\t}\r\n\r\n\tpublic isVisible( rowId: any ) {\r\n\t\tfor ( let filterId in this.data[ rowId ].visible ) {\r\n\t\t\tif ( !this.data[ rowId ].visible[ filterId ] ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate hideRows( rowIds: string[] ) {\r\n\t\tif ( rowIds.length === 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor ( let viewId in this.views ) {\r\n\t\t\tthis.views[ viewId ].hideRows( rowIds );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate showRows( rowIds: string[] ) {\r\n\t\tif ( rowIds.length === 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor ( let viewId in this.views ) {\r\n\t\t\tthis.views[ viewId ].showRows( rowIds );\r\n\t\t}\r\n\t}\r\n}\r\n","import { Filter } from \"./Filter\";\r\n\r\ndeclare let mw: any;\r\n\r\nexport class DistanceFilter extends Filter {\r\n\r\n\tprivate static readonly earthRadius: { [key: string]: number } = {\r\n\t\tm: 6371008.8,\r\n\t\tkm: 6371.0088,\r\n\t\tmi: 3958.7613,\r\n\t\tnm: 3440.0695,\r\n\t\tÃ…: 63710088000000000\r\n\t};\r\n\r\n\tprivate earthRadiusValue: number = DistanceFilter.earthRadius.km;\r\n\tprivate filterValue: number = 0;\r\n\r\n\tpublic init() {\r\n\r\n\t\tlet values = this.controller.getData();\r\n\r\n\t\tlet origin = this.options[ 'origin' ];\r\n\r\n\t\tif ( !( origin !== undefined && origin.hasOwnProperty( 'lat' ) && origin.hasOwnProperty( 'lng' ) ) ) {\r\n\t\t\tthis.target.detach();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet unit = 'km';\r\n\r\n\t\tif ( this.options[ 'unit' ] && DistanceFilter.earthRadius[ this.options[ 'unit' ] ] ) {\r\n\t\t\tunit = this.options[ 'unit' ];\r\n\t\t}\r\n\r\n\t\tthis.earthRadiusValue = DistanceFilter.earthRadius[ unit ];\r\n\r\n\t\tlet maxValue: number = this.updateDistances( origin );\r\n\r\n\t\tlet precision = 10 ** ( Math.floor( Math.log( maxValue ) * Math.LOG10E ) - 1);\r\n\r\n\t\tif ( this.options[ 'max' ] !== undefined && this.options[ 'max' ] > maxValue ) {\r\n\t\t\tmaxValue = this.options[ 'max' ];\r\n\t\t} else {\r\n\t\t\tmaxValue = Math.ceil( maxValue / precision ) * precision;\r\n\t\t}\r\n\r\n\t\tthis.filterValue = this.options[ 'initial value' ] ? Math.min( this.options[ 'initial value' ], maxValue ) : maxValue;\r\n\r\n\t\t// build filter controls\r\n\t\tlet filtercontrols = this.target;\r\n\r\n\t\tfiltercontrols\r\n\t\t.append( '<div class=\"filtered-distance-label\"><span>' + this.options[ 'label' ] + '</span></div>' );\r\n\r\n\t\tfiltercontrols = this.addControlForCollapsing( filtercontrols );\r\n\r\n\t\tlet readout = $( '<div class=\"filtered-distance-readout\">' + this.filterValue + '</div>' );\r\n\r\n\t\tlet table = $( '<table class=\"filtered-distance-table\"><tbody><tr><td class=\"filtered-distance-min-cell\">0</td>' +\r\n\t\t\t'<td class=\"filtered-distance-slider-cell\"><div class=\"filtered-distance-slider\"></div></td>' +\r\n\t\t\t'<td class=\"filtered-distance-max-cell\">' + maxValue + '</td></tr>' +\r\n\t\t\t'<tr><td colspan=3 class=\"filtered-distance-unit-cell\">' + unit + '</td></tr></tbody></table>' );\r\n\r\n\t\tfiltercontrols.append( table );\r\n\r\n\t\tlet that = this;\r\n\t\tmw.loader.using( 'jquery.ui.slider' ).then( function () {\r\n\r\n\t\t\ttable.find( '.filtered-distance-slider' )\r\n\t\t\t.slider( {\r\n\t\t\t\tanimate: true,\r\n\t\t\t\tmax: maxValue,\r\n\t\t\t\tvalue: that.filterValue,\r\n\t\t\t\tstep: precision / 100\r\n\t\t\t} )\r\n\t\t\t.on( 'slidechange', undefined, { 'filter': that }, function ( eventObject: JQueryEventObject, ui: any ) {\r\n\t\t\t\teventObject.data.ui = ui;\r\n\t\t\t\teventObject.data.filter.onFilterUpdated( eventObject );\r\n\t\t\t} )\r\n\t\t\t.on( 'slide', undefined, { 'filter': that }, function ( eventObject: JQueryEventObject, ui: any ) {\r\n\t\t\t\treadout.text( ui.value );\r\n\t\t\t} )\r\n\t\t\t.find( '.ui-slider-handle' )\r\n\t\t\t.append( readout );\r\n\r\n\t\t} );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprivate updateDistances( origin: L.LatLngLiteral ): number {\r\n\r\n\t\tlet values = this.controller.getData();\r\n\t\tlet max = 1;\r\n\r\n\t\tlet prId = this.printrequestId;\r\n\r\n\t\tfor ( let rowId in values ) {\r\n\r\n\t\t\tif ( values[ rowId ].data.hasOwnProperty( this.filterId ) ) {\r\n\t\t\t\tlet distances: number[] = values[ rowId ].data[ this.filterId ].positions.map( ( pos: L.LatLngLiteral ) => this.distance( origin, pos ) );\r\n\t\t\t\tlet dist = Math.min( ...distances );\r\n\r\n\t\t\t\tvalues[ rowId ].data[ this.filterId ].distance = dist;\r\n\t\t\t\tmax = Math.max( max, dist );\r\n\t\t\t} else {\r\n\t\t\t\tvalues[ rowId ].data[ this.filterId ].distance = Infinity;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn max;\r\n\t}\r\n\r\n\tpublic onFilterUpdated( eventObject: JQueryEventObject ) {\r\n\t\tthis.filterValue = eventObject.data.ui.value;\r\n\t\tthis.controller.onFilterUpdated( this.getId() );\r\n\t}\r\n\r\n\tprivate distance( a: L.LatLngLiteral, b: L.LatLngLiteral ) {\r\n\r\n\t\tconst DEG2RAD = Math.PI / 180.0;\r\n\r\n\t\tfunction squared( x: number ) {\r\n\t\t\treturn x * x\r\n\t\t}\r\n\r\n\t\tlet f =\r\n\t\t\tsquared( Math.sin( ( b.lat - a.lat ) * DEG2RAD / 2.0 ) ) +\r\n\t\t\tMath.cos( a.lat * DEG2RAD ) * Math.cos( b.lat * DEG2RAD ) *\r\n\t\t\tsquared( Math.sin( ( b.lng - a.lng ) * DEG2RAD / 2.0 ) );\r\n\r\n\t\treturn this.earthRadiusValue * 2 * Math.atan2( Math.sqrt( f ), Math.sqrt( 1 - f ) );\r\n\t}\r\n\r\n\tpublic isVisible( rowId: string ): boolean {\r\n\t\treturn this.controller.getData()[ rowId ].data[ this.filterId ].distance <= this.filterValue;\r\n\t}\r\n\r\n}\r\n","import { Options } from \"../../types\";\r\nimport { Controller } from \"../Controller\";\r\n\r\nexport abstract class Filter{\r\n\r\n\tprotected target: JQuery = undefined;\r\n\tprotected filterId: string;\r\n\tprotected printrequestId: string;\r\n\tprotected controller: Controller;\r\n\tprotected options: Options = undefined;\r\n\r\n\tpublic constructor( filterId: string, target: JQuery, printrequestId: string, controller: Controller, options?: Options ) {\r\n\t\tthis.target = target;\r\n\t\tthis.filterId = filterId;\r\n\t\tthis.printrequestId = printrequestId;\r\n\t\tthis.controller = controller;\r\n\t\tthis.options = options || {};\r\n\t}\r\n\r\n\tpublic init() {};\r\n\r\n\tpublic isVisible( rowId: string ): boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic getId() {\r\n\t\treturn this.filterId;\r\n\t}\r\n\r\n\tprotected addControlForCollapsing( filtercontrols: JQuery ): JQuery {\r\n\t\tlet collapsible = this.options.hasOwnProperty( 'collapsible' ) ? this.options[ 'collapsible' ] : undefined;\r\n\t\tif ( collapsible === 'collapsed' || collapsible === 'uncollapsed' ) {\r\n\r\n\t\t\tlet showControl = $( '<span class=\"filtered-show\">' );\r\n\t\t\tlet hideControl = $( '<span class=\"filtered-hide\">' );\r\n\r\n\t\t\tfiltercontrols\r\n\t\t\t.prepend( showControl )\r\n\t\t\t.prepend( hideControl );\r\n\r\n\t\t\tfiltercontrols = $( '<div class=\"filtered-collapsible\">' )\r\n\t\t\t.appendTo( filtercontrols );\r\n\r\n\t\t\tlet outercontrols = filtercontrols;\r\n\r\n\t\t\tshowControl.click( function () {\r\n\t\t\t\toutercontrols.slideDown();\r\n\t\t\t\tshowControl.hide();\r\n\t\t\t\thideControl.show();\r\n\t\t\t} );\r\n\r\n\t\t\thideControl.click( function () {\r\n\t\t\t\toutercontrols.slideUp();\r\n\t\t\t\tshowControl.show();\r\n\t\t\t\thideControl.hide();\r\n\t\t\t} );\r\n\r\n\t\t\tif ( collapsible === 'collapsed' ) {\r\n\t\t\t\thideControl.hide();\r\n\t\t\t\toutercontrols.slideUp( 0 );\r\n\t\t\t} else {\r\n\t\t\t\tshowControl.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filtercontrols;\r\n\t}\r\n\r\n}","import { Filter } from \"./Filter\";\r\n\r\ndeclare let mw: any;\r\n\r\nexport class NumberFilter extends Filter {\r\n\r\n\tprivate MODE_RANGE = 0;\r\n\tprivate MODE_MIN = 1;\r\n\tprivate MODE_MAX = 2;\r\n\tprivate MODE_SELECT = 3;\r\n\r\n\tprivate filterValueUpper: number = 0;\r\n\tprivate filterValueLower: number = 0;\r\n\tprivate mode = this.MODE_RANGE;\r\n\r\n\tpublic init() {\r\n\r\n\t\tlet [ minValue, maxValue ] : [ number, number ] = this.getRange();\r\n\r\n\t\tlet precision = 10 ** ( Math.floor( Math.log( maxValue - minValue ) * Math.LOG10E ) - 1 );\r\n\r\n\t\tlet requestedMax = this.options[ 'max' ];\r\n\t\tif ( requestedMax !== undefined && !isNaN( Number( requestedMax ) ) ) {\r\n\t\t\tmaxValue = Math.max( requestedMax, maxValue );\r\n\t\t} else {\r\n\t\t\tmaxValue = Math.ceil( maxValue / precision ) * precision;\r\n\t\t}\r\n\r\n\t\tlet requestedMin = this.options[ 'min' ];\r\n\t\tif ( requestedMin !== undefined && !isNaN( Number( requestedMin ) ) ) {\r\n\t\t\tminValue = Math.min( requestedMin, minValue );\r\n\t\t} else {\r\n\t\t\tminValue = Math.floor( minValue / precision ) * precision;\r\n\t\t}\r\n\r\n\t\tlet step = this.options[ 'step' ];\r\n\t\tif ( step === undefined || isNaN( Number( step ) ) ) {\r\n\t\t\tstep = precision / 10;\r\n\t\t}\r\n\r\n\t\tthis.filterValueUpper = maxValue;\r\n\t\tthis.filterValueLower = minValue;\r\n\r\n\t\t// build filter controls\r\n\t\tlet filtercontrols = this.target;\r\n\r\n\t\tfiltercontrols\r\n\t\t.append( '<div class=\"filtered-number-label\"><span>' + this.options[ 'label' ] + '</span></div>' );\r\n\r\n\t\tfiltercontrols = this.addControlForCollapsing( filtercontrols );\r\n\r\n\t\tlet readoutLeft = $( '<div class=\"filtered-number-readout\">' );\r\n\t\tlet readoutRight = $( '<div class=\"filtered-number-readout\">' );\r\n\r\n\t\tlet caption = '';\r\n\r\n\t\tif ( this.options[ 'caption' ] ) {\r\n\t\t\tcaption = '<tr><td colspan=3 class=\"filtered-number-caption-cell\">' + this.options[ 'caption' ] + '</td></tr>';\r\n\t\t}\r\n\r\n\t\tlet table = $( '<table class=\"filtered-number-table\"><tbody><tr>' +\r\n\t\t\t'<td class=\"filtered-number-min-cell\">' + minValue + '</td>' +\r\n\t\t\t'<td class=\"filtered-number-slider-cell\"></td>' +\r\n\t\t\t'<td class=\"filtered-number-max-cell\">' + maxValue + '</td></tr>' +\r\n\t\t\tcaption +\r\n\t\t\t'</tbody></table>' );\r\n\r\n\t\tlet sliderContainer = $( '<div class=\"filtered-number-slider\">' );\r\n\t\tlet lowerHandle = $( '<div class=\"ui-slider-handle ui-slider-handle-lower\">' );\r\n\t\tlet upperHandle = $( '<div class=\"ui-slider-handle ui-slider-handle-upper\">' );\r\n\t\tlet selectHandle = $( '<div class=\"ui-slider-handle ui-slider-handle-select\">' );\r\n\r\n\t\tlet slideroptions: JQueryUI.SliderOptions = {\r\n\t\t\tanimate: true,\r\n\t\t\tmin: minValue,\r\n\t\t\tmax: maxValue,\r\n\t\t\tstep: step\r\n\t\t};\r\n\r\n\t\tswitch ( this.options[ 'sliders' ] ) {\r\n\t\t\tcase 'max':\r\n\t\t\t\tthis.mode = this.MODE_MAX;\r\n\t\t\t\tslideroptions.range = 'min';\r\n\t\t\t\tslideroptions.value = maxValue;\r\n\r\n\t\t\t\treadoutLeft.text( maxValue );\r\n\t\t\t\tupperHandle.append( readoutLeft );\r\n\t\t\t\tsliderContainer.append( upperHandle );\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'min':\r\n\t\t\t\tthis.mode = this.MODE_MIN;\r\n\t\t\t\tslideroptions.range = 'max';\r\n\t\t\t\tslideroptions.value = minValue;\r\n\r\n\t\t\t\treadoutLeft.text( minValue );\r\n\t\t\t\tlowerHandle.append( readoutLeft );\r\n\t\t\t\tsliderContainer.append( lowerHandle );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'select':\r\n\t\t\t\tthis.mode = this.MODE_SELECT;\r\n\t\t\t\tslideroptions.value = maxValue;\r\n\r\n\t\t\t\treadoutLeft.text( maxValue );\r\n\t\t\t\tselectHandle.append( readoutLeft );\r\n\t\t\t\tsliderContainer.append( selectHandle );\r\n\r\n\t\t\t\tthis.filterValueUpper = maxValue;\r\n\t\t\t\tthis.filterValueLower = maxValue;\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.mode = this.MODE_RANGE;\r\n\t\t\t\tslideroptions.range = true;\r\n\t\t\t\tslideroptions.values = [ minValue, maxValue ];\r\n\r\n\t\t\t\treadoutLeft.text( minValue );\r\n\t\t\t\tlowerHandle.append( readoutLeft );\r\n\r\n\t\t\t\treadoutRight.text( maxValue );\r\n\t\t\t\tupperHandle.append( readoutRight );\r\n\r\n\t\t\t\tsliderContainer.append( lowerHandle ).append( upperHandle );\r\n\r\n\t\t}\r\n\r\n\t\tfiltercontrols.append( table );\r\n\r\n\t\ttable\r\n\t\t.find( '.filtered-number-slider-cell' )\r\n\t\t.append( sliderContainer );\r\n\r\n\t\tlet that: NumberFilter = this;\r\n\r\n\t\tmw.loader.using( 'jquery.ui.slider' ).then( function () {\r\n\t\t\tsliderContainer.slider( slideroptions )\r\n\t\t\t.on( 'slidechange', undefined, { 'filter': that }, function ( eventObject: JQueryEventObject, ui: any ) {\r\n\t\t\t\teventObject.data.ui = ui;\r\n\t\t\t\teventObject.data.filter.onFilterUpdated( eventObject );\r\n\t\t\t} )\r\n\t\t\t.on( 'slide', undefined, { 'filter': that }, function ( eventObject: JQueryEventObject, ui: { handle: HTMLElement; value: number } ) {\r\n\t\t\t\tui.handle.firstElementChild.innerHTML = ui.value.toString();\r\n\t\t\t} );\r\n\t\t} );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprivate getRange(): [ number, number ] {\r\n\r\n\t\tlet rows = this.controller.getData();\r\n\t\tlet min = Infinity;\r\n\t\tlet max = -Infinity;\r\n\r\n\t\tfor ( let rowId in rows ) {\r\n\r\n\t\t\tif ( rows[ rowId ].data.hasOwnProperty( this.filterId ) ) {\r\n\t\t\t\tlet values: number[] = rows[ rowId ].data[ this.filterId ].values;\r\n\t\t\t\tmin = Math.min( min, ...values );\r\n\t\t\t\tmax = Math.max( max, ...values );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn [ min, max ];\r\n\t}\r\n\r\n\tpublic onFilterUpdated( eventObject: JQueryEventObject ) {\r\n\t\tswitch ( this.mode ) {\r\n\t\t\tcase this.MODE_RANGE:\r\n\t\t\t\tthis.filterValueLower = eventObject.data.ui.values[ 0 ];\r\n\t\t\t\tthis.filterValueUpper = eventObject.data.ui.values[ 1 ];\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.MODE_MIN:\r\n\t\t\t\tthis.filterValueLower = eventObject.data.ui.value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.MODE_MAX:\r\n\t\t\t\tthis.filterValueUpper = eventObject.data.ui.value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.MODE_SELECT:\r\n\t\t\t\tthis.filterValueLower = eventObject.data.ui.value;\r\n\t\t\t\tthis.filterValueUpper = eventObject.data.ui.value;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis.controller.onFilterUpdated( this.getId() );\r\n\t}\r\n\r\n\tpublic isVisible( rowId: string ): boolean {\r\n\t\tlet rowdata = this.controller.getData()[ rowId ].data;\r\n\r\n\t\tif ( rowdata.hasOwnProperty( this.filterId ) ) {\r\n\r\n\t\t\tfor ( let value of rowdata[ this.filterId ].values ) {\r\n\t\t\t\tif ( value >= this.filterValueLower && value <= this.filterValueUpper ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n","import { Filter } from \"./Filter\";\r\n\r\nexport class ValueFilter extends Filter {\r\n\r\n\tprivate values: any = {};\r\n\tprivate visibleValues: string[] = [];\r\n\r\n\tprivate _useOr = true;\r\n\r\n\tpublic init() {\r\n\t\tthis.values = this.getSortedValues();\r\n\t\tthis.buildControl();\r\n\t}\r\n\r\n\tpublic useOr( useOr: boolean ) {\r\n\t\tthis._useOr = useOr;\r\n\t\tthis.controller.onFilterUpdated( this.getId() );\r\n\t}\r\n\r\n\tprivate getSortedValues(): any {\r\n\r\n\t\t/** Map of value => label distinct values */\r\n\t\tlet distinctValues: any = {};\r\n\t\t/** Map of value => sort value distinct values */\r\n\t\tlet distinctSortValues: any = {};\r\n\r\n\t\tif ( this.options.hasOwnProperty( 'values' ) ) {\r\n\r\n\t\t\treturn this.options[ 'values' ].map(\r\n\t\t\t\t( item: string ) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tprintoutValue: item,\r\n\t\t\t\t\t\tformattedValue: item\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\t\t\t// build filter values from available values in result set\r\n\t\t\tlet data = this.controller.getData();\r\n\t\t\tlet sortedEntries: any[] = [];\r\n\t\t\tfor ( let id in data ) {\r\n\r\n\t\t\t\tlet printoutValues: any = data[ id ][ 'printouts' ][ this.printrequestId ][ 'values' ];\r\n\t\t\t\tlet printoutFormattedValues = data[ id ][ 'printouts' ][ this.printrequestId ][ 'formatted values' ];\r\n\t\t\t\tlet printoutSortValues: any = data[ id ][ 'printouts' ][ this.printrequestId ][ 'sort values' ];\r\n\r\n\t\t\t\tfor ( let i in printoutValues ) {\r\n\t\t\t\t\tlet printoutFormattedValue = printoutFormattedValues[ i ];\r\n\r\n\t\t\t\t\tif ( printoutFormattedValue.indexOf( '<a' ) > -1 ) {\r\n\t\t\t\t\t\tprintoutFormattedValue = /<a.*>(.*?)<\\/a>/.exec( printoutFormattedValue )[ 1 ];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdistinctValues[ printoutValues[ i ] ] = printoutFormattedValue;\r\n\t\t\t\t\tdistinctSortValues[ printoutValues[ i ] ] = printoutSortValues[ i ];\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let printoutValue in distinctSortValues ) {\r\n\t\t\t\tsortedEntries.push({\r\n\t\t\t\t\tprintoutValue: printoutValue,\r\n\t\t\t\t\tsortValue: distinctSortValues[ printoutValue ],\r\n\t\t\t\t\tformattedValue: distinctValues[ printoutValue ]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tsortedEntries.sort(\r\n\t\t\t\t( a: any, b: any ) => {\r\n\t\t\t\t\treturn a.sortValue.localeCompare( b.sortValue );\r\n\t\t\t\t} );\r\n\t\t\treturn sortedEntries;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate buildControl() {\r\n\r\n\t\tlet filtercontrols = this.target;\r\n\r\n\t\t// insert the label of the printout this filter filters on\r\n\t\tfiltercontrols.append( '<div class=\"filtered-value-label\"><span>' + this.options[ 'label' ] + '</span></div>' );\r\n\r\n\t\tfiltercontrols = this.addControlForCollapsing( filtercontrols );\r\n\t\tthis.addControlForSwitches( filtercontrols );\r\n\r\n\t\tlet height = this.options.hasOwnProperty( 'height' ) ? this.options[ 'height' ] : undefined;\r\n\t\tif ( height !== undefined ) {\r\n\t\t\tfiltercontrols = $( '<div class=\"filtered-value-scrollable\">' )\r\n\t\t\t.appendTo( filtercontrols );\r\n\r\n\t\t\tfiltercontrols.height( height );\r\n\t\t}\r\n\r\n\t\t// insert options (checkboxes and labels) and attach event handlers\r\n\t\tfor ( let value of this.values ) {\r\n\t\t\tlet option = $( '<div class=\"filtered-value-option\">' );\r\n\r\n\t\t\tlet checkbox = $( '<input type=\"checkbox\" class=\"filtered-value-value\" value=\"' + value.printoutValue + '\"  >' );\r\n\r\n\t\t\t// attach event handler\r\n\t\t\tcheckbox\r\n\t\t\t.on( 'change', undefined, { 'filter': this }, function ( eventObject: JQueryEventObject ) {\r\n\t\t\t\teventObject.data.filter.onFilterUpdated( eventObject );\r\n\t\t\t} );\r\n\r\n\t\t\t// Try to get label, if not fall back to value id\r\n\t\t\tlet label = value.formattedValue || value.printoutValue; //this.values[ value ] || value;\r\n\r\n\t\t\toption.append( checkbox ).append( label );\r\n\r\n\t\t\tfiltercontrols.append( option );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate addControlForSwitches( filtercontrols: JQuery ) {\r\n\t\t// insert switches\r\n\t\tlet switches = this.options.hasOwnProperty( 'switches' ) ? this.options[ 'switches' ] : undefined;\r\n\t\tif ( switches !== undefined && switches.length > 0 ) {\r\n\r\n\t\t\tlet switchControls = $( '<div class=\"filtered-value-switches\">' );\r\n\r\n\t\t\tif ( $.inArray( 'and or', switches ) >= 0 ) {\r\n\r\n\t\t\t\tlet andorControl = $( '<div class=\"filtered-value-andor\">' );\r\n\r\n\t\t\t\tlet andControl = $( '<input type=\"radio\" name=\"filtered-value-and ' +\r\n\t\t\t\t\tthis.printrequestId + '\"  class=\"filtered-value-and ' + this.printrequestId + '\" value=\"and\">' );\r\n\r\n\t\t\t\tlet orControl = $( '<input type=\"radio\" name=\"filtered-value-or ' +\r\n\t\t\t\t\tthis.printrequestId + '\"  class=\"filtered-value-or ' + this.printrequestId + '\" value=\"or\" checked>' );\r\n\r\n\t\t\t\tandControl\r\n\t\t\t\t.add( orControl )\r\n\t\t\t\t.on( 'change', undefined, { 'filter': this }, function ( eventObject: JQueryEventObject ) {\r\n\t\t\t\t\teventObject.data.filter.useOr( orControl.is( ':checked' ) );\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tandorControl\r\n\t\t\t\t.append( orControl )\r\n\t\t\t\t.append( ' OR ' )\r\n\t\t\t\t.append( andControl )\r\n\t\t\t\t.append( ' AND ' )\r\n\t\t\t\t.appendTo( switchControls );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfiltercontrols.append( switchControls );\r\n\t\t}\r\n\t}\r\n\r\n\tpublic isVisible( rowId: string ): boolean {\r\n\r\n\t\tif ( this.visibleValues.length === 0 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tlet values = this.controller.getData()[ rowId ].printouts[ this.printrequestId ].values;\r\n\r\n\t\tif ( this._useOr ) {\r\n\t\t\tfor ( let expectedValue of this.visibleValues ) {\r\n\t\t\t\tif ( values.indexOf( expectedValue ) >= 0 ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tfor ( let expectedValue of this.visibleValues ) {\r\n\t\t\t\tif ( values.indexOf( expectedValue ) < 0 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic onFilterUpdated( eventObject: JQueryEventObject ) {\r\n\t\tlet target = $( eventObject.target );\r\n\r\n\t\tlet value = target.val();\r\n\t\tlet index = this.visibleValues.indexOf( value );\r\n\t\tlet isChecked = target.is( ':checked' );\r\n\r\n\t\tif ( isChecked && index === -1 ) {\r\n\t\t\tthis.visibleValues.push( value );\r\n\t\t} else if ( !isChecked && index >= 0 ) {\r\n\t\t\tthis.visibleValues.splice( index, 1 );\r\n\t\t}\r\n\r\n\t\tthis.controller.onFilterUpdated( this.getId() );\r\n\t}\r\n}\r\n","import { Options } from \"../types\";\r\nimport { Controller } from \"./Controller\";\r\nimport { ViewSelector } from \"./ViewSelector\";\r\nimport { View } from \"./View/View\";\r\nimport { ListView } from \"./View/ListView\";\r\nimport { TableView } from \"./View/TableView\";\r\nimport { MapView } from \"./View/MapView\";\r\nimport { CalendarView } from \"./View/CalendarView\";\r\nimport { Filter } from \"./Filter/Filter\";\r\nimport { ValueFilter } from \"./Filter/ValueFilter\";\r\nimport { DistanceFilter } from \"./Filter/DistanceFilter\";\r\nimport { NumberFilter } from \"./Filter/NumberFilter\";\r\n\r\n/**\r\n * Central Filtered class\r\n *\r\n * Factory to setup everyhting else\r\n */\r\nexport class Filtered {\r\n\r\n\tprivate config: any;\r\n\tprivate target: JQuery;\r\n\r\n\tprivate viewTypes: { [key: string]: new( id: string, target: JQuery, controller: Controller, options?: any ) => View } = {\r\n\t\ttable: TableView,\r\n\t\tlist: ListView,\r\n\t\tmap: MapView,\r\n\t\tcalendar: CalendarView\r\n\t};\r\n\r\n\tprivate filterTypes: { [key: string]: new( id: string, target: JQuery, printrequestId: string, controller: Controller, options?: Options ) => Filter } = {\r\n\t\tvalue: ValueFilter,\r\n\t\tdistance: DistanceFilter,\r\n\t\tnumber: NumberFilter\r\n\t};\r\n\r\n\t/**\r\n\t *\r\n\t * @param target\r\n\t * @param config\r\n\t */\r\n\tpublic constructor( target: JQuery, config: any ) {\r\n\t\tthis.config = config;\r\n\t\tthis.target = target;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\tpublic run() {\r\n\t\tthis.showStartupMessage();\r\n\t\tthis.startDeferred();\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\tprivate showStartupMessage() {\r\n\t\t// this.target.text( \"Loading...\" );\r\n\t\t// TODO: Use spinner from srf.util\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\tprivate startDeferred() {\r\n\t\tsetTimeout( this.start(), 0 );\r\n\t}\r\n\r\n\tprivate start() {\r\n\t\tlet controller = new Controller( this.target, this.config.data );\r\n\r\n\t\tthis.attachFilters( controller, this.target.find( 'div.filtered-filters' ) );\r\n\t\tthis.attachViewSelector( controller, this.target.find( 'div.filtered-views-selectors-container' ) );\r\n\t\tthis.attachViews( controller, this.target.find( 'div.filtered-views-container' ) );\r\n\r\n\t\t// lift-off\r\n\t\tcontroller.show();\r\n\r\n\t}\r\n\r\n\tprivate attachFilters( controller: Controller, filtersContainer: JQuery ) {\r\n\r\n\t\tfor ( let prId in this.config.printrequests ) {\r\n\r\n\t\t\tlet pr = this.config.printrequests[ prId ];\r\n\r\n\t\t\tif ( pr.hasOwnProperty( 'filters' ) ) {\r\n\r\n\t\t\t\tfor ( let filterid in pr.filters ) {\r\n\r\n\t\t\t\t\tif ( pr.filters.hasOwnProperty( filterid ) &&\r\n\t\t\t\t\t\tpr.filters[ filterid ].hasOwnProperty( 'type' ) &&\r\n\t\t\t\t\t\tthis.filterTypes.hasOwnProperty( pr.filters[ filterid ].type ) ) {\r\n\r\n\t\t\t\t\t\t//  target: JQuery, printrequest: string,\r\n\t\t\t\t\t\t// controller: Controller, options?: Options\r\n\t\t\t\t\t\tlet filter: Filter = new this.filterTypes[ pr.filters[ filterid ].type ]( filterid, filtersContainer.children( '#' + filterid ), prId, controller, pr.filters[ filterid ] );\r\n\t\t\t\t\t\tfilter.init();\r\n\r\n\t\t\t\t\t\tcontroller.attachFilter( filter );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprivate attachViewSelector( controller: Controller, viewSelectorContainer: JQuery ) {\r\n\t\tlet viewSelector = new ViewSelector( viewSelectorContainer, Object.keys( this.config.views ), controller );\r\n\t\tviewSelector.init();\r\n\t}\r\n\r\n\tprivate attachViews( controller: Controller, viewsContainer: JQuery ) {\r\n\r\n\t\t// attach views\r\n\t\tfor ( let viewid in this.config.views ) {\r\n\r\n\t\t\tlet viewtype = this.config.views[ viewid ][ 'type' ];\r\n\t\t\tlet viewHandlerClass = this.viewTypes.hasOwnProperty( viewtype ) ? this.viewTypes[ viewtype ] : View;\r\n\r\n\t\t\tlet view: View = new viewHandlerClass( viewid, viewsContainer.children( '#' + viewid ), controller, this.config.views[ viewid ] );\r\n\r\n\t\t\tview.init();\r\n\r\n\t\t\tcontroller.attachView( viewid, view );\r\n\r\n\t\t}\r\n\t}\r\n}\r\n","import { Controller } from \"./Controller\";\r\nexport class ViewSelector {\r\n\r\n\tprivate target: JQuery = undefined;\r\n\tprivate viewIDs: string[] = undefined;\r\n\r\n\tprivate controller: Controller = undefined;\r\n\r\n\tpublic constructor( target: JQuery, viewIDs: string[], controller: Controller ) {\r\n\t\tthis.target = target;\r\n\t\tthis.viewIDs = viewIDs;\r\n\t\tthis.controller = controller;\r\n\t}\r\n\r\n\tpublic init() {\r\n\t\tif ( this.viewIDs.length > 1 ) {\r\n\t\t\tthis.viewIDs.forEach( ( id: string) => { this.target.on( 'click', '.' + id, { 'target': id, 'controller' : this.controller }, ViewSelector.onSelectorSelected ); } );\r\n\t\t\tthis.target.children().first().addClass( 'selected');\r\n\t\t\tthis.target.show();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static onSelectorSelected( event: JQueryEventObject ) {\r\n\r\n\t\tevent.data.controller.onViewSelected( event.data.target );\r\n\r\n\t\t$( event.target )\r\n\t\t.addClass( 'selected')\r\n\t\t.siblings().removeClass( 'selected' );\r\n\r\n\t\tevent.stopPropagation();\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n}","import { View } from \"./View\";\r\ndeclare let mw: any;\r\n\r\nexport class CalendarView extends View {\r\n\r\n\tprivate getI18N() {\r\n\t\treturn {\r\n\t\t\tmonthNames: [ mw.msg( 'january' ), mw.msg( 'february' ), mw.msg( 'march' ),\r\n\t\t\t\tmw.msg( 'april' ), mw.msg( 'may_long' ), mw.msg( 'june' ),\r\n\t\t\t\tmw.msg( 'july' ), mw.msg( 'august' ), mw.msg( 'september' ),\r\n\t\t\t\tmw.msg( 'october' ), mw.msg( 'november' ), mw.msg( 'december' )\r\n\t\t\t],\r\n\t\t\tmonthNamesShort: [ mw.msg( 'jan' ), mw.msg( 'feb' ), mw.msg( 'mar' ),\r\n\t\t\t\tmw.msg( 'apr' ), mw.msg( 'may' ), mw.msg( 'jun' ),\r\n\t\t\t\tmw.msg( 'jul' ), mw.msg( 'aug' ), mw.msg( 'sep' ),\r\n\t\t\t\tmw.msg( 'oct' ), mw.msg( 'nov' ), mw.msg( 'dec' )\r\n\t\t\t],\r\n\t\t\tdayNames: [ mw.msg( 'sunday' ), mw.msg( 'monday' ), mw.msg( 'tuesday' ),\r\n\t\t\t\tmw.msg( 'wednesday' ), mw.msg( 'thursday' ), mw.msg( 'friday' ), mw.msg( 'saturday' )\r\n\t\t\t],\r\n\t\t\tdayNamesShort: [ mw.msg( 'sun' ), mw.msg( 'mon' ), mw.msg( 'tue' ),\r\n\t\t\t\tmw.msg( 'wed' ), mw.msg( 'thu' ), mw.msg( 'fri' ), mw.msg( 'sat' )\r\n\t\t\t],\r\n\t\t\tbuttonText: {\r\n\t\t\t\ttoday: mw.msg( 'srf-ui-eventcalendar-label-today' ),\r\n\t\t\t\tmonth: mw.msg( 'srf-ui-eventcalendar-label-month' ),\r\n\t\t\t\tweek: mw.msg( 'srf-ui-eventcalendar-label-week' ),\r\n\t\t\t\tday: mw.msg( 'srf-ui-eventcalendar-label-day' )\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\tallDayText: mw.msg( 'srf-ui-eventcalendar-label-allday' ),\r\n\t\t\ttimeFormat: {\r\n\t\t\t\t'': mw.msg( 'srf-ui-eventcalendar-format-time' ),\r\n\t\t\t\tagenda: mw.msg( 'srf-ui-eventcalendar-format-time-agenda' )\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\taxisFormat: mw.msg( 'srf-ui-eventcalendar-format-axis' ),\r\n\t\t\ttitleFormat: {\r\n\t\t\t\tmonth: mw.msg( 'srf-ui-eventcalendar-format-title-month' ),\r\n\t\t\t\tweek: mw.msg( 'srf-ui-eventcalendar-format-title-week' ),\r\n\t\t\t\tday: mw.msg( 'srf-ui-eventcalendar-format-title-day' )\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\tcolumnFormat: {\r\n\t\t\t\tmonth: mw.msg( 'srf-ui-eventcalendar-format-column-month' ),\r\n\t\t\t\tweek: mw.msg( 'srf-ui-eventcalendar-format-column-week' ),\r\n\t\t\t\tday: mw.msg( 'srf-ui-eventcalendar-format-column-day' )\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic init() {\r\n\r\n\t\tlet _i18n = this.getI18N();\r\n\r\n\t\t// initialize the calendar\r\n\t\tthis.target.fullCalendar( {\r\n\r\n\t\t\tfirstDay: this.options.firstDay,\r\n\t\t\tisRTL: this.options.isRTL,\r\n\t\t\tmonthNames: _i18n.monthNames,\r\n\t\t\tmonthNamesShort: _i18n.monthNamesShort,\r\n\t\t\tdayNames: _i18n.dayNames,\r\n\t\t\tdayNamesShort: _i18n.dayNamesShort,\r\n\t\t\tbuttonText: _i18n.buttonText,\r\n\t\t\tallDayText: _i18n.allDayText,\r\n\t\t\ttimeFormat: _i18n.timeFormat,\r\n\t\t\ttitleFormat: _i18n.titleFormat,\r\n\t\t\tcolumnFormat: _i18n.columnFormat\r\n\t\t} );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprivate getEvent( rowId: any, rowData: any ) {\r\n\r\n\t\tlet eventdata: any = {\r\n\t\t\tid: rowId,\r\n\t\t\ttitle: rowData[ 'title' ],\r\n\t\t\tstart: rowData[ 'start' ],\r\n\t\t\tclassName: rowId\r\n\t\t};\r\n\r\n\t\tif ( rowData.hasOwnProperty( 'end' ) ) {\r\n\t\t\teventdata[ 'end' ] = rowData[ 'end' ];\r\n\t\t}\r\n\r\n\t\tif ( rowData.hasOwnProperty( 'url' ) ) {\r\n\t\t\teventdata[ 'url' ] = rowData[ 'url' ];\r\n\t\t}\r\n\r\n\t\treturn eventdata;\r\n\t}\r\n\r\n\tpublic showRows( rowIds: string[] ): any {\r\n\r\n\t\tlet events: any[] = [];\r\n\r\n\t\trowIds.forEach( ( rowId: string ) => {\r\n\r\n\t\t\tlet rowData = this.controller.getData()[ rowId ].data[ this.id ];\r\n\r\n\t\t\tif ( rowData.hasOwnProperty( 'start' ) ) {\r\n\t\t\t\tevents.push( this.getEvent( rowId, rowData ) );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.target.fullCalendar( 'addEventSource', events );\r\n\t}\r\n\r\n\tpublic hideRows( rowIds: string[] ): any {\r\n\t\tthis.target.fullCalendar( 'removeEvents', ( e: any ) => ( rowIds.indexOf( e._id ) >= 0 ) );\r\n\t}\r\n\r\n\tpublic show(): any {\r\n\t\tsuper.show();\r\n\t\tthis.target.fullCalendar( 'render' );\r\n\t}\r\n\r\n\tpublic hide(): any {\r\n\t\treturn super.hide();\r\n\t}\r\n\r\n}\r\n","import { View } from \"./View\";\r\nexport class ListView extends View {}\r\n","import { View } from \"./View\";\r\n\r\nexport class MapView extends View {\r\n\r\n\tprivate map: L.Map = undefined;\r\n\tprivate icon: L.Icon = undefined;\r\n\tprivate markers: { [key: string]: L.Marker[] } = undefined;\r\n\tprivate markerClusterGroup: L.MarkerClusterGroup = undefined;\r\n\tprivate bounds: L.LatLngBounds = undefined;\r\n\tprivate initialized: boolean = false;\r\n\r\n\tpublic init() {\r\n\r\n\t\tlet data = this.controller.getData();\r\n\t\tlet markers: { [rowId: string]: L.Marker[] } = {};\r\n\t\tlet bounds: L.LatLngBounds = undefined;\r\n\r\n\t\tlet markerClusterGroup: L.MarkerClusterGroup = L.markerClusterGroup( {\r\n\t\t\tanimateAddingMarkers: true\r\n\t\t} );\r\n\r\n\t\tfor ( let rowId in data ) {\r\n\r\n\t\t\tlet positions: L.LatLngLiteral[] = data[ rowId ][ 'data' ][ this.id ][ 'positions' ];\r\n\t\t\tmarkers[ rowId ] = [];\r\n\r\n\t\t\tfor ( let pos of positions ) {\r\n\r\n\t\t\t\tbounds = ( bounds === undefined ) ? new L.LatLngBounds( pos, pos ) : bounds.extend( pos );\r\n\r\n\t\t\t\tlet marker = this.getMarker( pos, data[ rowId ] );\r\n\t\t\t\tmarkers[ rowId ].push( marker );\r\n\t\t\t\tmarkerClusterGroup.addLayer( marker );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.markerClusterGroup = markerClusterGroup;\r\n\t\tthis.markers = markers;\r\n\t\tthis.bounds = bounds;\r\n\r\n\t\treturn super.init();\r\n\t}\r\n\r\n\tprivate getIcon() {\r\n\t\tif ( this.icon === undefined ) {\r\n\r\n\t\t\tlet iconPath = this.controller.getPath() + 'css/images/';\r\n\r\n\t\t\tthis.icon = new L.Icon( {\r\n\t\t\t\t'iconUrl': iconPath + 'marker-icon.png',\r\n\t\t\t\t'iconRetinaUrl': iconPath + 'marker-icon-2x.png',\r\n\t\t\t\t'shadowUrl': iconPath + 'marker-shadow.png',\r\n\t\t\t\t'iconSize':    [25, 41],\r\n\t\t\t\t'iconAnchor':  [12, 41],\r\n\t\t\t\t'popupAnchor': [1, -34],\r\n\t\t\t\t// 'tooltipAnchor': [16, -28],\r\n\t\t\t\t'shadowSize':  [41, 41]\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\treturn this.icon;\r\n\t}\r\n\r\n\tprivate getMarker( latLng: L.LatLngExpression, row: any ) {\r\n\t\tlet title = undefined;\r\n\t\tlet popup = [];\r\n\r\n\t\t// TODO: Use <div> instead of <b> and do CSS styling\r\n\r\n\t\tfor ( let prId in row[ 'printouts' ] ) {\r\n\r\n\t\t\tlet printouts = row[ 'printouts' ][ prId ];\r\n\r\n\t\t\tif ( title === undefined ) {\r\n\t\t\t\ttitle = printouts[ 'values' ].join( ', ' );\r\n\t\t\t\tpopup.push( '<b>' + printouts[ 'formatted values' ].join( ', ' ) + '</b>' );\r\n\t\t\t} else {\r\n\t\t\t\tpopup.push( (printouts.label ? '<b>' + printouts.label + ':</b> ' : '') + printouts[ 'formatted values' ].join( ', ' ) )\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet marker = L.marker( latLng, { title: title, alt: title } );\r\n\t\tmarker.bindPopup( popup.join( '<br>' ) );\r\n\r\n\t\tmarker.setIcon( this.getIcon() );\r\n\t\treturn marker;\r\n\t}\r\n\r\n\tpublic lateInit() {\r\n\r\n\t\tif ( this.initialized ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.initialized = true;\r\n\r\n\t\tlet that = this;\r\n\t\t$( () => { // as soon as the document is ready\r\n\t\t\tsetTimeout( () => { // let everybody else do their job\r\n\t\t\t\tthat.map = L.map( that.getTargetElement().get( 0 ) )\r\n\t\t\t\t.addLayer( L.tileLayer( 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n\t\t\t\t\tattribution: ''\r\n\t\t\t\t} ) )\r\n\t\t\t\t.addLayer( that.markerClusterGroup )\r\n\t\t\t\t.fitBounds( that.bounds )\r\n\t\t\t}, 0 );\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tpublic showRows( rowIds: string[] ) {\r\n\t\tlet markers: L.Layer[][] = rowIds.map( ( rowId: string ) => this.markers[ rowId ] );\r\n\t\tthis.markerClusterGroup.addLayers( markers.reduce( ( result: L.Layer[], layers: L.Layer[] ) => result.concat( layers ) ) );\r\n\t}\r\n\r\n\tpublic hideRows( rowIds: string[] ) {\r\n\t\tlet markers: L.Layer[][] = rowIds.map( ( rowId: string ) => this.markers[ rowId ] );\r\n\t\tthis.markerClusterGroup.removeLayers( markers.reduce( ( result: L.Layer[], layers: L.Layer[] ) => result.concat( layers ) ) );\r\n\t}\r\n\r\n\tpublic show() {\r\n\t\tsuper.show();\r\n\t\tthis.lateInit();\r\n\t}\r\n\r\n}\r\n","import { View } from \"./View\";\r\nexport class TableView extends View {}","import { Options } from \"../../types\";\r\nimport { Controller } from \"../Controller\";\r\n\r\nexport class View {\r\n\r\n\tprotected id: string = undefined;\r\n\tprotected target: JQuery = undefined;\r\n\tprotected controller: Controller = undefined;\r\n\tprotected options: Options = undefined;\r\n\r\n\tpublic constructor( id: string, target: JQuery, c: Controller, options: Options = {} ) {\r\n\t\tthis.id = id;\r\n\t\tthis.target = target;\r\n\t\tthis.controller = c;\r\n\t\tthis.options = options;\r\n\t}\r\n\r\n\tpublic init() {}\r\n\r\n\tpublic getTargetElement(): JQuery {\r\n\t\treturn this.target;\r\n\t}\r\n\r\n\tpublic showRows( rowIds: string[] ) {\r\n\t\trowIds.forEach( ( rowId: string ) => {\r\n\t\t\tthis.target.find( '.' + rowId ).slideDown( 400 );\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic hideRows( rowIds: string[] ) {\r\n\t\trowIds.forEach( ( rowId: string ) => {\r\n\t\t\tthis.target.find( '.' + rowId ).slideUp( 400 );\r\n\t\t} );\r\n\t}\r\n\r\n\tpublic show() {\r\n\t\tthis.target.show();\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tthis.target.hide();\r\n\t}\r\n}\r\n","import { Filtered } from \"./Filtered/Filtered\";\r\n\r\ndeclare let mw: any;\r\nlet config = mw.config.get( 'srfFilteredConfig' );\r\n\r\nfor ( let id in config ) {\r\n\tif ( config.hasOwnProperty( id ) ) {\r\n\t\tlet f = new Filtered( $( '#' + id ), config[ id ] );\r\n\t\tf.run();\r\n\t}\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvQ29udHJvbGxlci50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9GaWx0ZXIvRGlzdGFuY2VGaWx0ZXIudHMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvRmlsdGVyL0ZpbHRlci50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9GaWx0ZXIvTnVtYmVyRmlsdGVyLnRzIiwicmVzb3VyY2VzL3RzL0ZpbHRlcmVkL0ZpbHRlci9WYWx1ZUZpbHRlci50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9GaWx0ZXJlZC50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9WaWV3U2VsZWN0b3IudHMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvVmlldy9DYWxlbmRhclZpZXcudHMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvVmlldy9MaXN0Vmlldy50cyIsInJlc291cmNlcy90cy9GaWx0ZXJlZC9WaWV3L01hcFZpZXcudHMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvVmlldy9UYWJsZVZpZXcudHMiLCJyZXNvdXJjZXMvdHMvRmlsdGVyZWQvVmlldy9WaWV3LnRzIiwicmVzb3VyY2VzL3RzL2Jvb3RzdHJhcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDR0Esb0NBQW1DO0FBR25DO0lBUUMsb0JBQW9CLE1BQWMsRUFBRSxJQUFnQjtRQVA1QyxXQUFNLEdBQVcsU0FBUyxDQUFDO1FBRTNCLFVBQUssR0FBNEIsRUFBRSxDQUFDO1FBQ3BDLFlBQU8sR0FBOEIsRUFBRSxDQUFDO1FBQ3hDLGdCQUFXLEdBQVMsU0FBUyxDQUFDO1FBSXJDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWpCLEdBQUcsQ0FBQyxDQUFFLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFLLENBQUMsQ0FBQyxDQUFDO1lBQy9CLEVBQUUsQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxLQUFLLENBQUUsQ0FBQyxjQUFjLENBQUUsU0FBUyxDQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7WUFDakMsQ0FBQztRQUVGLENBQUM7SUFDRixDQUFDO0lBRU0sNEJBQU8sR0FBZDtRQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFFTSw0QkFBTyxHQUFkO1FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFFLGdCQUFnQixDQUFFLEdBQUcsOEJBQThCLENBQUM7SUFDOUUsQ0FBQztJQUVNLCtCQUFVLEdBQWpCLFVBQW1CLE1BQWMsRUFBRSxJQUFVO1FBRTVDLElBQUksQ0FBQyxLQUFLLENBQUUsTUFBTSxDQUFFLEdBQUcsSUFBSSxDQUFDO1FBRTVCLEVBQUUsQ0FBQyxDQUFFLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBVSxDQUFDLENBQUMsQ0FBQztZQUN0QyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztZQUN4QixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDYixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDUCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDYixDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSw0QkFBTyxHQUFkLFVBQWdCLE1BQWM7UUFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUUsTUFBTSxDQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVNLGlDQUFZLEdBQW5CLFVBQXFCLE1BQWM7UUFDbEMsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRTlCLElBQUksQ0FBQyxPQUFPLENBQUUsUUFBUSxDQUFFLEdBQUcsTUFBTSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxlQUFlLENBQUUsUUFBUSxDQUFFLENBQUM7UUFFakMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSw4QkFBUyxHQUFoQixVQUFrQixRQUFnQjtRQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBRSxRQUFRLENBQUUsQ0FBQztJQUNqQyxDQUFDO0lBRU0seUJBQUksR0FBWDtRQUNDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBRSxJQUFJLENBQUMsV0FBVyxDQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVPLGlDQUFZLEdBQXBCLFVBQXNCLElBQVU7UUFFL0IsRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFDLFdBQVcsWUFBWSxXQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDekIsQ0FBQztRQUVELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBRXhCLEVBQUUsQ0FBQyxDQUFFLElBQUksQ0FBQyxXQUFXLFlBQVksV0FBSyxDQUFDLENBQUMsQ0FBQztZQUN4QyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDYixDQUFDO0lBRUYsQ0FBQztJQUVPLHNDQUFpQixHQUF6QjtRQUNDLElBQUksTUFBTSxHQUFhLEVBQUUsQ0FBQztRQUMxQixJQUFJLE1BQU0sR0FBYSxFQUFFLENBQUM7UUFFMUIsR0FBRyxDQUFDLENBQUUsSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLElBQUssQ0FBQyxDQUFDLENBQUM7WUFDL0IsR0FBRyxDQUFDLENBQUUsSUFBSSxRQUFRLElBQUksSUFBSSxDQUFDLE9BQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUUsS0FBSyxDQUFFLENBQUMsT0FBTyxDQUFFLFFBQVEsQ0FBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsUUFBUSxDQUFFLENBQUMsU0FBUyxDQUFFLEtBQUssQ0FBRSxDQUFDO1lBQ3RGLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBRSxJQUFJLENBQUMsU0FBUyxDQUFFLEtBQUssQ0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDL0IsTUFBTSxDQUFDLElBQUksQ0FBRSxLQUFLLENBQUUsQ0FBQztZQUN0QixDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsTUFBTSxDQUFDLElBQUksQ0FBRSxLQUFLLENBQUUsQ0FBQztZQUN0QixDQUFDO1FBQ0YsQ0FBQztRQUVELElBQUksQ0FBQyxRQUFRLENBQUUsTUFBTSxDQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBRSxNQUFNLENBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0sbUNBQWMsR0FBckIsVUFBdUIsTUFBYztRQUNwQyxJQUFJLENBQUMsWUFBWSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUUsTUFBTSxDQUFFLENBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRU0sb0NBQWUsR0FBdEIsVUFBd0IsUUFBZ0I7UUFDdkMsSUFBSSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBQzFCLElBQUksTUFBTSxHQUFhLEVBQUUsQ0FBQztRQUUxQixHQUFHLENBQUMsQ0FBRSxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSyxDQUFDLENBQUMsQ0FBQztZQUMvQixJQUFJLFVBQVUsR0FBWSxJQUFJLENBQUMsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFDLE9BQU8sQ0FBRSxRQUFRLENBQUUsQ0FBQztZQUNqRSxJQUFJLFVBQVUsR0FBWSxJQUFJLENBQUMsT0FBTyxDQUFFLFFBQVEsQ0FBRSxDQUFDLFNBQVMsQ0FBRSxLQUFLLENBQUUsQ0FBQztZQUV0RSxFQUFFLENBQUMsQ0FBRSxVQUFVLEtBQUssVUFBVyxDQUFDLENBQUMsQ0FBQztnQkFFakMsSUFBSSxDQUFDLElBQUksQ0FBRSxLQUFLLENBQUUsQ0FBQyxPQUFPLENBQUUsUUFBUSxDQUFFLEdBQUcsVUFBVSxDQUFDO2dCQUVwRCxFQUFFLENBQUMsQ0FBRSxVQUFVLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBRSxLQUFLLENBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQzdDLE1BQU0sQ0FBQyxJQUFJLENBQUUsS0FBSyxDQUFFLENBQUM7b0JBQ3JCLCtCQUErQjtnQkFDaEMsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDUCxNQUFNLENBQUMsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFDO29CQUNyQiwrQkFBK0I7Z0JBQ2hDLENBQUM7WUFDRixDQUFDO1FBQ0YsQ0FBQztRQUVELElBQUksQ0FBQyxRQUFRLENBQUUsTUFBTSxDQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBRSxNQUFNLENBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0sOEJBQVMsR0FBaEIsVUFBa0IsS0FBVTtRQUMzQixHQUFHLENBQUMsQ0FBRSxJQUFJLFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFDLE9BQVEsQ0FBQyxDQUFDLENBQUM7WUFDbkQsRUFBRSxDQUFDLENBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFDLE9BQU8sQ0FBRSxRQUFRLENBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDZCxDQUFDO1FBQ0YsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU8sNkJBQVEsR0FBaEIsVUFBa0IsTUFBZ0I7UUFDakMsRUFBRSxDQUFDLENBQUUsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzNCLE1BQU0sQ0FBQztRQUNSLENBQUM7UUFDRCxHQUFHLENBQUMsQ0FBRSxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsS0FBTSxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxDQUFDLFFBQVEsQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUN6QyxDQUFDO0lBQ0YsQ0FBQztJQUVPLDZCQUFRLEdBQWhCLFVBQWtCLE1BQWdCO1FBQ2pDLEVBQUUsQ0FBQyxDQUFFLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBRSxDQUFDLENBQUMsQ0FBQztZQUMzQixNQUFNLENBQUM7UUFDUixDQUFDO1FBQ0QsR0FBRyxDQUFDLENBQUUsSUFBSSxNQUFNLElBQUksSUFBSSxDQUFDLEtBQU0sQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLEtBQUssQ0FBRSxNQUFNLENBQUUsQ0FBQyxRQUFRLENBQUUsTUFBTSxDQUFFLENBQUM7UUFDekMsQ0FBQztJQUNGLENBQUM7SUFDRixpQkFBQztBQUFELENBMUpBLEFBMEpDLElBQUE7QUExSlksZ0NBQVU7Ozs7Ozs7Ozs7Ozs7O0FDTnZCLG1DQUFrQztBQUlsQztJQUFvQyxrQ0FBTTtJQUExQztRQUFBLHFFQXNJQztRQTVIUSxzQkFBZ0IsR0FBVyxjQUFjLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQztRQUN6RCxpQkFBVyxHQUFXLENBQUMsQ0FBQzs7SUEySGpDLENBQUM7SUF6SE8sNkJBQUksR0FBWDtRQUVDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUM7UUFFdkMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBRSxRQUFRLENBQUUsQ0FBQztRQUV0QyxFQUFFLENBQUMsQ0FBRSxDQUFDLENBQUUsTUFBTSxLQUFLLFNBQVMsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFFLEtBQUssQ0FBRSxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUUsS0FBSyxDQUFFLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNyQixNQUFNLENBQUM7UUFDUixDQUFDO1FBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWhCLEVBQUUsQ0FBQyxDQUFFLElBQUksQ0FBQyxPQUFPLENBQUUsTUFBTSxDQUFFLElBQUksY0FBYyxDQUFDLFdBQVcsQ0FBRSxJQUFJLENBQUMsT0FBTyxDQUFFLE1BQU0sQ0FBRSxDQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3RGLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFFLE1BQU0sQ0FBRSxDQUFDO1FBQy9CLENBQUM7UUFFRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsY0FBYyxDQUFDLFdBQVcsQ0FBRSxJQUFJLENBQUUsQ0FBQztRQUUzRCxJQUFJLFFBQVEsR0FBVyxJQUFJLENBQUMsZUFBZSxDQUFFLE1BQU0sQ0FBRSxDQUFDO1FBRXRELElBQUksU0FBUyxHQUFHLFNBQUEsRUFBRSxFQUFJLENBQUUsSUFBSSxDQUFDLEtBQUssQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFFLFFBQVEsQ0FBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQSxDQUFDO1FBRTlFLEVBQUUsQ0FBQyxDQUFFLElBQUksQ0FBQyxPQUFPLENBQUUsS0FBSyxDQUFFLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUUsS0FBSyxDQUFFLEdBQUcsUUFBUyxDQUFDLENBQUMsQ0FBQztZQUMvRSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBRSxLQUFLLENBQUUsQ0FBQztRQUNsQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDUCxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBRSxRQUFRLEdBQUcsU0FBUyxDQUFFLEdBQUcsU0FBUyxDQUFDO1FBQzFELENBQUM7UUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsZUFBZSxDQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxJQUFJLENBQUMsT0FBTyxDQUFFLGVBQWUsQ0FBRSxFQUFFLFFBQVEsQ0FBRSxHQUFHLFFBQVEsQ0FBQztRQUV0SCx3QkFBd0I7UUFDeEIsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUVqQyxjQUFjO2FBQ2IsTUFBTSxDQUFFLDZDQUE2QyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsT0FBTyxDQUFFLEdBQUcsZUFBZSxDQUFFLENBQUM7UUFFckcsY0FBYyxHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBRSxjQUFjLENBQUUsQ0FBQztRQUVoRSxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUUseUNBQXlDLEdBQUcsSUFBSSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUUsQ0FBQztRQUUzRixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUUsaUdBQWlHO1lBQy9HLDZGQUE2RjtZQUM3Rix5Q0FBeUMsR0FBRyxRQUFRLEdBQUcsWUFBWTtZQUNuRSx3REFBd0QsR0FBRyxJQUFJLEdBQUcsNEJBQTRCLENBQUUsQ0FBQztRQUVsRyxjQUFjLENBQUMsTUFBTSxDQUFFLEtBQUssQ0FBRSxDQUFDO1FBRS9CLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxrQkFBa0IsQ0FBRSxDQUFDLElBQUksQ0FBRTtZQUUzQyxLQUFLLENBQUMsSUFBSSxDQUFFLDJCQUEyQixDQUFFO2lCQUN4QyxNQUFNLENBQUU7Z0JBQ1IsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsR0FBRyxFQUFFLFFBQVE7Z0JBQ2IsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXO2dCQUN2QixJQUFJLEVBQUUsU0FBUyxHQUFHLEdBQUc7YUFDckIsQ0FBRTtpQkFDRixFQUFFLENBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxVQUFXLFdBQThCLEVBQUUsRUFBTztnQkFDcEcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUN6QixXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUUsV0FBVyxDQUFFLENBQUM7WUFDeEQsQ0FBQyxDQUFFO2lCQUNGLEVBQUUsQ0FBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLFVBQVcsV0FBOEIsRUFBRSxFQUFPO2dCQUM5RixPQUFPLENBQUMsSUFBSSxDQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUUsQ0FBQztZQUMxQixDQUFDLENBQUU7aUJBQ0YsSUFBSSxDQUFFLG1CQUFtQixDQUFFO2lCQUMzQixNQUFNLENBQUUsT0FBTyxDQUFFLENBQUM7UUFFcEIsQ0FBQyxDQUFFLENBQUM7UUFFSixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVPLHdDQUFlLEdBQXZCLFVBQXlCLE1BQXVCO1FBQWhELGlCQXFCQztRQW5CQSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3ZDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztRQUVaLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFFL0IsR0FBRyxDQUFDLENBQUUsSUFBSSxLQUFLLElBQUksTUFBTyxDQUFDLENBQUMsQ0FBQztZQUU1QixFQUFFLENBQUMsQ0FBRSxNQUFNLENBQUUsS0FBSyxDQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBRSxJQUFJLENBQUMsUUFBUSxDQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUM1RCxJQUFJLFNBQVMsR0FBYSxNQUFNLENBQUUsS0FBSyxDQUFFLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxRQUFRLENBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFFLFVBQUUsR0FBb0IsSUFBTSxPQUFBLEtBQUksQ0FBQyxRQUFRLENBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBRSxFQUE1QixDQUE0QixDQUFFLENBQUM7Z0JBQzFJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE9BQVIsSUFBSSxFQUFTLFNBQVMsQ0FBRSxDQUFDO2dCQUVwQyxNQUFNLENBQUUsS0FBSyxDQUFFLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxRQUFRLENBQUUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2dCQUN0RCxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxHQUFHLEVBQUUsSUFBSSxDQUFFLENBQUM7WUFDN0IsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNQLE1BQU0sQ0FBRSxLQUFLLENBQUUsQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBRSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDM0QsQ0FBQztRQUNGLENBQUM7UUFFRCxNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ1osQ0FBQztJQUVNLHdDQUFlLEdBQXRCLFVBQXdCLFdBQThCO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO1FBQzdDLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBRSxDQUFDO0lBQ2pELENBQUM7SUFFTyxpQ0FBUSxHQUFoQixVQUFrQixDQUFrQixFQUFFLENBQWtCO1FBRXZELElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDO1FBRWhDLGlCQUFrQixDQUFTO1lBQzFCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2IsQ0FBQztRQUVELElBQUksQ0FBQyxHQUNKLE9BQU8sQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFFLENBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFFLEdBQUcsT0FBTyxHQUFHLEdBQUcsQ0FBRSxDQUFFO1lBQ3hELElBQUksQ0FBQyxHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFFO2dCQUN6RCxPQUFPLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBRSxDQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxHQUFHLE9BQU8sR0FBRyxHQUFHLENBQUUsQ0FBRSxDQUFDO1FBRTFELE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUUsSUFBSSxDQUFDLElBQUksQ0FBRSxDQUFDLENBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBRSxDQUFDO0lBQ3JGLENBQUM7SUFFTSxrQ0FBUyxHQUFoQixVQUFrQixLQUFhO1FBQzlCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFFLEtBQUssQ0FBRSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsUUFBUSxDQUFFLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDOUYsQ0FBQztJQUVGLHFCQUFDO0FBQUQsQ0F0SUEsQUFzSUMsQ0F0SW1DLGVBQU07QUFFakIsMEJBQVcsR0FBOEI7SUFDaEUsQ0FBQyxFQUFFLFNBQVM7SUFDWixFQUFFLEVBQUUsU0FBUztJQUNiLEVBQUUsRUFBRSxTQUFTO0lBQ2IsRUFBRSxFQUFFLFNBQVM7SUFDYixDQUFDLEVBQUUsaUJBQWlCO0NBQ3BCLENBQUM7QUFSVSx3Q0FBYzs7OztBQ0QzQjtJQVFDLGdCQUFvQixRQUFnQixFQUFFLE1BQWMsRUFBRSxjQUFzQixFQUFFLFVBQXNCLEVBQUUsT0FBaUI7UUFON0csV0FBTSxHQUFXLFNBQVMsQ0FBQztRQUkzQixZQUFPLEdBQVksU0FBUyxDQUFDO1FBR3RDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRU0scUJBQUksR0FBWCxjQUFlLENBQUM7SUFBQSxDQUFDO0lBRVYsMEJBQVMsR0FBaEIsVUFBa0IsS0FBYTtRQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVNLHNCQUFLLEdBQVo7UUFDQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN0QixDQUFDO0lBRVMsd0NBQXVCLEdBQWpDLFVBQW1DLGNBQXNCO1FBQ3hELElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFFLGFBQWEsQ0FBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsYUFBYSxDQUFFLEdBQUcsU0FBUyxDQUFDO1FBQzNHLEVBQUUsQ0FBQyxDQUFFLFdBQVcsS0FBSyxXQUFXLElBQUksV0FBVyxLQUFLLGFBQWMsQ0FBQyxDQUFDLENBQUM7WUFFcEUsSUFBSSxhQUFXLEdBQUcsQ0FBQyxDQUFFLDhCQUE4QixDQUFFLENBQUM7WUFDdEQsSUFBSSxhQUFXLEdBQUcsQ0FBQyxDQUFFLDhCQUE4QixDQUFFLENBQUM7WUFFdEQsY0FBYztpQkFDYixPQUFPLENBQUUsYUFBVyxDQUFFO2lCQUN0QixPQUFPLENBQUUsYUFBVyxDQUFFLENBQUM7WUFFeEIsY0FBYyxHQUFHLENBQUMsQ0FBRSxvQ0FBb0MsQ0FBRTtpQkFDekQsUUFBUSxDQUFFLGNBQWMsQ0FBRSxDQUFDO1lBRTVCLElBQUksZUFBYSxHQUFHLGNBQWMsQ0FBQztZQUVuQyxhQUFXLENBQUMsS0FBSyxDQUFFO2dCQUNsQixlQUFhLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQzFCLGFBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbkIsYUFBVyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3BCLENBQUMsQ0FBRSxDQUFDO1lBRUosYUFBVyxDQUFDLEtBQUssQ0FBRTtnQkFDbEIsZUFBYSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUN4QixhQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ25CLGFBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNwQixDQUFDLENBQUUsQ0FBQztZQUVKLEVBQUUsQ0FBQyxDQUFFLFdBQVcsS0FBSyxXQUFZLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxhQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ25CLGVBQWEsQ0FBQyxPQUFPLENBQUUsQ0FBQyxDQUFFLENBQUM7WUFDNUIsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNQLGFBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNwQixDQUFDO1FBQ0YsQ0FBQztRQUNELE1BQU0sQ0FBQyxjQUFjLENBQUM7SUFDdkIsQ0FBQztJQUVGLGFBQUM7QUFBRCxDQWhFQSxBQWdFQyxJQUFBO0FBaEVxQix3QkFBTTs7Ozs7Ozs7Ozs7Ozs7QUNINUIsbUNBQWtDO0FBSWxDO0lBQWtDLGdDQUFNO0lBQXhDO1FBQUEscUVBcU1DO1FBbk1RLGdCQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsY0FBUSxHQUFHLENBQUMsQ0FBQztRQUNiLGNBQVEsR0FBRyxDQUFDLENBQUM7UUFDYixpQkFBVyxHQUFHLENBQUMsQ0FBQztRQUVoQixzQkFBZ0IsR0FBVyxDQUFDLENBQUM7UUFDN0Isc0JBQWdCLEdBQVcsQ0FBQyxDQUFDO1FBQzdCLFVBQUksR0FBRyxLQUFJLENBQUMsVUFBVSxDQUFDOztJQTRMaEMsQ0FBQztJQTFMTywyQkFBSSxHQUFYO1FBRUssSUFBQSxvQkFBNkQsRUFBM0QsZ0JBQVEsRUFBRSxnQkFBUSxDQUEwQztRQUVsRSxJQUFJLFNBQVMsR0FBRyxTQUFBLEVBQUUsRUFBSSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBRSxRQUFRLEdBQUcsUUFBUSxDQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBRSxHQUFHLENBQUMsQ0FBRSxDQUFBLENBQUM7UUFFMUYsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBRSxLQUFLLENBQUUsQ0FBQztRQUN6QyxFQUFFLENBQUMsQ0FBRSxZQUFZLEtBQUssU0FBUyxJQUFJLENBQUMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxZQUFZLENBQUUsQ0FBRyxDQUFDLENBQUMsQ0FBQztZQUN0RSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxZQUFZLEVBQUUsUUFBUSxDQUFFLENBQUM7UUFDL0MsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1AsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUUsUUFBUSxHQUFHLFNBQVMsQ0FBRSxHQUFHLFNBQVMsQ0FBQztRQUMxRCxDQUFDO1FBRUQsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBRSxLQUFLLENBQUUsQ0FBQztRQUN6QyxFQUFFLENBQUMsQ0FBRSxZQUFZLEtBQUssU0FBUyxJQUFJLENBQUMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxZQUFZLENBQUUsQ0FBRyxDQUFDLENBQUMsQ0FBQztZQUN0RSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxZQUFZLEVBQUUsUUFBUSxDQUFFLENBQUM7UUFDL0MsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1AsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUUsUUFBUSxHQUFHLFNBQVMsQ0FBRSxHQUFHLFNBQVMsQ0FBQztRQUMzRCxDQUFDO1FBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUNsQyxFQUFFLENBQUMsQ0FBRSxJQUFJLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBRSxNQUFNLENBQUUsSUFBSSxDQUFFLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckQsSUFBSSxHQUFHLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDdkIsQ0FBQztRQUVELElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxRQUFRLENBQUM7UUFDakMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsQ0FBQztRQUVqQyx3QkFBd0I7UUFDeEIsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUVqQyxjQUFjO2FBQ2IsTUFBTSxDQUFFLDJDQUEyQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsT0FBTyxDQUFFLEdBQUcsZUFBZSxDQUFFLENBQUM7UUFFbkcsY0FBYyxHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBRSxjQUFjLENBQUUsQ0FBQztRQUVoRSxJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUUsdUNBQXVDLENBQUUsQ0FBQztRQUMvRCxJQUFJLFlBQVksR0FBRyxDQUFDLENBQUUsdUNBQXVDLENBQUUsQ0FBQztRQUVoRSxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFakIsRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBRSxTQUFTLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFDakMsT0FBTyxHQUFHLHlEQUF5RCxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsU0FBUyxDQUFFLEdBQUcsWUFBWSxDQUFDO1FBQ2hILENBQUM7UUFFRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUUsa0RBQWtEO1lBQ2hFLHVDQUF1QyxHQUFHLFFBQVEsR0FBRyxPQUFPO1lBQzVELCtDQUErQztZQUMvQyx1Q0FBdUMsR0FBRyxRQUFRLEdBQUcsWUFBWTtZQUNqRSxPQUFPO1lBQ1Asa0JBQWtCLENBQUUsQ0FBQztRQUV0QixJQUFJLGVBQWUsR0FBRyxDQUFDLENBQUUsc0NBQXNDLENBQUUsQ0FBQztRQUNsRSxJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUUsdURBQXVELENBQUUsQ0FBQztRQUMvRSxJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUUsdURBQXVELENBQUUsQ0FBQztRQUMvRSxJQUFJLFlBQVksR0FBRyxDQUFDLENBQUUsd0RBQXdELENBQUUsQ0FBQztRQUVqRixJQUFJLGFBQWEsR0FBMkI7WUFDM0MsT0FBTyxFQUFFLElBQUk7WUFDYixHQUFHLEVBQUUsUUFBUTtZQUNiLEdBQUcsRUFBRSxRQUFRO1lBQ2IsSUFBSSxFQUFFLElBQUk7U0FDVixDQUFDO1FBRUYsTUFBTSxDQUFDLENBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBRSxTQUFTLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckMsS0FBSyxLQUFLO2dCQUNULElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFDMUIsYUFBYSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQzVCLGFBQWEsQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDO2dCQUUvQixXQUFXLENBQUMsSUFBSSxDQUFFLFFBQVEsQ0FBRSxDQUFDO2dCQUM3QixXQUFXLENBQUMsTUFBTSxDQUFFLFdBQVcsQ0FBRSxDQUFDO2dCQUNsQyxlQUFlLENBQUMsTUFBTSxDQUFFLFdBQVcsQ0FBRSxDQUFDO2dCQUV0QyxLQUFLLENBQUM7WUFDUCxLQUFLLEtBQUs7Z0JBQ1QsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO2dCQUMxQixhQUFhLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDNUIsYUFBYSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUM7Z0JBRS9CLFdBQVcsQ0FBQyxJQUFJLENBQUUsUUFBUSxDQUFFLENBQUM7Z0JBQzdCLFdBQVcsQ0FBQyxNQUFNLENBQUUsV0FBVyxDQUFFLENBQUM7Z0JBQ2xDLGVBQWUsQ0FBQyxNQUFNLENBQUUsV0FBVyxDQUFFLENBQUM7Z0JBQ3RDLEtBQUssQ0FBQztZQUNQLEtBQUssUUFBUTtnQkFDWixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7Z0JBQzdCLGFBQWEsQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDO2dCQUUvQixXQUFXLENBQUMsSUFBSSxDQUFFLFFBQVEsQ0FBRSxDQUFDO2dCQUM3QixZQUFZLENBQUMsTUFBTSxDQUFFLFdBQVcsQ0FBRSxDQUFDO2dCQUNuQyxlQUFlLENBQUMsTUFBTSxDQUFFLFlBQVksQ0FBRSxDQUFDO2dCQUV2QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDO2dCQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDO2dCQUVqQyxLQUFLLENBQUM7WUFDUDtnQkFDQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQzVCLGFBQWEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO2dCQUMzQixhQUFhLENBQUMsTUFBTSxHQUFHLENBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBRSxDQUFDO2dCQUU5QyxXQUFXLENBQUMsSUFBSSxDQUFFLFFBQVEsQ0FBRSxDQUFDO2dCQUM3QixXQUFXLENBQUMsTUFBTSxDQUFFLFdBQVcsQ0FBRSxDQUFDO2dCQUVsQyxZQUFZLENBQUMsSUFBSSxDQUFFLFFBQVEsQ0FBRSxDQUFDO2dCQUM5QixXQUFXLENBQUMsTUFBTSxDQUFFLFlBQVksQ0FBRSxDQUFDO2dCQUVuQyxlQUFlLENBQUMsTUFBTSxDQUFFLFdBQVcsQ0FBRSxDQUFDLE1BQU0sQ0FBRSxXQUFXLENBQUUsQ0FBQztRQUU5RCxDQUFDO1FBRUQsY0FBYyxDQUFDLE1BQU0sQ0FBRSxLQUFLLENBQUUsQ0FBQztRQUUvQixLQUFLO2FBQ0osSUFBSSxDQUFFLDhCQUE4QixDQUFFO2FBQ3RDLE1BQU0sQ0FBRSxlQUFlLENBQUUsQ0FBQztRQUUzQixJQUFJLElBQUksR0FBaUIsSUFBSSxDQUFDO1FBRTlCLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFFLGtCQUFrQixDQUFFLENBQUMsSUFBSSxDQUFFO1lBQzNDLGVBQWUsQ0FBQyxNQUFNLENBQUUsYUFBYSxDQUFFO2lCQUN0QyxFQUFFLENBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxVQUFXLFdBQThCLEVBQUUsRUFBTztnQkFDcEcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUN6QixXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUUsV0FBVyxDQUFFLENBQUM7WUFDeEQsQ0FBQyxDQUFFO2lCQUNGLEVBQUUsQ0FBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLFVBQVcsV0FBOEIsRUFBRSxFQUEwQztnQkFDakksRUFBRSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUM3RCxDQUFDLENBQUUsQ0FBQztRQUNMLENBQUMsQ0FBRSxDQUFDO1FBRUosTUFBTSxDQUFDLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTywrQkFBUSxHQUFoQjtRQUVDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDckMsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDO1FBQ25CLElBQUksR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBRXBCLEdBQUcsQ0FBQyxDQUFFLElBQUksS0FBSyxJQUFJLElBQUssQ0FBQyxDQUFDLENBQUM7WUFFMUIsRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDMUQsSUFBSSxNQUFNLEdBQWEsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsUUFBUSxDQUFFLENBQUMsTUFBTSxDQUFDO2dCQUNsRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsT0FBUixJQUFJLEdBQU0sR0FBRyxTQUFLLE1BQU0sRUFBRSxDQUFDO2dCQUNqQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsT0FBUixJQUFJLEdBQU0sR0FBRyxTQUFLLE1BQU0sRUFBRSxDQUFDO1lBQ2xDLENBQUM7UUFDRixDQUFDO1FBRUQsTUFBTSxDQUFDLENBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBRSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxzQ0FBZSxHQUF0QixVQUF3QixXQUE4QjtRQUNyRCxNQUFNLENBQUMsQ0FBRSxJQUFJLENBQUMsSUFBSyxDQUFDLENBQUMsQ0FBQztZQUNyQixLQUFLLElBQUksQ0FBQyxVQUFVO2dCQUNuQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFFLENBQUMsQ0FBRSxDQUFDO2dCQUN4RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFFLENBQUMsQ0FBRSxDQUFDO2dCQUN4RCxLQUFLLENBQUM7WUFDUCxLQUFLLElBQUksQ0FBQyxRQUFRO2dCQUNqQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dCQUNsRCxLQUFLLENBQUM7WUFDUCxLQUFLLElBQUksQ0FBQyxRQUFRO2dCQUNqQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dCQUNsRCxLQUFLLENBQUM7WUFDUCxLQUFLLElBQUksQ0FBQyxXQUFXO2dCQUNwQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dCQUNsRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dCQUNsRCxLQUFLLENBQUM7UUFDUixDQUFDO1FBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFFLENBQUM7SUFDakQsQ0FBQztJQUVNLGdDQUFTLEdBQWhCLFVBQWtCLEtBQWE7UUFDOUIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBRSxLQUFLLENBQUUsQ0FBQyxJQUFJLENBQUM7UUFFdEQsRUFBRSxDQUFDLENBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBRSxJQUFJLENBQUMsUUFBUSxDQUFHLENBQUMsQ0FBQyxDQUFDO1lBRS9DLEdBQUcsQ0FBQyxDQUFlLFVBQStCLEVBQS9CLEtBQUEsT0FBTyxDQUFFLElBQUksQ0FBQyxRQUFRLENBQUUsQ0FBQyxNQUFNLEVBQS9CLGNBQStCLEVBQS9CLElBQStCO2dCQUE1QyxJQUFJLEtBQUssU0FBQTtnQkFDZCxFQUFFLENBQUMsQ0FBRSxLQUFLLElBQUksSUFBSSxDQUFDLGdCQUFnQixJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsZ0JBQWlCLENBQUMsQ0FBQyxDQUFDO29CQUN4RSxNQUFNLENBQUMsSUFBSSxDQUFDO2dCQUNiLENBQUM7YUFDRDtRQUNGLENBQUM7UUFFRCxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2QsQ0FBQztJQUVGLG1CQUFDO0FBQUQsQ0FyTUEsQUFxTUMsQ0FyTWlDLGVBQU0sR0FxTXZDO0FBck1ZLG9DQUFZOzs7Ozs7Ozs7Ozs7OztBQ0p6QixtQ0FBa0M7QUFFbEM7SUFBaUMsK0JBQU07SUFBdkM7UUFBQSxxRUFpTUM7UUEvTFEsWUFBTSxHQUFRLEVBQUUsQ0FBQztRQUNqQixtQkFBYSxHQUFhLEVBQUUsQ0FBQztRQUU3QixZQUFNLEdBQUcsSUFBSSxDQUFDOztJQTRMdkIsQ0FBQztJQTFMTywwQkFBSSxHQUFYO1FBQ0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFTSwyQkFBSyxHQUFaLFVBQWMsS0FBYztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUUsQ0FBQztJQUNqRCxDQUFDO0lBRU8scUNBQWUsR0FBdkI7UUFFQyw0Q0FBNEM7UUFDNUMsSUFBSSxjQUFjLEdBQVEsRUFBRSxDQUFDO1FBQzdCLGlEQUFpRDtRQUNqRCxJQUFJLGtCQUFrQixHQUFRLEVBQUUsQ0FBQztRQUVqQyxFQUFFLENBQUMsQ0FBRSxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBRSxRQUFRLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFFL0MsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUUsUUFBUSxDQUFFLENBQUMsR0FBRyxDQUNsQyxVQUFFLElBQVk7Z0JBQ2IsTUFBTSxDQUFDO29CQUNOLGFBQWEsRUFBRSxJQUFJO29CQUNuQixjQUFjLEVBQUUsSUFBSTtpQkFDcEIsQ0FBQztZQUNILENBQUMsQ0FDRCxDQUFDO1FBRUgsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1AsMERBQTBEO1lBQzFELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDckMsSUFBSSxhQUFhLEdBQVUsRUFBRSxDQUFDO1lBQzlCLEdBQUcsQ0FBQyxDQUFFLElBQUksRUFBRSxJQUFJLElBQUssQ0FBQyxDQUFDLENBQUM7Z0JBRXZCLElBQUksY0FBYyxHQUFRLElBQUksQ0FBRSxFQUFFLENBQUUsQ0FBRSxXQUFXLENBQUUsQ0FBRSxJQUFJLENBQUMsY0FBYyxDQUFFLENBQUUsUUFBUSxDQUFFLENBQUM7Z0JBQ3ZGLElBQUksdUJBQXVCLEdBQUcsSUFBSSxDQUFFLEVBQUUsQ0FBRSxDQUFFLFdBQVcsQ0FBRSxDQUFFLElBQUksQ0FBQyxjQUFjLENBQUUsQ0FBRSxrQkFBa0IsQ0FBRSxDQUFDO2dCQUNyRyxJQUFJLGtCQUFrQixHQUFRLElBQUksQ0FBRSxFQUFFLENBQUUsQ0FBRSxXQUFXLENBQUUsQ0FBRSxJQUFJLENBQUMsY0FBYyxDQUFFLENBQUUsYUFBYSxDQUFFLENBQUM7Z0JBRWhHLEdBQUcsQ0FBQyxDQUFFLElBQUksQ0FBQyxJQUFJLGNBQWUsQ0FBQyxDQUFDLENBQUM7b0JBQ2hDLElBQUksc0JBQXNCLEdBQUcsdUJBQXVCLENBQUUsQ0FBQyxDQUFFLENBQUM7b0JBRTFELEVBQUUsQ0FBQyxDQUFFLHNCQUFzQixDQUFDLE9BQU8sQ0FBRSxJQUFJLENBQUUsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ25ELHNCQUFzQixHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBRSxzQkFBc0IsQ0FBRSxDQUFFLENBQUMsQ0FBRSxDQUFDO29CQUNoRixDQUFDO29CQUVELGNBQWMsQ0FBRSxjQUFjLENBQUUsQ0FBQyxDQUFFLENBQUUsR0FBRyxzQkFBc0IsQ0FBQztvQkFDL0Qsa0JBQWtCLENBQUUsY0FBYyxDQUFFLENBQUMsQ0FBRSxDQUFFLEdBQUcsa0JBQWtCLENBQUUsQ0FBQyxDQUFFLENBQUM7Z0JBQ3JFLENBQUM7WUFFRixDQUFDO1lBRUQsR0FBRyxDQUFDLENBQUUsSUFBSSxhQUFhLElBQUksa0JBQW1CLENBQUMsQ0FBQyxDQUFDO2dCQUNoRCxhQUFhLENBQUMsSUFBSSxDQUFDO29CQUNsQixhQUFhLEVBQUUsYUFBYTtvQkFDNUIsU0FBUyxFQUFFLGtCQUFrQixDQUFFLGFBQWEsQ0FBRTtvQkFDOUMsY0FBYyxFQUFFLGNBQWMsQ0FBRSxhQUFhLENBQUU7aUJBQy9DLENBQUMsQ0FBQztZQUNKLENBQUM7WUFFRCxhQUFhLENBQUMsSUFBSSxDQUNqQixVQUFFLENBQU0sRUFBRSxDQUFNO2dCQUNmLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBRSxDQUFDLENBQUMsU0FBUyxDQUFFLENBQUM7WUFDakQsQ0FBQyxDQUFFLENBQUM7WUFDTCxNQUFNLENBQUMsYUFBYSxDQUFDO1FBRXRCLENBQUM7SUFFRixDQUFDO0lBRU8sa0NBQVksR0FBcEI7UUFFQyxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRWpDLDBEQUEwRDtRQUMxRCxjQUFjLENBQUMsTUFBTSxDQUFFLDBDQUEwQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsT0FBTyxDQUFFLEdBQUcsZUFBZSxDQUFFLENBQUM7UUFFaEgsY0FBYyxHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBRSxjQUFjLENBQUUsQ0FBQztRQUNoRSxJQUFJLENBQUMscUJBQXFCLENBQUUsY0FBYyxDQUFFLENBQUM7UUFFN0MsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUUsUUFBUSxDQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBRSxRQUFRLENBQUUsR0FBRyxTQUFTLENBQUM7UUFDNUYsRUFBRSxDQUFDLENBQUUsTUFBTSxLQUFLLFNBQVUsQ0FBQyxDQUFDLENBQUM7WUFDNUIsY0FBYyxHQUFHLENBQUMsQ0FBRSx5Q0FBeUMsQ0FBRTtpQkFDOUQsUUFBUSxDQUFFLGNBQWMsQ0FBRSxDQUFDO1lBRTVCLGNBQWMsQ0FBQyxNQUFNLENBQUUsTUFBTSxDQUFFLENBQUM7UUFDakMsQ0FBQztRQUVELG1FQUFtRTtRQUNuRSxHQUFHLENBQUMsQ0FBZSxVQUFXLEVBQVgsS0FBQSxJQUFJLENBQUMsTUFBTSxFQUFYLGNBQVcsRUFBWCxJQUFXO1lBQXhCLElBQUksS0FBSyxTQUFBO1lBQ2QsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFFLHFDQUFxQyxDQUFFLENBQUM7WUFFeEQsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFFLDZEQUE2RCxHQUFHLEtBQUssQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFFLENBQUM7WUFFakgsdUJBQXVCO1lBQ3ZCLFFBQVE7aUJBQ1AsRUFBRSxDQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEVBQUUsVUFBVyxXQUE4QjtnQkFDdEYsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFFLFdBQVcsQ0FBRSxDQUFDO1lBQ3hELENBQUMsQ0FBRSxDQUFDO1lBRUosaURBQWlEO1lBQ2pELElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxjQUFjLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGdDQUFnQztZQUV6RixNQUFNLENBQUMsTUFBTSxDQUFFLFFBQVEsQ0FBRSxDQUFDLE1BQU0sQ0FBRSxLQUFLLENBQUUsQ0FBQztZQUUxQyxjQUFjLENBQUMsTUFBTSxDQUFFLE1BQU0sQ0FBRSxDQUFDO1NBRWhDO0lBRUYsQ0FBQztJQUVPLDJDQUFxQixHQUE3QixVQUErQixjQUFzQjtRQUNwRCxrQkFBa0I7UUFDbEIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUUsVUFBVSxDQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBRSxVQUFVLENBQUUsR0FBRyxTQUFTLENBQUM7UUFDbEcsRUFBRSxDQUFDLENBQUUsUUFBUSxLQUFLLFNBQVMsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUUsQ0FBQyxDQUFDLENBQUM7WUFFckQsSUFBSSxjQUFjLEdBQUcsQ0FBQyxDQUFFLHVDQUF1QyxDQUFFLENBQUM7WUFFbEUsRUFBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBRSxRQUFRLEVBQUUsUUFBUSxDQUFFLElBQUksQ0FBRSxDQUFDLENBQUMsQ0FBQztnQkFFNUMsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFFLG9DQUFvQyxDQUFFLENBQUM7Z0JBRTdELElBQUksVUFBVSxHQUFHLENBQUMsQ0FBRSwrQ0FBK0M7b0JBQ2xFLElBQUksQ0FBQyxjQUFjLEdBQUcsK0JBQStCLEdBQUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxnQkFBZ0IsQ0FBRSxDQUFDO2dCQUVsRyxJQUFJLFdBQVMsR0FBRyxDQUFDLENBQUUsOENBQThDO29CQUNoRSxJQUFJLENBQUMsY0FBYyxHQUFHLDhCQUE4QixHQUFHLElBQUksQ0FBQyxjQUFjLEdBQUcsdUJBQXVCLENBQUUsQ0FBQztnQkFFeEcsVUFBVTtxQkFDVCxHQUFHLENBQUUsV0FBUyxDQUFFO3FCQUNoQixFQUFFLENBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxVQUFXLFdBQThCO29CQUN0RixXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUUsV0FBUyxDQUFDLEVBQUUsQ0FBRSxVQUFVLENBQUUsQ0FBRSxDQUFDO2dCQUM3RCxDQUFDLENBQUUsQ0FBQztnQkFFSixZQUFZO3FCQUNYLE1BQU0sQ0FBRSxXQUFTLENBQUU7cUJBQ25CLE1BQU0sQ0FBRSxNQUFNLENBQUU7cUJBQ2hCLE1BQU0sQ0FBRSxVQUFVLENBQUU7cUJBQ3BCLE1BQU0sQ0FBRSxPQUFPLENBQUU7cUJBQ2pCLFFBQVEsQ0FBRSxjQUFjLENBQUUsQ0FBQztZQUU3QixDQUFDO1lBRUQsY0FBYyxDQUFDLE1BQU0sQ0FBRSxjQUFjLENBQUUsQ0FBQztRQUN6QyxDQUFDO0lBQ0YsQ0FBQztJQUVNLCtCQUFTLEdBQWhCLFVBQWtCLEtBQWE7UUFFOUIsRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEtBQUssQ0FBRSxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2IsQ0FBQztRQUVELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUUsS0FBSyxDQUFFLENBQUMsU0FBUyxDQUFFLElBQUksQ0FBQyxjQUFjLENBQUUsQ0FBQyxNQUFNLENBQUM7UUFFeEYsRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFDLE1BQU8sQ0FBQyxDQUFDLENBQUM7WUFDbkIsR0FBRyxDQUFDLENBQXVCLFVBQWtCLEVBQWxCLEtBQUEsSUFBSSxDQUFDLGFBQWEsRUFBbEIsY0FBa0IsRUFBbEIsSUFBa0I7Z0JBQXZDLElBQUksYUFBYSxTQUFBO2dCQUN0QixFQUFFLENBQUMsQ0FBRSxNQUFNLENBQUMsT0FBTyxDQUFFLGFBQWEsQ0FBRSxJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQzVDLE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ2IsQ0FBQzthQUNEO1lBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNkLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNQLEdBQUcsQ0FBQyxDQUF1QixVQUFrQixFQUFsQixLQUFBLElBQUksQ0FBQyxhQUFhLEVBQWxCLGNBQWtCLEVBQWxCLElBQWtCO2dCQUF2QyxJQUFJLGFBQWEsU0FBQTtnQkFDdEIsRUFBRSxDQUFDLENBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBRSxhQUFhLENBQUUsR0FBRyxDQUFFLENBQUMsQ0FBQyxDQUFDO29CQUMzQyxNQUFNLENBQUMsS0FBSyxDQUFDO2dCQUNkLENBQUM7YUFDRDtZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDYixDQUFDO0lBQ0YsQ0FBQztJQUVNLHFDQUFlLEdBQXRCLFVBQXdCLFdBQThCO1FBQ3JELElBQUksTUFBTSxHQUFHLENBQUMsQ0FBRSxXQUFXLENBQUMsTUFBTSxDQUFFLENBQUM7UUFFckMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFFLEtBQUssQ0FBRSxDQUFDO1FBQ2hELElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUUsVUFBVSxDQUFFLENBQUM7UUFFeEMsRUFBRSxDQUFDLENBQUUsU0FBUyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUUsS0FBSyxDQUFFLENBQUM7UUFDbEMsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBRSxDQUFDLFNBQVMsSUFBSSxLQUFLLElBQUksQ0FBRSxDQUFDLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBRSxLQUFLLEVBQUUsQ0FBQyxDQUFFLENBQUM7UUFDdkMsQ0FBQztRQUVELElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBRSxDQUFDO0lBQ2pELENBQUM7SUFDRixrQkFBQztBQUFELENBak1BLEFBaU1DLENBak1nQyxlQUFNLEdBaU10QztBQWpNWSxrQ0FBVzs7OztBQ0R4QiwyQ0FBMEM7QUFDMUMsK0NBQThDO0FBQzlDLG9DQUFtQztBQUNuQyw0Q0FBMkM7QUFDM0MsOENBQTZDO0FBQzdDLDBDQUF5QztBQUN6QyxvREFBbUQ7QUFFbkQsb0RBQW1EO0FBQ25ELDBEQUF5RDtBQUN6RCxzREFBcUQ7QUFFckQ7Ozs7R0FJRztBQUNIO0lBa0JDOzs7O09BSUc7SUFDSCxrQkFBb0IsTUFBYyxFQUFFLE1BQVc7UUFsQnZDLGNBQVMsR0FBd0c7WUFDeEgsS0FBSyxFQUFFLHFCQUFTO1lBQ2hCLElBQUksRUFBRSxtQkFBUTtZQUNkLEdBQUcsRUFBRSxpQkFBTztZQUNaLFFBQVEsRUFBRSwyQkFBWTtTQUN0QixDQUFDO1FBRU0sZ0JBQVcsR0FBc0k7WUFDeEosS0FBSyxFQUFFLHlCQUFXO1lBQ2xCLFFBQVEsRUFBRSwrQkFBYztZQUN4QixNQUFNLEVBQUUsMkJBQVk7U0FDcEIsQ0FBQztRQVFELElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFRDs7T0FFRztJQUNJLHNCQUFHLEdBQVY7UUFDQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVEOztPQUVHO0lBQ0sscUNBQWtCLEdBQTFCO1FBQ0Msb0NBQW9DO1FBQ3BDLGtDQUFrQztJQUNuQyxDQUFDO0lBRUQ7O09BRUc7SUFDSyxnQ0FBYSxHQUFyQjtRQUNDLFVBQVUsQ0FBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVPLHdCQUFLLEdBQWI7UUFDQyxJQUFJLFVBQVUsR0FBRyxJQUFJLHVCQUFVLENBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBRSxDQUFDO1FBRWpFLElBQUksQ0FBQyxhQUFhLENBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFFLHNCQUFzQixDQUFFLENBQUUsQ0FBQztRQUM3RSxJQUFJLENBQUMsa0JBQWtCLENBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFFLHdDQUF3QyxDQUFFLENBQUUsQ0FBQztRQUNwRyxJQUFJLENBQUMsV0FBVyxDQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBRSw4QkFBOEIsQ0FBRSxDQUFFLENBQUM7UUFFbkYsV0FBVztRQUNYLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVuQixDQUFDO0lBRU8sZ0NBQWEsR0FBckIsVUFBdUIsVUFBc0IsRUFBRSxnQkFBd0I7UUFFdEUsR0FBRyxDQUFDLENBQUUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFjLENBQUMsQ0FBQyxDQUFDO1lBRTlDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFFLElBQUksQ0FBRSxDQUFDO1lBRTNDLEVBQUUsQ0FBQyxDQUFFLEVBQUUsQ0FBQyxjQUFjLENBQUUsU0FBUyxDQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUV0QyxHQUFHLENBQUMsQ0FBRSxJQUFJLFFBQVEsSUFBSSxFQUFFLENBQUMsT0FBUSxDQUFDLENBQUMsQ0FBQztvQkFFbkMsRUFBRSxDQUFDLENBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUUsUUFBUSxDQUFFO3dCQUN6QyxFQUFFLENBQUMsT0FBTyxDQUFFLFFBQVEsQ0FBRSxDQUFDLGNBQWMsQ0FBRSxNQUFNLENBQUU7d0JBQy9DLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUUsUUFBUSxDQUFFLENBQUMsSUFBSSxDQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUVsRSx5Q0FBeUM7d0JBQ3pDLDRDQUE0Qzt3QkFDNUMsSUFBSSxNQUFNLEdBQVcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUUsUUFBUSxDQUFFLENBQUMsSUFBSSxDQUFFLENBQUUsUUFBUSxFQUFFLGdCQUFnQixDQUFDLFFBQVEsQ0FBRSxHQUFHLEdBQUcsUUFBUSxDQUFFLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFFLFFBQVEsQ0FBRSxDQUFFLENBQUM7d0JBQzVLLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFFZCxVQUFVLENBQUMsWUFBWSxDQUFFLE1BQU0sQ0FBRSxDQUFDO29CQUVuQyxDQUFDO2dCQUNGLENBQUM7WUFDRixDQUFDO1FBRUYsQ0FBQztJQUNGLENBQUM7SUFFTyxxQ0FBa0IsR0FBMUIsVUFBNEIsVUFBc0IsRUFBRSxxQkFBNkI7UUFDaEYsSUFBSSxZQUFZLEdBQUcsSUFBSSwyQkFBWSxDQUFFLHFCQUFxQixFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUUsRUFBRSxVQUFVLENBQUUsQ0FBQztRQUMzRyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVPLDhCQUFXLEdBQW5CLFVBQXFCLFVBQXNCLEVBQUUsY0FBc0I7UUFFbEUsZUFBZTtRQUNmLEdBQUcsQ0FBQyxDQUFFLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBTSxDQUFDLENBQUMsQ0FBQztZQUV4QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxNQUFNLENBQUUsQ0FBRSxNQUFNLENBQUUsQ0FBQztZQUNyRCxJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFFLFFBQVEsQ0FBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUUsUUFBUSxDQUFFLEdBQUcsV0FBSSxDQUFDO1lBRXJHLElBQUksSUFBSSxHQUFTLElBQUksZ0JBQWdCLENBQUUsTUFBTSxFQUFFLGNBQWMsQ0FBQyxRQUFRLENBQUUsR0FBRyxHQUFHLE1BQU0sQ0FBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxNQUFNLENBQUUsQ0FBRSxDQUFDO1lBRWxJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUVaLFVBQVUsQ0FBQyxVQUFVLENBQUUsTUFBTSxFQUFFLElBQUksQ0FBRSxDQUFDO1FBRXZDLENBQUM7SUFDRixDQUFDO0lBQ0YsZUFBQztBQUFELENBaEhBLEFBZ0hDLElBQUE7QUFoSFksNEJBQVE7Ozs7QUNqQnJCO0lBT0Msc0JBQW9CLE1BQWMsRUFBRSxPQUFpQixFQUFFLFVBQXNCO1FBTHJFLFdBQU0sR0FBVyxTQUFTLENBQUM7UUFDM0IsWUFBTyxHQUFhLFNBQVMsQ0FBQztRQUU5QixlQUFVLEdBQWUsU0FBUyxDQUFDO1FBRzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQzlCLENBQUM7SUFFTSwyQkFBSSxHQUFYO1FBQUEsaUJBTUM7UUFMQSxFQUFFLENBQUMsQ0FBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFFLENBQUMsQ0FBQyxDQUFDO1lBQy9CLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFFLFVBQUUsRUFBVSxJQUFPLEtBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFFLE9BQU8sRUFBRSxHQUFHLEdBQUcsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUcsS0FBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLFlBQVksQ0FBQyxrQkFBa0IsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUM7WUFDckssSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUUsVUFBVSxDQUFDLENBQUM7WUFDckQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNwQixDQUFDO0lBQ0YsQ0FBQztJQUVjLCtCQUFrQixHQUFqQyxVQUFtQyxLQUF3QjtRQUUxRCxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQztRQUUxRCxDQUFDLENBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBRTthQUNoQixRQUFRLENBQUUsVUFBVSxDQUFDO2FBQ3JCLFFBQVEsRUFBRSxDQUFDLFdBQVcsQ0FBRSxVQUFVLENBQUUsQ0FBQztRQUV0QyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRixtQkFBQztBQUFELENBakNBLEFBaUNDLElBQUE7QUFqQ1ksb0NBQVk7Ozs7Ozs7Ozs7Ozs7O0FDRHpCLCtCQUE4QjtBQUc5QjtJQUFrQyxnQ0FBSTtJQUF0Qzs7SUF3SEEsQ0FBQztJQXRIUSw4QkFBTyxHQUFmO1FBQ0MsTUFBTSxDQUFDO1lBQ04sVUFBVSxFQUFFLENBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxTQUFTLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLFVBQVUsQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsT0FBTyxDQUFFO2dCQUN6RSxFQUFFLENBQUMsR0FBRyxDQUFFLE9BQU8sQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsVUFBVSxDQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxNQUFNLENBQUU7Z0JBQ3pELEVBQUUsQ0FBQyxHQUFHLENBQUUsTUFBTSxDQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxRQUFRLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLFdBQVcsQ0FBRTtnQkFDM0QsRUFBRSxDQUFDLEdBQUcsQ0FBRSxTQUFTLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLFVBQVUsQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsVUFBVSxDQUFFO2FBQy9EO1lBQ0QsZUFBZSxFQUFFLENBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLEtBQUssQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFFO2dCQUNuRSxFQUFFLENBQUMsR0FBRyxDQUFFLEtBQUssQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUU7Z0JBQ2pELEVBQUUsQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLEtBQUssQ0FBRTtnQkFDakQsRUFBRSxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLEtBQUssQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFFO2FBQ2pEO1lBQ0QsUUFBUSxFQUFFLENBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxRQUFRLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLFFBQVEsQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsU0FBUyxDQUFFO2dCQUN0RSxFQUFFLENBQUMsR0FBRyxDQUFFLFdBQVcsQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsVUFBVSxDQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxRQUFRLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLFVBQVUsQ0FBRTthQUNyRjtZQUNELGFBQWEsRUFBRSxDQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLEtBQUssQ0FBRTtnQkFDakUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLEtBQUssQ0FBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxLQUFLLENBQUU7YUFDbEU7WUFDRCxVQUFVLEVBQUU7Z0JBQ1gsS0FBSyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsa0NBQWtDLENBQUU7Z0JBQ25ELEtBQUssRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLGtDQUFrQyxDQUFFO2dCQUNuRCxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxpQ0FBaUMsQ0FBRTtnQkFDakQsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsZ0NBQWdDLENBQUU7YUFDL0M7WUFFRCxVQUFVLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSxtQ0FBbUMsQ0FBRTtZQUN6RCxVQUFVLEVBQUU7Z0JBQ1gsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsa0NBQWtDLENBQUU7Z0JBQ2hELE1BQU0sRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLHlDQUF5QyxDQUFFO2FBQzNEO1lBRUQsVUFBVSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsa0NBQWtDLENBQUU7WUFDeEQsV0FBVyxFQUFFO2dCQUNaLEtBQUssRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLHlDQUF5QyxDQUFFO2dCQUMxRCxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSx3Q0FBd0MsQ0FBRTtnQkFDeEQsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsdUNBQXVDLENBQUU7YUFDdEQ7WUFFRCxZQUFZLEVBQUU7Z0JBQ2IsS0FBSyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUUsMENBQTBDLENBQUU7Z0JBQzNELElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFFLHlDQUF5QyxDQUFFO2dCQUN6RCxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBRSx3Q0FBd0MsQ0FBRTthQUN2RDtTQUNELENBQUM7SUFDSCxDQUFDO0lBRU0sMkJBQUksR0FBWDtRQUVDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUUzQiwwQkFBMEI7UUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUU7WUFFekIsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUTtZQUMvQixLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLO1lBQ3pCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtZQUM1QixlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRO1lBQ3hCLGFBQWEsRUFBRSxLQUFLLENBQUMsYUFBYTtZQUNsQyxVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVU7WUFDNUIsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtZQUM1QixXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7WUFDOUIsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZO1NBQ2hDLENBQUUsQ0FBQztRQUVKLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU8sK0JBQVEsR0FBaEIsVUFBa0IsS0FBVSxFQUFFLE9BQVk7UUFFekMsSUFBSSxTQUFTLEdBQVE7WUFDcEIsRUFBRSxFQUFFLEtBQUs7WUFDVCxLQUFLLEVBQUUsT0FBTyxDQUFFLE9BQU8sQ0FBRTtZQUN6QixLQUFLLEVBQUUsT0FBTyxDQUFFLE9BQU8sQ0FBRTtZQUN6QixTQUFTLEVBQUUsS0FBSztTQUNoQixDQUFDO1FBRUYsRUFBRSxDQUFDLENBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBRSxLQUFLLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkMsU0FBUyxDQUFFLEtBQUssQ0FBRSxHQUFHLE9BQU8sQ0FBRSxLQUFLLENBQUUsQ0FBQztRQUN2QyxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBRSxLQUFLLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkMsU0FBUyxDQUFFLEtBQUssQ0FBRSxHQUFHLE9BQU8sQ0FBRSxLQUFLLENBQUUsQ0FBQztRQUN2QyxDQUFDO1FBRUQsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUNsQixDQUFDO0lBRU0sK0JBQVEsR0FBZixVQUFpQixNQUFnQjtRQUFqQyxpQkFjQztRQVpBLElBQUksTUFBTSxHQUFVLEVBQUUsQ0FBQztRQUV2QixNQUFNLENBQUMsT0FBTyxDQUFFLFVBQUUsS0FBYTtZQUU5QixJQUFJLE9BQU8sR0FBRyxLQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFFLEtBQUssQ0FBRSxDQUFDLElBQUksQ0FBRSxLQUFJLENBQUMsRUFBRSxDQUFFLENBQUM7WUFFakUsRUFBRSxDQUFDLENBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBRSxPQUFPLENBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pDLE1BQU0sQ0FBQyxJQUFJLENBQUUsS0FBSSxDQUFDLFFBQVEsQ0FBRSxLQUFLLEVBQUUsT0FBTyxDQUFFLENBQUUsQ0FBQztZQUNoRCxDQUFDO1FBQ0YsQ0FBQyxDQUFFLENBQUM7UUFFSixJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBRSxnQkFBZ0IsRUFBRSxNQUFNLENBQUUsQ0FBQztJQUN0RCxDQUFDO0lBRU0sK0JBQVEsR0FBZixVQUFpQixNQUFnQjtRQUNoQyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBRSxjQUFjLEVBQUUsVUFBRSxDQUFNLElBQU0sT0FBQSxDQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxJQUFJLENBQUMsQ0FBRSxFQUFoQyxDQUFnQyxDQUFFLENBQUM7SUFDNUYsQ0FBQztJQUVNLDJCQUFJLEdBQVg7UUFDQyxpQkFBTSxJQUFJLFdBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFFLFFBQVEsQ0FBRSxDQUFDO0lBQ3RDLENBQUM7SUFFTSwyQkFBSSxHQUFYO1FBQ0MsTUFBTSxDQUFDLGlCQUFNLElBQUksV0FBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRixtQkFBQztBQUFELENBeEhBLEFBd0hDLENBeEhpQyxXQUFJLEdBd0hyQztBQXhIWSxvQ0FBWTs7Ozs7Ozs7Ozs7Ozs7QUNIekIsK0JBQThCO0FBQzlCO0lBQThCLDRCQUFJO0lBQWxDOztJQUFvQyxDQUFDO0lBQUQsZUFBQztBQUFELENBQXBDLEFBQXFDLENBQVAsV0FBSSxHQUFHO0FBQXhCLDRCQUFROzs7Ozs7Ozs7Ozs7OztBQ0RyQiwrQkFBOEI7QUFFOUI7SUFBNkIsMkJBQUk7SUFBakM7UUFBQSxxRUEySEM7UUF6SFEsU0FBRyxHQUFVLFNBQVMsQ0FBQztRQUN2QixVQUFJLEdBQVcsU0FBUyxDQUFDO1FBQ3pCLGFBQU8sR0FBa0MsU0FBUyxDQUFDO1FBQ25ELHdCQUFrQixHQUF5QixTQUFTLENBQUM7UUFDckQsWUFBTSxHQUFtQixTQUFTLENBQUM7UUFDbkMsaUJBQVcsR0FBWSxLQUFLLENBQUM7O0lBb0h0QyxDQUFDO0lBbEhPLHNCQUFJLEdBQVg7UUFFQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3JDLElBQUksT0FBTyxHQUFvQyxFQUFFLENBQUM7UUFDbEQsSUFBSSxNQUFNLEdBQW1CLFNBQVMsQ0FBQztRQUV2QyxJQUFJLGtCQUFrQixHQUF5QixDQUFDLENBQUMsa0JBQWtCLENBQUU7WUFDcEUsb0JBQW9CLEVBQUUsSUFBSTtTQUMxQixDQUFFLENBQUM7UUFFSixHQUFHLENBQUMsQ0FBRSxJQUFJLEtBQUssSUFBSSxJQUFLLENBQUMsQ0FBQyxDQUFDO1lBRTFCLElBQUksU0FBUyxHQUFzQixJQUFJLENBQUUsS0FBSyxDQUFFLENBQUUsTUFBTSxDQUFFLENBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBRSxDQUFFLFdBQVcsQ0FBRSxDQUFDO1lBQ3JGLE9BQU8sQ0FBRSxLQUFLLENBQUUsR0FBRyxFQUFFLENBQUM7WUFFdEIsR0FBRyxDQUFDLENBQWEsVUFBUyxFQUFULHVCQUFTLEVBQVQsdUJBQVMsRUFBVCxJQUFTO2dCQUFwQixJQUFJLEdBQUcsa0JBQUE7Z0JBRVosTUFBTSxHQUFHLENBQUUsTUFBTSxLQUFLLFNBQVMsQ0FBRSxHQUFHLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBRSxHQUFHLEVBQUUsR0FBRyxDQUFFLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBRSxHQUFHLENBQUUsQ0FBQztnQkFFMUYsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBRSxHQUFHLEVBQUUsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFFLENBQUM7Z0JBQ2xELE9BQU8sQ0FBRSxLQUFLLENBQUUsQ0FBQyxJQUFJLENBQUUsTUFBTSxDQUFFLENBQUM7Z0JBQ2hDLGtCQUFrQixDQUFDLFFBQVEsQ0FBRSxNQUFNLENBQUUsQ0FBQzthQUN0QztRQUNGLENBQUM7UUFFRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsa0JBQWtCLENBQUM7UUFDN0MsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFFckIsTUFBTSxDQUFDLGlCQUFNLElBQUksV0FBRSxDQUFDO0lBQ3JCLENBQUM7SUFFTyx5QkFBTyxHQUFmO1FBQ0MsRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFDLElBQUksS0FBSyxTQUFVLENBQUMsQ0FBQyxDQUFDO1lBRS9CLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEdBQUcsYUFBYSxDQUFDO1lBRXpELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFFO2dCQUN2QixTQUFTLEVBQUUsUUFBUSxHQUFHLGlCQUFpQjtnQkFDdkMsZUFBZSxFQUFFLFFBQVEsR0FBRyxvQkFBb0I7Z0JBQ2hELFdBQVcsRUFBRSxRQUFRLEdBQUcsbUJBQW1CO2dCQUMzQyxVQUFVLEVBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUN2QixZQUFZLEVBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUN2QixhQUFhLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7Z0JBQ3ZCLDhCQUE4QjtnQkFDOUIsWUFBWSxFQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQzthQUN2QixDQUFFLENBQUM7UUFDTCxDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVPLDJCQUFTLEdBQWpCLFVBQW1CLE1BQTBCLEVBQUUsR0FBUTtRQUN0RCxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBRWYsb0RBQW9EO1FBRXBELEdBQUcsQ0FBQyxDQUFFLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBRSxXQUFXLENBQUcsQ0FBQyxDQUFDLENBQUM7WUFFdkMsSUFBSSxTQUFTLEdBQUcsR0FBRyxDQUFFLFdBQVcsQ0FBRSxDQUFFLElBQUksQ0FBRSxDQUFDO1lBRTNDLEVBQUUsQ0FBQyxDQUFFLEtBQUssS0FBSyxTQUFVLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixLQUFLLEdBQUcsU0FBUyxDQUFFLFFBQVEsQ0FBRSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUUsQ0FBQztnQkFDM0MsS0FBSyxDQUFDLElBQUksQ0FBRSxLQUFLLEdBQUcsU0FBUyxDQUFFLGtCQUFrQixDQUFFLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBRSxHQUFHLE1BQU0sQ0FBRSxDQUFDO1lBQzdFLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDUCxLQUFLLENBQUMsSUFBSSxDQUFFLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsU0FBUyxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFFLGtCQUFrQixDQUFFLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBRSxDQUFFLENBQUE7WUFDekgsQ0FBQztRQUNGLENBQUM7UUFFRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFFLENBQUM7UUFDOUQsTUFBTSxDQUFDLFNBQVMsQ0FBRSxLQUFLLENBQUMsSUFBSSxDQUFFLE1BQU0sQ0FBRSxDQUFFLENBQUM7UUFFekMsTUFBTSxDQUFDLE9BQU8sQ0FBRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUUsQ0FBQztRQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQUVNLDBCQUFRLEdBQWY7UUFFQyxFQUFFLENBQUMsQ0FBRSxJQUFJLENBQUMsV0FBWSxDQUFDLENBQUMsQ0FBQztZQUN4QixNQUFNLENBQUM7UUFDUixDQUFDO1FBRUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFFeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLENBQUMsQ0FBRTtZQUNGLFVBQVUsQ0FBRTtnQkFDWCxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUMsR0FBRyxDQUFFLENBQUMsQ0FBRSxDQUFFO3FCQUNuRCxRQUFRLENBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBRSxtREFBbUQsRUFBRTtvQkFDNUUsV0FBVyxFQUFFLEVBQUU7aUJBQ2YsQ0FBRSxDQUFFO3FCQUNKLFFBQVEsQ0FBRSxJQUFJLENBQUMsa0JBQWtCLENBQUU7cUJBQ25DLFNBQVMsQ0FBRSxJQUFJLENBQUMsTUFBTSxDQUFFLENBQUE7WUFDMUIsQ0FBQyxFQUFFLENBQUMsQ0FBRSxDQUFDO1FBQ1IsQ0FBQyxDQUFFLENBQUM7SUFFTCxDQUFDO0lBRU0sMEJBQVEsR0FBZixVQUFpQixNQUFnQjtRQUFqQyxpQkFHQztRQUZBLElBQUksT0FBTyxHQUFnQixNQUFNLENBQUMsR0FBRyxDQUFFLFVBQUUsS0FBYSxJQUFNLE9BQUEsS0FBSSxDQUFDLE9BQU8sQ0FBRSxLQUFLLENBQUUsRUFBckIsQ0FBcUIsQ0FBRSxDQUFDO1FBQ3BGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBRSxVQUFFLE1BQWlCLEVBQUUsTUFBaUIsSUFBTSxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUUsTUFBTSxDQUFFLEVBQXZCLENBQXVCLENBQUUsQ0FBRSxDQUFDO0lBQzVILENBQUM7SUFFTSwwQkFBUSxHQUFmLFVBQWlCLE1BQWdCO1FBQWpDLGlCQUdDO1FBRkEsSUFBSSxPQUFPLEdBQWdCLE1BQU0sQ0FBQyxHQUFHLENBQUUsVUFBRSxLQUFhLElBQU0sT0FBQSxLQUFJLENBQUMsT0FBTyxDQUFFLEtBQUssQ0FBRSxFQUFyQixDQUFxQixDQUFFLENBQUM7UUFDcEYsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFlBQVksQ0FBRSxPQUFPLENBQUMsTUFBTSxDQUFFLFVBQUUsTUFBaUIsRUFBRSxNQUFpQixJQUFNLE9BQUEsTUFBTSxDQUFDLE1BQU0sQ0FBRSxNQUFNLENBQUUsRUFBdkIsQ0FBdUIsQ0FBRSxDQUFFLENBQUM7SUFDL0gsQ0FBQztJQUVNLHNCQUFJLEdBQVg7UUFDQyxpQkFBTSxJQUFJLFdBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRUYsY0FBQztBQUFELENBM0hBLEFBMkhDLENBM0g0QixXQUFJLEdBMkhoQztBQTNIWSwwQkFBTzs7Ozs7Ozs7Ozs7Ozs7QUNGcEIsK0JBQThCO0FBQzlCO0lBQStCLDZCQUFJO0lBQW5DOztJQUFxQyxDQUFDO0lBQUQsZ0JBQUM7QUFBRCxDQUFyQyxBQUFzQyxDQUFQLFdBQUksR0FBRztBQUF6Qiw4QkFBUzs7OztBQ0V0QjtJQU9DLGNBQW9CLEVBQVUsRUFBRSxNQUFjLEVBQUUsQ0FBYSxFQUFFLE9BQXFCO1FBQXJCLHdCQUFBLEVBQUEsWUFBcUI7UUFMMUUsT0FBRSxHQUFXLFNBQVMsQ0FBQztRQUN2QixXQUFNLEdBQVcsU0FBUyxDQUFDO1FBQzNCLGVBQVUsR0FBZSxTQUFTLENBQUM7UUFDbkMsWUFBTyxHQUFZLFNBQVMsQ0FBQztRQUd0QyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFFTSxtQkFBSSxHQUFYLGNBQWUsQ0FBQztJQUVULCtCQUFnQixHQUF2QjtRQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3BCLENBQUM7SUFFTSx1QkFBUSxHQUFmLFVBQWlCLE1BQWdCO1FBQWpDLGlCQUlDO1FBSEEsTUFBTSxDQUFDLE9BQU8sQ0FBRSxVQUFFLEtBQWE7WUFDOUIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUUsR0FBRyxHQUFHLEtBQUssQ0FBRSxDQUFDLFNBQVMsQ0FBRSxHQUFHLENBQUUsQ0FBQztRQUNsRCxDQUFDLENBQUUsQ0FBQztJQUNMLENBQUM7SUFFTSx1QkFBUSxHQUFmLFVBQWlCLE1BQWdCO1FBQWpDLGlCQUlDO1FBSEEsTUFBTSxDQUFDLE9BQU8sQ0FBRSxVQUFFLEtBQWE7WUFDOUIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUUsR0FBRyxHQUFHLEtBQUssQ0FBRSxDQUFDLE9BQU8sQ0FBRSxHQUFHLENBQUUsQ0FBQztRQUNoRCxDQUFDLENBQUUsQ0FBQztJQUNMLENBQUM7SUFFTSxtQkFBSSxHQUFYO1FBQ0MsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRU0sbUJBQUksR0FBWDtRQUNDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUNGLFdBQUM7QUFBRCxDQXZDQSxBQXVDQyxJQUFBO0FBdkNZLG9CQUFJOzs7O0FDSGpCLGdEQUErQztBQUcvQyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBRSxtQkFBbUIsQ0FBRSxDQUFDO0FBRWxELEdBQUcsQ0FBQyxDQUFFLElBQUksRUFBRSxJQUFJLE1BQU8sQ0FBQyxDQUFDLENBQUM7SUFDekIsRUFBRSxDQUFDLENBQUUsTUFBTSxDQUFDLGNBQWMsQ0FBRSxFQUFFLENBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLEdBQUcsSUFBSSxtQkFBUSxDQUFFLENBQUMsQ0FBRSxHQUFHLEdBQUcsRUFBRSxDQUFFLEVBQUUsTUFBTSxDQUFFLEVBQUUsQ0FBRSxDQUFFLENBQUM7UUFDcEQsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ1QsQ0FBQztBQUNGLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHsgUmVzdWx0RGF0YSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5kZWNsYXJlIGxldCBzcmY6IGFueTtcclxuXHJcbmltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi9WaWV3L1ZpZXdcIjtcclxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyL0ZpbHRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIge1xyXG5cdHByaXZhdGUgdGFyZ2V0OiBKUXVlcnkgPSB1bmRlZmluZWQ7XHJcblxyXG5cdHByaXZhdGUgdmlld3M6IHsgW2tleTogc3RyaW5nXTogVmlldyB9ID0ge307XHJcblx0cHJpdmF0ZSBmaWx0ZXJzOiB7IFtrZXk6IHN0cmluZ106IEZpbHRlciB9ID0ge307XHJcblx0cHJpdmF0ZSBjdXJyZW50VmlldzogVmlldyA9IHVuZGVmaW5lZDtcclxuXHRwcml2YXRlIGRhdGE6IFJlc3VsdERhdGE7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvciggdGFyZ2V0OiBKUXVlcnksIGRhdGE6IFJlc3VsdERhdGEgKSB7XHJcblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblxyXG5cdFx0Zm9yICggbGV0IHJvd0lkIGluIHRoaXMuZGF0YSApIHtcclxuXHRcdFx0aWYgKCAhdGhpcy5kYXRhWyByb3dJZCBdLmhhc093blByb3BlcnR5KCAndmlzaWJsZScgKSApIHtcclxuXHRcdFx0XHR0aGlzLmRhdGFbIHJvd0lkIF0udmlzaWJsZSA9IHt9O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldERhdGEoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UGF0aCgpIHtcclxuXHRcdHJldHVybiBzcmYuc2V0dGluZ3MuZ2V0KCAnc3JmZ1NjcmlwdFBhdGgnICkgKyAnL2Zvcm1hdHMvZmlsdGVyZWQvcmVzb3VyY2VzLyc7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXR0YWNoVmlldyggdmlld2lkOiBzdHJpbmcsIHZpZXc6IFZpZXcgKSB7XHJcblxyXG5cdFx0dGhpcy52aWV3c1sgdmlld2lkIF0gPSB2aWV3O1xyXG5cclxuXHRcdGlmICggdGhpcy5jdXJyZW50VmlldyA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLmN1cnJlbnRWaWV3ID0gdmlldztcclxuXHRcdFx0dmlldy5zaG93KCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2aWV3LmhpZGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWaWV3KCB2aWV3SWQ6IHN0cmluZyApOiBWaWV3IHtcclxuXHRcdHJldHVybiB0aGlzLnZpZXdzWyB2aWV3SWQgXTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhdHRhY2hGaWx0ZXIoIGZpbHRlcjogRmlsdGVyICkge1xyXG5cdFx0bGV0IGZpbHRlcklkID0gZmlsdGVyLmdldElkKCk7XHJcblxyXG5cdFx0dGhpcy5maWx0ZXJzWyBmaWx0ZXJJZCBdID0gZmlsdGVyO1xyXG5cdFx0dGhpcy5vbkZpbHRlclVwZGF0ZWQoIGZpbHRlcklkICk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0RmlsdGVyKCBmaWx0ZXJJZDogc3RyaW5nICk6IEZpbHRlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXJzWyBmaWx0ZXJJZCBdO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNob3coKSB7XHJcblx0XHR0aGlzLmluaXRpYWxpemVGaWx0ZXJzKCk7XHJcblx0XHR0aGlzLnRhcmdldC5zaG93KCk7XHJcblx0XHR0aGlzLnN3aXRjaFRvVmlldyggdGhpcy5jdXJyZW50VmlldyApO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzd2l0Y2hUb1ZpZXcoIHZpZXc6IFZpZXcgKSB7XHJcblxyXG5cdFx0aWYgKCB0aGlzLmN1cnJlbnRWaWV3IGluc3RhbmNlb2YgVmlldyApIHtcclxuXHRcdFx0dGhpcy5jdXJyZW50Vmlldy5oaWRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XHJcblxyXG5cdFx0aWYgKCB0aGlzLmN1cnJlbnRWaWV3IGluc3RhbmNlb2YgVmlldyApIHtcclxuXHRcdFx0dmlldy5zaG93KCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpbml0aWFsaXplRmlsdGVycygpIHtcclxuXHRcdGxldCB0b1Nob3c6IHN0cmluZ1tdID0gW107XHJcblx0XHRsZXQgdG9IaWRlOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoIGxldCByb3dJZCBpbiB0aGlzLmRhdGEgKSB7XHJcblx0XHRcdGZvciAoIGxldCBmaWx0ZXJJZCBpbiB0aGlzLmZpbHRlcnMgKSB7XHJcblx0XHRcdFx0dGhpcy5kYXRhWyByb3dJZCBdLnZpc2libGVbIGZpbHRlcklkIF0gPSB0aGlzLmZpbHRlcnNbIGZpbHRlcklkIF0uaXNWaXNpYmxlKCByb3dJZCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggdGhpcy5pc1Zpc2libGUoIHJvd0lkICkgKSB7XHJcblx0XHRcdFx0dG9TaG93LnB1c2goIHJvd0lkICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dG9IaWRlLnB1c2goIHJvd0lkICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmhpZGVSb3dzKCB0b0hpZGUgKTtcclxuXHRcdHRoaXMuc2hvd1Jvd3MoIHRvU2hvdyApO1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uVmlld1NlbGVjdGVkKCB2aWV3SUQ6IHN0cmluZyApIHtcclxuXHRcdHRoaXMuc3dpdGNoVG9WaWV3KCB0aGlzLnZpZXdzWyB2aWV3SUQgXSApO1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uRmlsdGVyVXBkYXRlZCggZmlsdGVySWQ6IHN0cmluZyApIHtcclxuXHRcdGxldCB0b1Nob3c6IHN0cmluZ1tdID0gW107XHJcblx0XHRsZXQgdG9IaWRlOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoIGxldCByb3dJZCBpbiB0aGlzLmRhdGEgKSB7XHJcblx0XHRcdGxldCBvbGRWaXNpYmxlOiBib29sZWFuID0gdGhpcy5kYXRhWyByb3dJZCBdLnZpc2libGVbIGZpbHRlcklkIF07XHJcblx0XHRcdGxldCBuZXdWaXNpYmxlOiBib29sZWFuID0gdGhpcy5maWx0ZXJzWyBmaWx0ZXJJZCBdLmlzVmlzaWJsZSggcm93SWQgKTtcclxuXHJcblx0XHRcdGlmICggb2xkVmlzaWJsZSAhPT0gbmV3VmlzaWJsZSApIHtcclxuXHJcblx0XHRcdFx0dGhpcy5kYXRhWyByb3dJZCBdLnZpc2libGVbIGZpbHRlcklkIF0gPSBuZXdWaXNpYmxlO1xyXG5cclxuXHRcdFx0XHRpZiAoIG5ld1Zpc2libGUgJiYgdGhpcy5pc1Zpc2libGUoIHJvd0lkICkgKSB7XHJcblx0XHRcdFx0XHR0b1Nob3cucHVzaCggcm93SWQgKTtcclxuXHRcdFx0XHRcdC8vIGNvbnRyb2xsZXIuc2hvd1Jvdyggcm93SWQgKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dG9IaWRlLnB1c2goIHJvd0lkICk7XHJcblx0XHRcdFx0XHQvLyBjb250cm9sbGVyLmhpZGVSb3coIHJvd0lkICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5oaWRlUm93cyggdG9IaWRlICk7XHJcblx0XHR0aGlzLnNob3dSb3dzKCB0b1Nob3cgKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBpc1Zpc2libGUoIHJvd0lkOiBhbnkgKSB7XHJcblx0XHRmb3IgKCBsZXQgZmlsdGVySWQgaW4gdGhpcy5kYXRhWyByb3dJZCBdLnZpc2libGUgKSB7XHJcblx0XHRcdGlmICggIXRoaXMuZGF0YVsgcm93SWQgXS52aXNpYmxlWyBmaWx0ZXJJZCBdICkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGhpZGVSb3dzKCByb3dJZHM6IHN0cmluZ1tdICkge1xyXG5cdFx0aWYgKCByb3dJZHMubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRmb3IgKCBsZXQgdmlld0lkIGluIHRoaXMudmlld3MgKSB7XHJcblx0XHRcdHRoaXMudmlld3NbIHZpZXdJZCBdLmhpZGVSb3dzKCByb3dJZHMgKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2hvd1Jvd3MoIHJvd0lkczogc3RyaW5nW10gKSB7XHJcblx0XHRpZiAoIHJvd0lkcy5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGZvciAoIGxldCB2aWV3SWQgaW4gdGhpcy52aWV3cyApIHtcclxuXHRcdFx0dGhpcy52aWV3c1sgdmlld0lkIF0uc2hvd1Jvd3MoIHJvd0lkcyApO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi9GaWx0ZXJcIjtcclxuXHJcbmRlY2xhcmUgbGV0IG13OiBhbnk7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlzdGFuY2VGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xyXG5cclxuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBlYXJ0aFJhZGl1czogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcclxuXHRcdG06IDYzNzEwMDguOCxcclxuXHRcdGttOiA2MzcxLjAwODgsXHJcblx0XHRtaTogMzk1OC43NjEzLFxyXG5cdFx0bm06IDM0NDAuMDY5NSxcclxuXHRcdMOFOiA2MzcxMDA4ODAwMDAwMDAwMFxyXG5cdH07XHJcblxyXG5cdHByaXZhdGUgZWFydGhSYWRpdXNWYWx1ZTogbnVtYmVyID0gRGlzdGFuY2VGaWx0ZXIuZWFydGhSYWRpdXMua207XHJcblx0cHJpdmF0ZSBmaWx0ZXJWYWx1ZTogbnVtYmVyID0gMDtcclxuXHJcblx0cHVibGljIGluaXQoKSB7XHJcblxyXG5cdFx0bGV0IHZhbHVlcyA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKCk7XHJcblxyXG5cdFx0bGV0IG9yaWdpbiA9IHRoaXMub3B0aW9uc1sgJ29yaWdpbicgXTtcclxuXHJcblx0XHRpZiAoICEoIG9yaWdpbiAhPT0gdW5kZWZpbmVkICYmIG9yaWdpbi5oYXNPd25Qcm9wZXJ0eSggJ2xhdCcgKSAmJiBvcmlnaW4uaGFzT3duUHJvcGVydHkoICdsbmcnICkgKSApIHtcclxuXHRcdFx0dGhpcy50YXJnZXQuZGV0YWNoKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdW5pdCA9ICdrbSc7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnNbICd1bml0JyBdICYmIERpc3RhbmNlRmlsdGVyLmVhcnRoUmFkaXVzWyB0aGlzLm9wdGlvbnNbICd1bml0JyBdIF0gKSB7XHJcblx0XHRcdHVuaXQgPSB0aGlzLm9wdGlvbnNbICd1bml0JyBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZWFydGhSYWRpdXNWYWx1ZSA9IERpc3RhbmNlRmlsdGVyLmVhcnRoUmFkaXVzWyB1bml0IF07XHJcblxyXG5cdFx0bGV0IG1heFZhbHVlOiBudW1iZXIgPSB0aGlzLnVwZGF0ZURpc3RhbmNlcyggb3JpZ2luICk7XHJcblxyXG5cdFx0bGV0IHByZWNpc2lvbiA9IDEwICoqICggTWF0aC5mbG9vciggTWF0aC5sb2coIG1heFZhbHVlICkgKiBNYXRoLkxPRzEwRSApIC0gMSk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnNbICdtYXgnIF0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9wdGlvbnNbICdtYXgnIF0gPiBtYXhWYWx1ZSApIHtcclxuXHRcdFx0bWF4VmFsdWUgPSB0aGlzLm9wdGlvbnNbICdtYXgnIF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtYXhWYWx1ZSA9IE1hdGguY2VpbCggbWF4VmFsdWUgLyBwcmVjaXNpb24gKSAqIHByZWNpc2lvbjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmZpbHRlclZhbHVlID0gdGhpcy5vcHRpb25zWyAnaW5pdGlhbCB2YWx1ZScgXSA/IE1hdGgubWluKCB0aGlzLm9wdGlvbnNbICdpbml0aWFsIHZhbHVlJyBdLCBtYXhWYWx1ZSApIDogbWF4VmFsdWU7XHJcblxyXG5cdFx0Ly8gYnVpbGQgZmlsdGVyIGNvbnRyb2xzXHJcblx0XHRsZXQgZmlsdGVyY29udHJvbHMgPSB0aGlzLnRhcmdldDtcclxuXHJcblx0XHRmaWx0ZXJjb250cm9sc1xyXG5cdFx0LmFwcGVuZCggJzxkaXYgY2xhc3M9XCJmaWx0ZXJlZC1kaXN0YW5jZS1sYWJlbFwiPjxzcGFuPicgKyB0aGlzLm9wdGlvbnNbICdsYWJlbCcgXSArICc8L3NwYW4+PC9kaXY+JyApO1xyXG5cclxuXHRcdGZpbHRlcmNvbnRyb2xzID0gdGhpcy5hZGRDb250cm9sRm9yQ29sbGFwc2luZyggZmlsdGVyY29udHJvbHMgKTtcclxuXHJcblx0XHRsZXQgcmVhZG91dCA9ICQoICc8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtZGlzdGFuY2UtcmVhZG91dFwiPicgKyB0aGlzLmZpbHRlclZhbHVlICsgJzwvZGl2PicgKTtcclxuXHJcblx0XHRsZXQgdGFibGUgPSAkKCAnPHRhYmxlIGNsYXNzPVwiZmlsdGVyZWQtZGlzdGFuY2UtdGFibGVcIj48dGJvZHk+PHRyPjx0ZCBjbGFzcz1cImZpbHRlcmVkLWRpc3RhbmNlLW1pbi1jZWxsXCI+MDwvdGQ+JyArXHJcblx0XHRcdCc8dGQgY2xhc3M9XCJmaWx0ZXJlZC1kaXN0YW5jZS1zbGlkZXItY2VsbFwiPjxkaXYgY2xhc3M9XCJmaWx0ZXJlZC1kaXN0YW5jZS1zbGlkZXJcIj48L2Rpdj48L3RkPicgK1xyXG5cdFx0XHQnPHRkIGNsYXNzPVwiZmlsdGVyZWQtZGlzdGFuY2UtbWF4LWNlbGxcIj4nICsgbWF4VmFsdWUgKyAnPC90ZD48L3RyPicgK1xyXG5cdFx0XHQnPHRyPjx0ZCBjb2xzcGFuPTMgY2xhc3M9XCJmaWx0ZXJlZC1kaXN0YW5jZS11bml0LWNlbGxcIj4nICsgdW5pdCArICc8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPicgKTtcclxuXHJcblx0XHRmaWx0ZXJjb250cm9scy5hcHBlbmQoIHRhYmxlICk7XHJcblxyXG5cdFx0bGV0IHRoYXQgPSB0aGlzO1xyXG5cdFx0bXcubG9hZGVyLnVzaW5nKCAnanF1ZXJ5LnVpLnNsaWRlcicgKS50aGVuKCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHR0YWJsZS5maW5kKCAnLmZpbHRlcmVkLWRpc3RhbmNlLXNsaWRlcicgKVxyXG5cdFx0XHQuc2xpZGVyKCB7XHJcblx0XHRcdFx0YW5pbWF0ZTogdHJ1ZSxcclxuXHRcdFx0XHRtYXg6IG1heFZhbHVlLFxyXG5cdFx0XHRcdHZhbHVlOiB0aGF0LmZpbHRlclZhbHVlLFxyXG5cdFx0XHRcdHN0ZXA6IHByZWNpc2lvbiAvIDEwMFxyXG5cdFx0XHR9IClcclxuXHRcdFx0Lm9uKCAnc2xpZGVjaGFuZ2UnLCB1bmRlZmluZWQsIHsgJ2ZpbHRlcic6IHRoYXQgfSwgZnVuY3Rpb24gKCBldmVudE9iamVjdDogSlF1ZXJ5RXZlbnRPYmplY3QsIHVpOiBhbnkgKSB7XHJcblx0XHRcdFx0ZXZlbnRPYmplY3QuZGF0YS51aSA9IHVpO1xyXG5cdFx0XHRcdGV2ZW50T2JqZWN0LmRhdGEuZmlsdGVyLm9uRmlsdGVyVXBkYXRlZCggZXZlbnRPYmplY3QgKTtcclxuXHRcdFx0fSApXHJcblx0XHRcdC5vbiggJ3NsaWRlJywgdW5kZWZpbmVkLCB7ICdmaWx0ZXInOiB0aGF0IH0sIGZ1bmN0aW9uICggZXZlbnRPYmplY3Q6IEpRdWVyeUV2ZW50T2JqZWN0LCB1aTogYW55ICkge1xyXG5cdFx0XHRcdHJlYWRvdXQudGV4dCggdWkudmFsdWUgKTtcclxuXHRcdFx0fSApXHJcblx0XHRcdC5maW5kKCAnLnVpLXNsaWRlci1oYW5kbGUnIClcclxuXHRcdFx0LmFwcGVuZCggcmVhZG91dCApO1xyXG5cclxuXHRcdH0gKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlRGlzdGFuY2VzKCBvcmlnaW46IEwuTGF0TG5nTGl0ZXJhbCApOiBudW1iZXIge1xyXG5cclxuXHRcdGxldCB2YWx1ZXMgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpO1xyXG5cdFx0bGV0IG1heCA9IDE7XHJcblxyXG5cdFx0bGV0IHBySWQgPSB0aGlzLnByaW50cmVxdWVzdElkO1xyXG5cclxuXHRcdGZvciAoIGxldCByb3dJZCBpbiB2YWx1ZXMgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHZhbHVlc1sgcm93SWQgXS5kYXRhLmhhc093blByb3BlcnR5KCB0aGlzLmZpbHRlcklkICkgKSB7XHJcblx0XHRcdFx0bGV0IGRpc3RhbmNlczogbnVtYmVyW10gPSB2YWx1ZXNbIHJvd0lkIF0uZGF0YVsgdGhpcy5maWx0ZXJJZCBdLnBvc2l0aW9ucy5tYXAoICggcG9zOiBMLkxhdExuZ0xpdGVyYWwgKSA9PiB0aGlzLmRpc3RhbmNlKCBvcmlnaW4sIHBvcyApICk7XHJcblx0XHRcdFx0bGV0IGRpc3QgPSBNYXRoLm1pbiggLi4uZGlzdGFuY2VzICk7XHJcblxyXG5cdFx0XHRcdHZhbHVlc1sgcm93SWQgXS5kYXRhWyB0aGlzLmZpbHRlcklkIF0uZGlzdGFuY2UgPSBkaXN0O1xyXG5cdFx0XHRcdG1heCA9IE1hdGgubWF4KCBtYXgsIGRpc3QgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YWx1ZXNbIHJvd0lkIF0uZGF0YVsgdGhpcy5maWx0ZXJJZCBdLmRpc3RhbmNlID0gSW5maW5pdHk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbWF4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uRmlsdGVyVXBkYXRlZCggZXZlbnRPYmplY3Q6IEpRdWVyeUV2ZW50T2JqZWN0ICkge1xyXG5cdFx0dGhpcy5maWx0ZXJWYWx1ZSA9IGV2ZW50T2JqZWN0LmRhdGEudWkudmFsdWU7XHJcblx0XHR0aGlzLmNvbnRyb2xsZXIub25GaWx0ZXJVcGRhdGVkKCB0aGlzLmdldElkKCkgKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGlzdGFuY2UoIGE6IEwuTGF0TG5nTGl0ZXJhbCwgYjogTC5MYXRMbmdMaXRlcmFsICkge1xyXG5cclxuXHRcdGNvbnN0IERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwLjA7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3F1YXJlZCggeDogbnVtYmVyICkge1xyXG5cdFx0XHRyZXR1cm4geCAqIHhcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZiA9XHJcblx0XHRcdHNxdWFyZWQoIE1hdGguc2luKCAoIGIubGF0IC0gYS5sYXQgKSAqIERFRzJSQUQgLyAyLjAgKSApICtcclxuXHRcdFx0TWF0aC5jb3MoIGEubGF0ICogREVHMlJBRCApICogTWF0aC5jb3MoIGIubGF0ICogREVHMlJBRCApICpcclxuXHRcdFx0c3F1YXJlZCggTWF0aC5zaW4oICggYi5sbmcgLSBhLmxuZyApICogREVHMlJBRCAvIDIuMCApICk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZWFydGhSYWRpdXNWYWx1ZSAqIDIgKiBNYXRoLmF0YW4yKCBNYXRoLnNxcnQoIGYgKSwgTWF0aC5zcXJ0KCAxIC0gZiApICk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNWaXNpYmxlKCByb3dJZDogc3RyaW5nICk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29udHJvbGxlci5nZXREYXRhKClbIHJvd0lkIF0uZGF0YVsgdGhpcy5maWx0ZXJJZCBdLmRpc3RhbmNlIDw9IHRoaXMuZmlsdGVyVmFsdWU7XHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBPcHRpb25zIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi4vQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZpbHRlcntcclxuXHJcblx0cHJvdGVjdGVkIHRhcmdldDogSlF1ZXJ5ID0gdW5kZWZpbmVkO1xyXG5cdHByb3RlY3RlZCBmaWx0ZXJJZDogc3RyaW5nO1xyXG5cdHByb3RlY3RlZCBwcmludHJlcXVlc3RJZDogc3RyaW5nO1xyXG5cdHByb3RlY3RlZCBjb250cm9sbGVyOiBDb250cm9sbGVyO1xyXG5cdHByb3RlY3RlZCBvcHRpb25zOiBPcHRpb25zID0gdW5kZWZpbmVkO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoIGZpbHRlcklkOiBzdHJpbmcsIHRhcmdldDogSlF1ZXJ5LCBwcmludHJlcXVlc3RJZDogc3RyaW5nLCBjb250cm9sbGVyOiBDb250cm9sbGVyLCBvcHRpb25zPzogT3B0aW9ucyApIHtcclxuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cdFx0dGhpcy5maWx0ZXJJZCA9IGZpbHRlcklkO1xyXG5cdFx0dGhpcy5wcmludHJlcXVlc3RJZCA9IHByaW50cmVxdWVzdElkO1xyXG5cdFx0dGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcclxuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaW5pdCgpIHt9O1xyXG5cclxuXHRwdWJsaWMgaXNWaXNpYmxlKCByb3dJZDogc3RyaW5nICk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXJJZDtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBhZGRDb250cm9sRm9yQ29sbGFwc2luZyggZmlsdGVyY29udHJvbHM6IEpRdWVyeSApOiBKUXVlcnkge1xyXG5cdFx0bGV0IGNvbGxhcHNpYmxlID0gdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCAnY29sbGFwc2libGUnICkgPyB0aGlzLm9wdGlvbnNbICdjb2xsYXBzaWJsZScgXSA6IHVuZGVmaW5lZDtcclxuXHRcdGlmICggY29sbGFwc2libGUgPT09ICdjb2xsYXBzZWQnIHx8IGNvbGxhcHNpYmxlID09PSAndW5jb2xsYXBzZWQnICkge1xyXG5cclxuXHRcdFx0bGV0IHNob3dDb250cm9sID0gJCggJzxzcGFuIGNsYXNzPVwiZmlsdGVyZWQtc2hvd1wiPicgKTtcclxuXHRcdFx0bGV0IGhpZGVDb250cm9sID0gJCggJzxzcGFuIGNsYXNzPVwiZmlsdGVyZWQtaGlkZVwiPicgKTtcclxuXHJcblx0XHRcdGZpbHRlcmNvbnRyb2xzXHJcblx0XHRcdC5wcmVwZW5kKCBzaG93Q29udHJvbCApXHJcblx0XHRcdC5wcmVwZW5kKCBoaWRlQ29udHJvbCApO1xyXG5cclxuXHRcdFx0ZmlsdGVyY29udHJvbHMgPSAkKCAnPGRpdiBjbGFzcz1cImZpbHRlcmVkLWNvbGxhcHNpYmxlXCI+JyApXHJcblx0XHRcdC5hcHBlbmRUbyggZmlsdGVyY29udHJvbHMgKTtcclxuXHJcblx0XHRcdGxldCBvdXRlcmNvbnRyb2xzID0gZmlsdGVyY29udHJvbHM7XHJcblxyXG5cdFx0XHRzaG93Q29udHJvbC5jbGljayggZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdG91dGVyY29udHJvbHMuc2xpZGVEb3duKCk7XHJcblx0XHRcdFx0c2hvd0NvbnRyb2wuaGlkZSgpO1xyXG5cdFx0XHRcdGhpZGVDb250cm9sLnNob3coKTtcclxuXHRcdFx0fSApO1xyXG5cclxuXHRcdFx0aGlkZUNvbnRyb2wuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRvdXRlcmNvbnRyb2xzLnNsaWRlVXAoKTtcclxuXHRcdFx0XHRzaG93Q29udHJvbC5zaG93KCk7XHJcblx0XHRcdFx0aGlkZUNvbnRyb2wuaGlkZSgpO1xyXG5cdFx0XHR9ICk7XHJcblxyXG5cdFx0XHRpZiAoIGNvbGxhcHNpYmxlID09PSAnY29sbGFwc2VkJyApIHtcclxuXHRcdFx0XHRoaWRlQ29udHJvbC5oaWRlKCk7XHJcblx0XHRcdFx0b3V0ZXJjb250cm9scy5zbGlkZVVwKCAwICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2hvd0NvbnRyb2wuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmlsdGVyY29udHJvbHM7XHJcblx0fVxyXG5cclxufSIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL0ZpbHRlclwiO1xyXG5cclxuZGVjbGFyZSBsZXQgbXc6IGFueTtcclxuXHJcbmV4cG9ydCBjbGFzcyBOdW1iZXJGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xyXG5cclxuXHRwcml2YXRlIE1PREVfUkFOR0UgPSAwO1xyXG5cdHByaXZhdGUgTU9ERV9NSU4gPSAxO1xyXG5cdHByaXZhdGUgTU9ERV9NQVggPSAyO1xyXG5cdHByaXZhdGUgTU9ERV9TRUxFQ1QgPSAzO1xyXG5cclxuXHRwcml2YXRlIGZpbHRlclZhbHVlVXBwZXI6IG51bWJlciA9IDA7XHJcblx0cHJpdmF0ZSBmaWx0ZXJWYWx1ZUxvd2VyOiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgbW9kZSA9IHRoaXMuTU9ERV9SQU5HRTtcclxuXHJcblx0cHVibGljIGluaXQoKSB7XHJcblxyXG5cdFx0bGV0IFsgbWluVmFsdWUsIG1heFZhbHVlIF0gOiBbIG51bWJlciwgbnVtYmVyIF0gPSB0aGlzLmdldFJhbmdlKCk7XHJcblxyXG5cdFx0bGV0IHByZWNpc2lvbiA9IDEwICoqICggTWF0aC5mbG9vciggTWF0aC5sb2coIG1heFZhbHVlIC0gbWluVmFsdWUgKSAqIE1hdGguTE9HMTBFICkgLSAxICk7XHJcblxyXG5cdFx0bGV0IHJlcXVlc3RlZE1heCA9IHRoaXMub3B0aW9uc1sgJ21heCcgXTtcclxuXHRcdGlmICggcmVxdWVzdGVkTWF4ICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKCBOdW1iZXIoIHJlcXVlc3RlZE1heCApICkgKSB7XHJcblx0XHRcdG1heFZhbHVlID0gTWF0aC5tYXgoIHJlcXVlc3RlZE1heCwgbWF4VmFsdWUgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG1heFZhbHVlID0gTWF0aC5jZWlsKCBtYXhWYWx1ZSAvIHByZWNpc2lvbiApICogcHJlY2lzaW9uO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCByZXF1ZXN0ZWRNaW4gPSB0aGlzLm9wdGlvbnNbICdtaW4nIF07XHJcblx0XHRpZiAoIHJlcXVlc3RlZE1pbiAhPT0gdW5kZWZpbmVkICYmICFpc05hTiggTnVtYmVyKCByZXF1ZXN0ZWRNaW4gKSApICkge1xyXG5cdFx0XHRtaW5WYWx1ZSA9IE1hdGgubWluKCByZXF1ZXN0ZWRNaW4sIG1pblZhbHVlICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtaW5WYWx1ZSA9IE1hdGguZmxvb3IoIG1pblZhbHVlIC8gcHJlY2lzaW9uICkgKiBwcmVjaXNpb247XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHN0ZXAgPSB0aGlzLm9wdGlvbnNbICdzdGVwJyBdO1xyXG5cdFx0aWYgKCBzdGVwID09PSB1bmRlZmluZWQgfHwgaXNOYU4oIE51bWJlciggc3RlcCApICkgKSB7XHJcblx0XHRcdHN0ZXAgPSBwcmVjaXNpb24gLyAxMDtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmZpbHRlclZhbHVlVXBwZXIgPSBtYXhWYWx1ZTtcclxuXHRcdHRoaXMuZmlsdGVyVmFsdWVMb3dlciA9IG1pblZhbHVlO1xyXG5cclxuXHRcdC8vIGJ1aWxkIGZpbHRlciBjb250cm9sc1xyXG5cdFx0bGV0IGZpbHRlcmNvbnRyb2xzID0gdGhpcy50YXJnZXQ7XHJcblxyXG5cdFx0ZmlsdGVyY29udHJvbHNcclxuXHRcdC5hcHBlbmQoICc8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtbnVtYmVyLWxhYmVsXCI+PHNwYW4+JyArIHRoaXMub3B0aW9uc1sgJ2xhYmVsJyBdICsgJzwvc3Bhbj48L2Rpdj4nICk7XHJcblxyXG5cdFx0ZmlsdGVyY29udHJvbHMgPSB0aGlzLmFkZENvbnRyb2xGb3JDb2xsYXBzaW5nKCBmaWx0ZXJjb250cm9scyApO1xyXG5cclxuXHRcdGxldCByZWFkb3V0TGVmdCA9ICQoICc8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtbnVtYmVyLXJlYWRvdXRcIj4nICk7XHJcblx0XHRsZXQgcmVhZG91dFJpZ2h0ID0gJCggJzxkaXYgY2xhc3M9XCJmaWx0ZXJlZC1udW1iZXItcmVhZG91dFwiPicgKTtcclxuXHJcblx0XHRsZXQgY2FwdGlvbiA9ICcnO1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zWyAnY2FwdGlvbicgXSApIHtcclxuXHRcdFx0Y2FwdGlvbiA9ICc8dHI+PHRkIGNvbHNwYW49MyBjbGFzcz1cImZpbHRlcmVkLW51bWJlci1jYXB0aW9uLWNlbGxcIj4nICsgdGhpcy5vcHRpb25zWyAnY2FwdGlvbicgXSArICc8L3RkPjwvdHI+JztcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdGFibGUgPSAkKCAnPHRhYmxlIGNsYXNzPVwiZmlsdGVyZWQtbnVtYmVyLXRhYmxlXCI+PHRib2R5Pjx0cj4nICtcclxuXHRcdFx0Jzx0ZCBjbGFzcz1cImZpbHRlcmVkLW51bWJlci1taW4tY2VsbFwiPicgKyBtaW5WYWx1ZSArICc8L3RkPicgK1xyXG5cdFx0XHQnPHRkIGNsYXNzPVwiZmlsdGVyZWQtbnVtYmVyLXNsaWRlci1jZWxsXCI+PC90ZD4nICtcclxuXHRcdFx0Jzx0ZCBjbGFzcz1cImZpbHRlcmVkLW51bWJlci1tYXgtY2VsbFwiPicgKyBtYXhWYWx1ZSArICc8L3RkPjwvdHI+JyArXHJcblx0XHRcdGNhcHRpb24gK1xyXG5cdFx0XHQnPC90Ym9keT48L3RhYmxlPicgKTtcclxuXHJcblx0XHRsZXQgc2xpZGVyQ29udGFpbmVyID0gJCggJzxkaXYgY2xhc3M9XCJmaWx0ZXJlZC1udW1iZXItc2xpZGVyXCI+JyApO1xyXG5cdFx0bGV0IGxvd2VySGFuZGxlID0gJCggJzxkaXYgY2xhc3M9XCJ1aS1zbGlkZXItaGFuZGxlIHVpLXNsaWRlci1oYW5kbGUtbG93ZXJcIj4nICk7XHJcblx0XHRsZXQgdXBwZXJIYW5kbGUgPSAkKCAnPGRpdiBjbGFzcz1cInVpLXNsaWRlci1oYW5kbGUgdWktc2xpZGVyLWhhbmRsZS11cHBlclwiPicgKTtcclxuXHRcdGxldCBzZWxlY3RIYW5kbGUgPSAkKCAnPGRpdiBjbGFzcz1cInVpLXNsaWRlci1oYW5kbGUgdWktc2xpZGVyLWhhbmRsZS1zZWxlY3RcIj4nICk7XHJcblxyXG5cdFx0bGV0IHNsaWRlcm9wdGlvbnM6IEpRdWVyeVVJLlNsaWRlck9wdGlvbnMgPSB7XHJcblx0XHRcdGFuaW1hdGU6IHRydWUsXHJcblx0XHRcdG1pbjogbWluVmFsdWUsXHJcblx0XHRcdG1heDogbWF4VmFsdWUsXHJcblx0XHRcdHN0ZXA6IHN0ZXBcclxuXHRcdH07XHJcblxyXG5cdFx0c3dpdGNoICggdGhpcy5vcHRpb25zWyAnc2xpZGVycycgXSApIHtcclxuXHRcdFx0Y2FzZSAnbWF4JzpcclxuXHRcdFx0XHR0aGlzLm1vZGUgPSB0aGlzLk1PREVfTUFYO1xyXG5cdFx0XHRcdHNsaWRlcm9wdGlvbnMucmFuZ2UgPSAnbWluJztcclxuXHRcdFx0XHRzbGlkZXJvcHRpb25zLnZhbHVlID0gbWF4VmFsdWU7XHJcblxyXG5cdFx0XHRcdHJlYWRvdXRMZWZ0LnRleHQoIG1heFZhbHVlICk7XHJcblx0XHRcdFx0dXBwZXJIYW5kbGUuYXBwZW5kKCByZWFkb3V0TGVmdCApO1xyXG5cdFx0XHRcdHNsaWRlckNvbnRhaW5lci5hcHBlbmQoIHVwcGVySGFuZGxlICk7XHJcblxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdtaW4nOlxyXG5cdFx0XHRcdHRoaXMubW9kZSA9IHRoaXMuTU9ERV9NSU47XHJcblx0XHRcdFx0c2xpZGVyb3B0aW9ucy5yYW5nZSA9ICdtYXgnO1xyXG5cdFx0XHRcdHNsaWRlcm9wdGlvbnMudmFsdWUgPSBtaW5WYWx1ZTtcclxuXHJcblx0XHRcdFx0cmVhZG91dExlZnQudGV4dCggbWluVmFsdWUgKTtcclxuXHRcdFx0XHRsb3dlckhhbmRsZS5hcHBlbmQoIHJlYWRvdXRMZWZ0ICk7XHJcblx0XHRcdFx0c2xpZGVyQ29udGFpbmVyLmFwcGVuZCggbG93ZXJIYW5kbGUgKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnc2VsZWN0JzpcclxuXHRcdFx0XHR0aGlzLm1vZGUgPSB0aGlzLk1PREVfU0VMRUNUO1xyXG5cdFx0XHRcdHNsaWRlcm9wdGlvbnMudmFsdWUgPSBtYXhWYWx1ZTtcclxuXHJcblx0XHRcdFx0cmVhZG91dExlZnQudGV4dCggbWF4VmFsdWUgKTtcclxuXHRcdFx0XHRzZWxlY3RIYW5kbGUuYXBwZW5kKCByZWFkb3V0TGVmdCApO1xyXG5cdFx0XHRcdHNsaWRlckNvbnRhaW5lci5hcHBlbmQoIHNlbGVjdEhhbmRsZSApO1xyXG5cclxuXHRcdFx0XHR0aGlzLmZpbHRlclZhbHVlVXBwZXIgPSBtYXhWYWx1ZTtcclxuXHRcdFx0XHR0aGlzLmZpbHRlclZhbHVlTG93ZXIgPSBtYXhWYWx1ZTtcclxuXHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0dGhpcy5tb2RlID0gdGhpcy5NT0RFX1JBTkdFO1xyXG5cdFx0XHRcdHNsaWRlcm9wdGlvbnMucmFuZ2UgPSB0cnVlO1xyXG5cdFx0XHRcdHNsaWRlcm9wdGlvbnMudmFsdWVzID0gWyBtaW5WYWx1ZSwgbWF4VmFsdWUgXTtcclxuXHJcblx0XHRcdFx0cmVhZG91dExlZnQudGV4dCggbWluVmFsdWUgKTtcclxuXHRcdFx0XHRsb3dlckhhbmRsZS5hcHBlbmQoIHJlYWRvdXRMZWZ0ICk7XHJcblxyXG5cdFx0XHRcdHJlYWRvdXRSaWdodC50ZXh0KCBtYXhWYWx1ZSApO1xyXG5cdFx0XHRcdHVwcGVySGFuZGxlLmFwcGVuZCggcmVhZG91dFJpZ2h0ICk7XHJcblxyXG5cdFx0XHRcdHNsaWRlckNvbnRhaW5lci5hcHBlbmQoIGxvd2VySGFuZGxlICkuYXBwZW5kKCB1cHBlckhhbmRsZSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmaWx0ZXJjb250cm9scy5hcHBlbmQoIHRhYmxlICk7XHJcblxyXG5cdFx0dGFibGVcclxuXHRcdC5maW5kKCAnLmZpbHRlcmVkLW51bWJlci1zbGlkZXItY2VsbCcgKVxyXG5cdFx0LmFwcGVuZCggc2xpZGVyQ29udGFpbmVyICk7XHJcblxyXG5cdFx0bGV0IHRoYXQ6IE51bWJlckZpbHRlciA9IHRoaXM7XHJcblxyXG5cdFx0bXcubG9hZGVyLnVzaW5nKCAnanF1ZXJ5LnVpLnNsaWRlcicgKS50aGVuKCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHNsaWRlckNvbnRhaW5lci5zbGlkZXIoIHNsaWRlcm9wdGlvbnMgKVxyXG5cdFx0XHQub24oICdzbGlkZWNoYW5nZScsIHVuZGVmaW5lZCwgeyAnZmlsdGVyJzogdGhhdCB9LCBmdW5jdGlvbiAoIGV2ZW50T2JqZWN0OiBKUXVlcnlFdmVudE9iamVjdCwgdWk6IGFueSApIHtcclxuXHRcdFx0XHRldmVudE9iamVjdC5kYXRhLnVpID0gdWk7XHJcblx0XHRcdFx0ZXZlbnRPYmplY3QuZGF0YS5maWx0ZXIub25GaWx0ZXJVcGRhdGVkKCBldmVudE9iamVjdCApO1xyXG5cdFx0XHR9IClcclxuXHRcdFx0Lm9uKCAnc2xpZGUnLCB1bmRlZmluZWQsIHsgJ2ZpbHRlcic6IHRoYXQgfSwgZnVuY3Rpb24gKCBldmVudE9iamVjdDogSlF1ZXJ5RXZlbnRPYmplY3QsIHVpOiB7IGhhbmRsZTogSFRNTEVsZW1lbnQ7IHZhbHVlOiBudW1iZXIgfSApIHtcclxuXHRcdFx0XHR1aS5oYW5kbGUuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MID0gdWkudmFsdWUudG9TdHJpbmcoKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fSApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRSYW5nZSgpOiBbIG51bWJlciwgbnVtYmVyIF0ge1xyXG5cclxuXHRcdGxldCByb3dzID0gdGhpcy5jb250cm9sbGVyLmdldERhdGEoKTtcclxuXHRcdGxldCBtaW4gPSBJbmZpbml0eTtcclxuXHRcdGxldCBtYXggPSAtSW5maW5pdHk7XHJcblxyXG5cdFx0Zm9yICggbGV0IHJvd0lkIGluIHJvd3MgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHJvd3NbIHJvd0lkIF0uZGF0YS5oYXNPd25Qcm9wZXJ0eSggdGhpcy5maWx0ZXJJZCApICkge1xyXG5cdFx0XHRcdGxldCB2YWx1ZXM6IG51bWJlcltdID0gcm93c1sgcm93SWQgXS5kYXRhWyB0aGlzLmZpbHRlcklkIF0udmFsdWVzO1xyXG5cdFx0XHRcdG1pbiA9IE1hdGgubWluKCBtaW4sIC4uLnZhbHVlcyApO1xyXG5cdFx0XHRcdG1heCA9IE1hdGgubWF4KCBtYXgsIC4uLnZhbHVlcyApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFsgbWluLCBtYXggXTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBvbkZpbHRlclVwZGF0ZWQoIGV2ZW50T2JqZWN0OiBKUXVlcnlFdmVudE9iamVjdCApIHtcclxuXHRcdHN3aXRjaCAoIHRoaXMubW9kZSApIHtcclxuXHRcdFx0Y2FzZSB0aGlzLk1PREVfUkFOR0U6XHJcblx0XHRcdFx0dGhpcy5maWx0ZXJWYWx1ZUxvd2VyID0gZXZlbnRPYmplY3QuZGF0YS51aS52YWx1ZXNbIDAgXTtcclxuXHRcdFx0XHR0aGlzLmZpbHRlclZhbHVlVXBwZXIgPSBldmVudE9iamVjdC5kYXRhLnVpLnZhbHVlc1sgMSBdO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIHRoaXMuTU9ERV9NSU46XHJcblx0XHRcdFx0dGhpcy5maWx0ZXJWYWx1ZUxvd2VyID0gZXZlbnRPYmplY3QuZGF0YS51aS52YWx1ZTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSB0aGlzLk1PREVfTUFYOlxyXG5cdFx0XHRcdHRoaXMuZmlsdGVyVmFsdWVVcHBlciA9IGV2ZW50T2JqZWN0LmRhdGEudWkudmFsdWU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgdGhpcy5NT0RFX1NFTEVDVDpcclxuXHRcdFx0XHR0aGlzLmZpbHRlclZhbHVlTG93ZXIgPSBldmVudE9iamVjdC5kYXRhLnVpLnZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZmlsdGVyVmFsdWVVcHBlciA9IGV2ZW50T2JqZWN0LmRhdGEudWkudmFsdWU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0XHR0aGlzLmNvbnRyb2xsZXIub25GaWx0ZXJVcGRhdGVkKCB0aGlzLmdldElkKCkgKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBpc1Zpc2libGUoIHJvd0lkOiBzdHJpbmcgKTogYm9vbGVhbiB7XHJcblx0XHRsZXQgcm93ZGF0YSA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKClbIHJvd0lkIF0uZGF0YTtcclxuXHJcblx0XHRpZiAoIHJvd2RhdGEuaGFzT3duUHJvcGVydHkoIHRoaXMuZmlsdGVySWQgKSApIHtcclxuXHJcblx0XHRcdGZvciAoIGxldCB2YWx1ZSBvZiByb3dkYXRhWyB0aGlzLmZpbHRlcklkIF0udmFsdWVzICkge1xyXG5cdFx0XHRcdGlmICggdmFsdWUgPj0gdGhpcy5maWx0ZXJWYWx1ZUxvd2VyICYmIHZhbHVlIDw9IHRoaXMuZmlsdGVyVmFsdWVVcHBlciApIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL0ZpbHRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZhbHVlRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcclxuXHJcblx0cHJpdmF0ZSB2YWx1ZXM6IGFueSA9IHt9O1xyXG5cdHByaXZhdGUgdmlzaWJsZVZhbHVlczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0cHJpdmF0ZSBfdXNlT3IgPSB0cnVlO1xyXG5cclxuXHRwdWJsaWMgaW5pdCgpIHtcclxuXHRcdHRoaXMudmFsdWVzID0gdGhpcy5nZXRTb3J0ZWRWYWx1ZXMoKTtcclxuXHRcdHRoaXMuYnVpbGRDb250cm9sKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgdXNlT3IoIHVzZU9yOiBib29sZWFuICkge1xyXG5cdFx0dGhpcy5fdXNlT3IgPSB1c2VPcjtcclxuXHRcdHRoaXMuY29udHJvbGxlci5vbkZpbHRlclVwZGF0ZWQoIHRoaXMuZ2V0SWQoKSApO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRTb3J0ZWRWYWx1ZXMoKTogYW55IHtcclxuXHJcblx0XHQvKiogTWFwIG9mIHZhbHVlID0+IGxhYmVsIGRpc3RpbmN0IHZhbHVlcyAqL1xyXG5cdFx0bGV0IGRpc3RpbmN0VmFsdWVzOiBhbnkgPSB7fTtcclxuXHRcdC8qKiBNYXAgb2YgdmFsdWUgPT4gc29ydCB2YWx1ZSBkaXN0aW5jdCB2YWx1ZXMgKi9cclxuXHRcdGxldCBkaXN0aW5jdFNvcnRWYWx1ZXM6IGFueSA9IHt9O1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCAndmFsdWVzJyApICkge1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uc1sgJ3ZhbHVlcycgXS5tYXAoXHJcblx0XHRcdFx0KCBpdGVtOiBzdHJpbmcgKSA9PiB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRwcmludG91dFZhbHVlOiBpdGVtLFxyXG5cdFx0XHRcdFx0XHRmb3JtYXR0ZWRWYWx1ZTogaXRlbVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gYnVpbGQgZmlsdGVyIHZhbHVlcyBmcm9tIGF2YWlsYWJsZSB2YWx1ZXMgaW4gcmVzdWx0IHNldFxyXG5cdFx0XHRsZXQgZGF0YSA9IHRoaXMuY29udHJvbGxlci5nZXREYXRhKCk7XHJcblx0XHRcdGxldCBzb3J0ZWRFbnRyaWVzOiBhbnlbXSA9IFtdO1xyXG5cdFx0XHRmb3IgKCBsZXQgaWQgaW4gZGF0YSApIHtcclxuXHJcblx0XHRcdFx0bGV0IHByaW50b3V0VmFsdWVzOiBhbnkgPSBkYXRhWyBpZCBdWyAncHJpbnRvdXRzJyBdWyB0aGlzLnByaW50cmVxdWVzdElkIF1bICd2YWx1ZXMnIF07XHJcblx0XHRcdFx0bGV0IHByaW50b3V0Rm9ybWF0dGVkVmFsdWVzID0gZGF0YVsgaWQgXVsgJ3ByaW50b3V0cycgXVsgdGhpcy5wcmludHJlcXVlc3RJZCBdWyAnZm9ybWF0dGVkIHZhbHVlcycgXTtcclxuXHRcdFx0XHRsZXQgcHJpbnRvdXRTb3J0VmFsdWVzOiBhbnkgPSBkYXRhWyBpZCBdWyAncHJpbnRvdXRzJyBdWyB0aGlzLnByaW50cmVxdWVzdElkIF1bICdzb3J0IHZhbHVlcycgXTtcclxuXHJcblx0XHRcdFx0Zm9yICggbGV0IGkgaW4gcHJpbnRvdXRWYWx1ZXMgKSB7XHJcblx0XHRcdFx0XHRsZXQgcHJpbnRvdXRGb3JtYXR0ZWRWYWx1ZSA9IHByaW50b3V0Rm9ybWF0dGVkVmFsdWVzWyBpIF07XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBwcmludG91dEZvcm1hdHRlZFZhbHVlLmluZGV4T2YoICc8YScgKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0XHRwcmludG91dEZvcm1hdHRlZFZhbHVlID0gLzxhLio+KC4qPyk8XFwvYT4vLmV4ZWMoIHByaW50b3V0Rm9ybWF0dGVkVmFsdWUgKVsgMSBdO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGRpc3RpbmN0VmFsdWVzWyBwcmludG91dFZhbHVlc1sgaSBdIF0gPSBwcmludG91dEZvcm1hdHRlZFZhbHVlO1xyXG5cdFx0XHRcdFx0ZGlzdGluY3RTb3J0VmFsdWVzWyBwcmludG91dFZhbHVlc1sgaSBdIF0gPSBwcmludG91dFNvcnRWYWx1ZXNbIGkgXTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmb3IgKCBsZXQgcHJpbnRvdXRWYWx1ZSBpbiBkaXN0aW5jdFNvcnRWYWx1ZXMgKSB7XHJcblx0XHRcdFx0c29ydGVkRW50cmllcy5wdXNoKHtcclxuXHRcdFx0XHRcdHByaW50b3V0VmFsdWU6IHByaW50b3V0VmFsdWUsXHJcblx0XHRcdFx0XHRzb3J0VmFsdWU6IGRpc3RpbmN0U29ydFZhbHVlc1sgcHJpbnRvdXRWYWx1ZSBdLFxyXG5cdFx0XHRcdFx0Zm9ybWF0dGVkVmFsdWU6IGRpc3RpbmN0VmFsdWVzWyBwcmludG91dFZhbHVlIF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c29ydGVkRW50cmllcy5zb3J0KFxyXG5cdFx0XHRcdCggYTogYW55LCBiOiBhbnkgKSA9PiB7XHJcblx0XHRcdFx0XHRyZXR1cm4gYS5zb3J0VmFsdWUubG9jYWxlQ29tcGFyZSggYi5zb3J0VmFsdWUgKTtcclxuXHRcdFx0XHR9ICk7XHJcblx0XHRcdHJldHVybiBzb3J0ZWRFbnRyaWVzO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGJ1aWxkQ29udHJvbCgpIHtcclxuXHJcblx0XHRsZXQgZmlsdGVyY29udHJvbHMgPSB0aGlzLnRhcmdldDtcclxuXHJcblx0XHQvLyBpbnNlcnQgdGhlIGxhYmVsIG9mIHRoZSBwcmludG91dCB0aGlzIGZpbHRlciBmaWx0ZXJzIG9uXHJcblx0XHRmaWx0ZXJjb250cm9scy5hcHBlbmQoICc8ZGl2IGNsYXNzPVwiZmlsdGVyZWQtdmFsdWUtbGFiZWxcIj48c3Bhbj4nICsgdGhpcy5vcHRpb25zWyAnbGFiZWwnIF0gKyAnPC9zcGFuPjwvZGl2PicgKTtcclxuXHJcblx0XHRmaWx0ZXJjb250cm9scyA9IHRoaXMuYWRkQ29udHJvbEZvckNvbGxhcHNpbmcoIGZpbHRlcmNvbnRyb2xzICk7XHJcblx0XHR0aGlzLmFkZENvbnRyb2xGb3JTd2l0Y2hlcyggZmlsdGVyY29udHJvbHMgKTtcclxuXHJcblx0XHRsZXQgaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KCAnaGVpZ2h0JyApID8gdGhpcy5vcHRpb25zWyAnaGVpZ2h0JyBdIDogdW5kZWZpbmVkO1xyXG5cdFx0aWYgKCBoZWlnaHQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0ZmlsdGVyY29udHJvbHMgPSAkKCAnPGRpdiBjbGFzcz1cImZpbHRlcmVkLXZhbHVlLXNjcm9sbGFibGVcIj4nIClcclxuXHRcdFx0LmFwcGVuZFRvKCBmaWx0ZXJjb250cm9scyApO1xyXG5cclxuXHRcdFx0ZmlsdGVyY29udHJvbHMuaGVpZ2h0KCBoZWlnaHQgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpbnNlcnQgb3B0aW9ucyAoY2hlY2tib3hlcyBhbmQgbGFiZWxzKSBhbmQgYXR0YWNoIGV2ZW50IGhhbmRsZXJzXHJcblx0XHRmb3IgKCBsZXQgdmFsdWUgb2YgdGhpcy52YWx1ZXMgKSB7XHJcblx0XHRcdGxldCBvcHRpb24gPSAkKCAnPGRpdiBjbGFzcz1cImZpbHRlcmVkLXZhbHVlLW9wdGlvblwiPicgKTtcclxuXHJcblx0XHRcdGxldCBjaGVja2JveCA9ICQoICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJmaWx0ZXJlZC12YWx1ZS12YWx1ZVwiIHZhbHVlPVwiJyArIHZhbHVlLnByaW50b3V0VmFsdWUgKyAnXCIgID4nICk7XHJcblxyXG5cdFx0XHQvLyBhdHRhY2ggZXZlbnQgaGFuZGxlclxyXG5cdFx0XHRjaGVja2JveFxyXG5cdFx0XHQub24oICdjaGFuZ2UnLCB1bmRlZmluZWQsIHsgJ2ZpbHRlcic6IHRoaXMgfSwgZnVuY3Rpb24gKCBldmVudE9iamVjdDogSlF1ZXJ5RXZlbnRPYmplY3QgKSB7XHJcblx0XHRcdFx0ZXZlbnRPYmplY3QuZGF0YS5maWx0ZXIub25GaWx0ZXJVcGRhdGVkKCBldmVudE9iamVjdCApO1xyXG5cdFx0XHR9ICk7XHJcblxyXG5cdFx0XHQvLyBUcnkgdG8gZ2V0IGxhYmVsLCBpZiBub3QgZmFsbCBiYWNrIHRvIHZhbHVlIGlkXHJcblx0XHRcdGxldCBsYWJlbCA9IHZhbHVlLmZvcm1hdHRlZFZhbHVlIHx8IHZhbHVlLnByaW50b3V0VmFsdWU7IC8vdGhpcy52YWx1ZXNbIHZhbHVlIF0gfHwgdmFsdWU7XHJcblxyXG5cdFx0XHRvcHRpb24uYXBwZW5kKCBjaGVja2JveCApLmFwcGVuZCggbGFiZWwgKTtcclxuXHJcblx0XHRcdGZpbHRlcmNvbnRyb2xzLmFwcGVuZCggb3B0aW9uICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkQ29udHJvbEZvclN3aXRjaGVzKCBmaWx0ZXJjb250cm9sczogSlF1ZXJ5ICkge1xyXG5cdFx0Ly8gaW5zZXJ0IHN3aXRjaGVzXHJcblx0XHRsZXQgc3dpdGNoZXMgPSB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoICdzd2l0Y2hlcycgKSA/IHRoaXMub3B0aW9uc1sgJ3N3aXRjaGVzJyBdIDogdW5kZWZpbmVkO1xyXG5cdFx0aWYgKCBzd2l0Y2hlcyAhPT0gdW5kZWZpbmVkICYmIHN3aXRjaGVzLmxlbmd0aCA+IDAgKSB7XHJcblxyXG5cdFx0XHRsZXQgc3dpdGNoQ29udHJvbHMgPSAkKCAnPGRpdiBjbGFzcz1cImZpbHRlcmVkLXZhbHVlLXN3aXRjaGVzXCI+JyApO1xyXG5cclxuXHRcdFx0aWYgKCAkLmluQXJyYXkoICdhbmQgb3InLCBzd2l0Y2hlcyApID49IDAgKSB7XHJcblxyXG5cdFx0XHRcdGxldCBhbmRvckNvbnRyb2wgPSAkKCAnPGRpdiBjbGFzcz1cImZpbHRlcmVkLXZhbHVlLWFuZG9yXCI+JyApO1xyXG5cclxuXHRcdFx0XHRsZXQgYW5kQ29udHJvbCA9ICQoICc8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImZpbHRlcmVkLXZhbHVlLWFuZCAnICtcclxuXHRcdFx0XHRcdHRoaXMucHJpbnRyZXF1ZXN0SWQgKyAnXCIgIGNsYXNzPVwiZmlsdGVyZWQtdmFsdWUtYW5kICcgKyB0aGlzLnByaW50cmVxdWVzdElkICsgJ1wiIHZhbHVlPVwiYW5kXCI+JyApO1xyXG5cclxuXHRcdFx0XHRsZXQgb3JDb250cm9sID0gJCggJzxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZmlsdGVyZWQtdmFsdWUtb3IgJyArXHJcblx0XHRcdFx0XHR0aGlzLnByaW50cmVxdWVzdElkICsgJ1wiICBjbGFzcz1cImZpbHRlcmVkLXZhbHVlLW9yICcgKyB0aGlzLnByaW50cmVxdWVzdElkICsgJ1wiIHZhbHVlPVwib3JcIiBjaGVja2VkPicgKTtcclxuXHJcblx0XHRcdFx0YW5kQ29udHJvbFxyXG5cdFx0XHRcdC5hZGQoIG9yQ29udHJvbCApXHJcblx0XHRcdFx0Lm9uKCAnY2hhbmdlJywgdW5kZWZpbmVkLCB7ICdmaWx0ZXInOiB0aGlzIH0sIGZ1bmN0aW9uICggZXZlbnRPYmplY3Q6IEpRdWVyeUV2ZW50T2JqZWN0ICkge1xyXG5cdFx0XHRcdFx0ZXZlbnRPYmplY3QuZGF0YS5maWx0ZXIudXNlT3IoIG9yQ29udHJvbC5pcyggJzpjaGVja2VkJyApICk7XHJcblx0XHRcdFx0fSApO1xyXG5cclxuXHRcdFx0XHRhbmRvckNvbnRyb2xcclxuXHRcdFx0XHQuYXBwZW5kKCBvckNvbnRyb2wgKVxyXG5cdFx0XHRcdC5hcHBlbmQoICcgT1IgJyApXHJcblx0XHRcdFx0LmFwcGVuZCggYW5kQ29udHJvbCApXHJcblx0XHRcdFx0LmFwcGVuZCggJyBBTkQgJyApXHJcblx0XHRcdFx0LmFwcGVuZFRvKCBzd2l0Y2hDb250cm9scyApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZmlsdGVyY29udHJvbHMuYXBwZW5kKCBzd2l0Y2hDb250cm9scyApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGlzVmlzaWJsZSggcm93SWQ6IHN0cmluZyApOiBib29sZWFuIHtcclxuXHJcblx0XHRpZiAoIHRoaXMudmlzaWJsZVZhbHVlcy5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB2YWx1ZXMgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpWyByb3dJZCBdLnByaW50b3V0c1sgdGhpcy5wcmludHJlcXVlc3RJZCBdLnZhbHVlcztcclxuXHJcblx0XHRpZiAoIHRoaXMuX3VzZU9yICkge1xyXG5cdFx0XHRmb3IgKCBsZXQgZXhwZWN0ZWRWYWx1ZSBvZiB0aGlzLnZpc2libGVWYWx1ZXMgKSB7XHJcblx0XHRcdFx0aWYgKCB2YWx1ZXMuaW5kZXhPZiggZXhwZWN0ZWRWYWx1ZSApID49IDAgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Zm9yICggbGV0IGV4cGVjdGVkVmFsdWUgb2YgdGhpcy52aXNpYmxlVmFsdWVzICkge1xyXG5cdFx0XHRcdGlmICggdmFsdWVzLmluZGV4T2YoIGV4cGVjdGVkVmFsdWUgKSA8IDAgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIG9uRmlsdGVyVXBkYXRlZCggZXZlbnRPYmplY3Q6IEpRdWVyeUV2ZW50T2JqZWN0ICkge1xyXG5cdFx0bGV0IHRhcmdldCA9ICQoIGV2ZW50T2JqZWN0LnRhcmdldCApO1xyXG5cclxuXHRcdGxldCB2YWx1ZSA9IHRhcmdldC52YWwoKTtcclxuXHRcdGxldCBpbmRleCA9IHRoaXMudmlzaWJsZVZhbHVlcy5pbmRleE9mKCB2YWx1ZSApO1xyXG5cdFx0bGV0IGlzQ2hlY2tlZCA9IHRhcmdldC5pcyggJzpjaGVja2VkJyApO1xyXG5cclxuXHRcdGlmICggaXNDaGVja2VkICYmIGluZGV4ID09PSAtMSApIHtcclxuXHRcdFx0dGhpcy52aXNpYmxlVmFsdWVzLnB1c2goIHZhbHVlICk7XHJcblx0XHR9IGVsc2UgaWYgKCAhaXNDaGVja2VkICYmIGluZGV4ID49IDAgKSB7XHJcblx0XHRcdHRoaXMudmlzaWJsZVZhbHVlcy5zcGxpY2UoIGluZGV4LCAxICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jb250cm9sbGVyLm9uRmlsdGVyVXBkYXRlZCggdGhpcy5nZXRJZCgpICk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IE9wdGlvbnMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgVmlld1NlbGVjdG9yIH0gZnJvbSBcIi4vVmlld1NlbGVjdG9yXCI7XHJcbmltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi9WaWV3L1ZpZXdcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi9WaWV3L0xpc3RWaWV3XCI7XHJcbmltcG9ydCB7IFRhYmxlVmlldyB9IGZyb20gXCIuL1ZpZXcvVGFibGVWaWV3XCI7XHJcbmltcG9ydCB7IE1hcFZpZXcgfSBmcm9tIFwiLi9WaWV3L01hcFZpZXdcIjtcclxuaW1wb3J0IHsgQ2FsZW5kYXJWaWV3IH0gZnJvbSBcIi4vVmlldy9DYWxlbmRhclZpZXdcIjtcclxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyL0ZpbHRlclwiO1xyXG5pbXBvcnQgeyBWYWx1ZUZpbHRlciB9IGZyb20gXCIuL0ZpbHRlci9WYWx1ZUZpbHRlclwiO1xyXG5pbXBvcnQgeyBEaXN0YW5jZUZpbHRlciB9IGZyb20gXCIuL0ZpbHRlci9EaXN0YW5jZUZpbHRlclwiO1xyXG5pbXBvcnQgeyBOdW1iZXJGaWx0ZXIgfSBmcm9tIFwiLi9GaWx0ZXIvTnVtYmVyRmlsdGVyXCI7XHJcblxyXG4vKipcclxuICogQ2VudHJhbCBGaWx0ZXJlZCBjbGFzc1xyXG4gKlxyXG4gKiBGYWN0b3J5IHRvIHNldHVwIGV2ZXJ5aHRpbmcgZWxzZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEZpbHRlcmVkIHtcclxuXHJcblx0cHJpdmF0ZSBjb25maWc6IGFueTtcclxuXHRwcml2YXRlIHRhcmdldDogSlF1ZXJ5O1xyXG5cclxuXHRwcml2YXRlIHZpZXdUeXBlczogeyBba2V5OiBzdHJpbmddOiBuZXcoIGlkOiBzdHJpbmcsIHRhcmdldDogSlF1ZXJ5LCBjb250cm9sbGVyOiBDb250cm9sbGVyLCBvcHRpb25zPzogYW55ICkgPT4gVmlldyB9ID0ge1xyXG5cdFx0dGFibGU6IFRhYmxlVmlldyxcclxuXHRcdGxpc3Q6IExpc3RWaWV3LFxyXG5cdFx0bWFwOiBNYXBWaWV3LFxyXG5cdFx0Y2FsZW5kYXI6IENhbGVuZGFyVmlld1xyXG5cdH07XHJcblxyXG5cdHByaXZhdGUgZmlsdGVyVHlwZXM6IHsgW2tleTogc3RyaW5nXTogbmV3KCBpZDogc3RyaW5nLCB0YXJnZXQ6IEpRdWVyeSwgcHJpbnRyZXF1ZXN0SWQ6IHN0cmluZywgY29udHJvbGxlcjogQ29udHJvbGxlciwgb3B0aW9ucz86IE9wdGlvbnMgKSA9PiBGaWx0ZXIgfSA9IHtcclxuXHRcdHZhbHVlOiBWYWx1ZUZpbHRlcixcclxuXHRcdGRpc3RhbmNlOiBEaXN0YW5jZUZpbHRlcixcclxuXHRcdG51bWJlcjogTnVtYmVyRmlsdGVyXHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gdGFyZ2V0XHJcblx0ICogQHBhcmFtIGNvbmZpZ1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvciggdGFyZ2V0OiBKUXVlcnksIGNvbmZpZzogYW55ICkge1xyXG5cdFx0dGhpcy5jb25maWcgPSBjb25maWc7XHJcblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0cHVibGljIHJ1bigpIHtcclxuXHRcdHRoaXMuc2hvd1N0YXJ0dXBNZXNzYWdlKCk7XHJcblx0XHR0aGlzLnN0YXJ0RGVmZXJyZWQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzaG93U3RhcnR1cE1lc3NhZ2UoKSB7XHJcblx0XHQvLyB0aGlzLnRhcmdldC50ZXh0KCBcIkxvYWRpbmcuLi5cIiApO1xyXG5cdFx0Ly8gVE9ETzogVXNlIHNwaW5uZXIgZnJvbSBzcmYudXRpbFxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXJ0RGVmZXJyZWQoKSB7XHJcblx0XHRzZXRUaW1lb3V0KCB0aGlzLnN0YXJ0KCksIDAgKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhcnQoKSB7XHJcblx0XHRsZXQgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCB0aGlzLnRhcmdldCwgdGhpcy5jb25maWcuZGF0YSApO1xyXG5cclxuXHRcdHRoaXMuYXR0YWNoRmlsdGVycyggY29udHJvbGxlciwgdGhpcy50YXJnZXQuZmluZCggJ2Rpdi5maWx0ZXJlZC1maWx0ZXJzJyApICk7XHJcblx0XHR0aGlzLmF0dGFjaFZpZXdTZWxlY3RvciggY29udHJvbGxlciwgdGhpcy50YXJnZXQuZmluZCggJ2Rpdi5maWx0ZXJlZC12aWV3cy1zZWxlY3RvcnMtY29udGFpbmVyJyApICk7XHJcblx0XHR0aGlzLmF0dGFjaFZpZXdzKCBjb250cm9sbGVyLCB0aGlzLnRhcmdldC5maW5kKCAnZGl2LmZpbHRlcmVkLXZpZXdzLWNvbnRhaW5lcicgKSApO1xyXG5cclxuXHRcdC8vIGxpZnQtb2ZmXHJcblx0XHRjb250cm9sbGVyLnNob3coKTtcclxuXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGF0dGFjaEZpbHRlcnMoIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsIGZpbHRlcnNDb250YWluZXI6IEpRdWVyeSApIHtcclxuXHJcblx0XHRmb3IgKCBsZXQgcHJJZCBpbiB0aGlzLmNvbmZpZy5wcmludHJlcXVlc3RzICkge1xyXG5cclxuXHRcdFx0bGV0IHByID0gdGhpcy5jb25maWcucHJpbnRyZXF1ZXN0c1sgcHJJZCBdO1xyXG5cclxuXHRcdFx0aWYgKCBwci5oYXNPd25Qcm9wZXJ0eSggJ2ZpbHRlcnMnICkgKSB7XHJcblxyXG5cdFx0XHRcdGZvciAoIGxldCBmaWx0ZXJpZCBpbiBwci5maWx0ZXJzICkge1xyXG5cclxuXHRcdFx0XHRcdGlmICggcHIuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggZmlsdGVyaWQgKSAmJlxyXG5cdFx0XHRcdFx0XHRwci5maWx0ZXJzWyBmaWx0ZXJpZCBdLmhhc093blByb3BlcnR5KCAndHlwZScgKSAmJlxyXG5cdFx0XHRcdFx0XHR0aGlzLmZpbHRlclR5cGVzLmhhc093blByb3BlcnR5KCBwci5maWx0ZXJzWyBmaWx0ZXJpZCBdLnR5cGUgKSApIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vICB0YXJnZXQ6IEpRdWVyeSwgcHJpbnRyZXF1ZXN0OiBzdHJpbmcsXHJcblx0XHRcdFx0XHRcdC8vIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsIG9wdGlvbnM/OiBPcHRpb25zXHJcblx0XHRcdFx0XHRcdGxldCBmaWx0ZXI6IEZpbHRlciA9IG5ldyB0aGlzLmZpbHRlclR5cGVzWyBwci5maWx0ZXJzWyBmaWx0ZXJpZCBdLnR5cGUgXSggZmlsdGVyaWQsIGZpbHRlcnNDb250YWluZXIuY2hpbGRyZW4oICcjJyArIGZpbHRlcmlkICksIHBySWQsIGNvbnRyb2xsZXIsIHByLmZpbHRlcnNbIGZpbHRlcmlkIF0gKTtcclxuXHRcdFx0XHRcdFx0ZmlsdGVyLmluaXQoKTtcclxuXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXIuYXR0YWNoRmlsdGVyKCBmaWx0ZXIgKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhdHRhY2hWaWV3U2VsZWN0b3IoIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsIHZpZXdTZWxlY3RvckNvbnRhaW5lcjogSlF1ZXJ5ICkge1xyXG5cdFx0bGV0IHZpZXdTZWxlY3RvciA9IG5ldyBWaWV3U2VsZWN0b3IoIHZpZXdTZWxlY3RvckNvbnRhaW5lciwgT2JqZWN0LmtleXMoIHRoaXMuY29uZmlnLnZpZXdzICksIGNvbnRyb2xsZXIgKTtcclxuXHRcdHZpZXdTZWxlY3Rvci5pbml0KCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGF0dGFjaFZpZXdzKCBjb250cm9sbGVyOiBDb250cm9sbGVyLCB2aWV3c0NvbnRhaW5lcjogSlF1ZXJ5ICkge1xyXG5cclxuXHRcdC8vIGF0dGFjaCB2aWV3c1xyXG5cdFx0Zm9yICggbGV0IHZpZXdpZCBpbiB0aGlzLmNvbmZpZy52aWV3cyApIHtcclxuXHJcblx0XHRcdGxldCB2aWV3dHlwZSA9IHRoaXMuY29uZmlnLnZpZXdzWyB2aWV3aWQgXVsgJ3R5cGUnIF07XHJcblx0XHRcdGxldCB2aWV3SGFuZGxlckNsYXNzID0gdGhpcy52aWV3VHlwZXMuaGFzT3duUHJvcGVydHkoIHZpZXd0eXBlICkgPyB0aGlzLnZpZXdUeXBlc1sgdmlld3R5cGUgXSA6IFZpZXc7XHJcblxyXG5cdFx0XHRsZXQgdmlldzogVmlldyA9IG5ldyB2aWV3SGFuZGxlckNsYXNzKCB2aWV3aWQsIHZpZXdzQ29udGFpbmVyLmNoaWxkcmVuKCAnIycgKyB2aWV3aWQgKSwgY29udHJvbGxlciwgdGhpcy5jb25maWcudmlld3NbIHZpZXdpZCBdICk7XHJcblxyXG5cdFx0XHR2aWV3LmluaXQoKTtcclxuXHJcblx0XHRcdGNvbnRyb2xsZXIuYXR0YWNoVmlldyggdmlld2lkLCB2aWV3ICk7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xyXG5leHBvcnQgY2xhc3MgVmlld1NlbGVjdG9yIHtcclxuXHJcblx0cHJpdmF0ZSB0YXJnZXQ6IEpRdWVyeSA9IHVuZGVmaW5lZDtcclxuXHRwcml2YXRlIHZpZXdJRHM6IHN0cmluZ1tdID0gdW5kZWZpbmVkO1xyXG5cclxuXHRwcml2YXRlIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvciggdGFyZ2V0OiBKUXVlcnksIHZpZXdJRHM6IHN0cmluZ1tdLCBjb250cm9sbGVyOiBDb250cm9sbGVyICkge1xyXG5cdFx0dGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcblx0XHR0aGlzLnZpZXdJRHMgPSB2aWV3SURzO1xyXG5cdFx0dGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBpbml0KCkge1xyXG5cdFx0aWYgKCB0aGlzLnZpZXdJRHMubGVuZ3RoID4gMSApIHtcclxuXHRcdFx0dGhpcy52aWV3SURzLmZvckVhY2goICggaWQ6IHN0cmluZykgPT4geyB0aGlzLnRhcmdldC5vbiggJ2NsaWNrJywgJy4nICsgaWQsIHsgJ3RhcmdldCc6IGlkLCAnY29udHJvbGxlcicgOiB0aGlzLmNvbnRyb2xsZXIgfSwgVmlld1NlbGVjdG9yLm9uU2VsZWN0b3JTZWxlY3RlZCApOyB9ICk7XHJcblx0XHRcdHRoaXMudGFyZ2V0LmNoaWxkcmVuKCkuZmlyc3QoKS5hZGRDbGFzcyggJ3NlbGVjdGVkJyk7XHJcblx0XHRcdHRoaXMudGFyZ2V0LnNob3coKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG9uU2VsZWN0b3JTZWxlY3RlZCggZXZlbnQ6IEpRdWVyeUV2ZW50T2JqZWN0ICkge1xyXG5cclxuXHRcdGV2ZW50LmRhdGEuY29udHJvbGxlci5vblZpZXdTZWxlY3RlZCggZXZlbnQuZGF0YS50YXJnZXQgKTtcclxuXHJcblx0XHQkKCBldmVudC50YXJnZXQgKVxyXG5cdFx0LmFkZENsYXNzKCAnc2VsZWN0ZWQnKVxyXG5cdFx0LnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoICdzZWxlY3RlZCcgKTtcclxuXHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0fVxyXG5cclxufSIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi9WaWV3XCI7XHJcbmRlY2xhcmUgbGV0IG13OiBhbnk7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FsZW5kYXJWaWV3IGV4dGVuZHMgVmlldyB7XHJcblxyXG5cdHByaXZhdGUgZ2V0STE4TigpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG1vbnRoTmFtZXM6IFsgbXcubXNnKCAnamFudWFyeScgKSwgbXcubXNnKCAnZmVicnVhcnknICksIG13Lm1zZyggJ21hcmNoJyApLFxyXG5cdFx0XHRcdG13Lm1zZyggJ2FwcmlsJyApLCBtdy5tc2coICdtYXlfbG9uZycgKSwgbXcubXNnKCAnanVuZScgKSxcclxuXHRcdFx0XHRtdy5tc2coICdqdWx5JyApLCBtdy5tc2coICdhdWd1c3QnICksIG13Lm1zZyggJ3NlcHRlbWJlcicgKSxcclxuXHRcdFx0XHRtdy5tc2coICdvY3RvYmVyJyApLCBtdy5tc2coICdub3ZlbWJlcicgKSwgbXcubXNnKCAnZGVjZW1iZXInIClcclxuXHRcdFx0XSxcclxuXHRcdFx0bW9udGhOYW1lc1Nob3J0OiBbIG13Lm1zZyggJ2phbicgKSwgbXcubXNnKCAnZmViJyApLCBtdy5tc2coICdtYXInICksXHJcblx0XHRcdFx0bXcubXNnKCAnYXByJyApLCBtdy5tc2coICdtYXknICksIG13Lm1zZyggJ2p1bicgKSxcclxuXHRcdFx0XHRtdy5tc2coICdqdWwnICksIG13Lm1zZyggJ2F1ZycgKSwgbXcubXNnKCAnc2VwJyApLFxyXG5cdFx0XHRcdG13Lm1zZyggJ29jdCcgKSwgbXcubXNnKCAnbm92JyApLCBtdy5tc2coICdkZWMnIClcclxuXHRcdFx0XSxcclxuXHRcdFx0ZGF5TmFtZXM6IFsgbXcubXNnKCAnc3VuZGF5JyApLCBtdy5tc2coICdtb25kYXknICksIG13Lm1zZyggJ3R1ZXNkYXknICksXHJcblx0XHRcdFx0bXcubXNnKCAnd2VkbmVzZGF5JyApLCBtdy5tc2coICd0aHVyc2RheScgKSwgbXcubXNnKCAnZnJpZGF5JyApLCBtdy5tc2coICdzYXR1cmRheScgKVxyXG5cdFx0XHRdLFxyXG5cdFx0XHRkYXlOYW1lc1Nob3J0OiBbIG13Lm1zZyggJ3N1bicgKSwgbXcubXNnKCAnbW9uJyApLCBtdy5tc2coICd0dWUnICksXHJcblx0XHRcdFx0bXcubXNnKCAnd2VkJyApLCBtdy5tc2coICd0aHUnICksIG13Lm1zZyggJ2ZyaScgKSwgbXcubXNnKCAnc2F0JyApXHJcblx0XHRcdF0sXHJcblx0XHRcdGJ1dHRvblRleHQ6IHtcclxuXHRcdFx0XHR0b2RheTogbXcubXNnKCAnc3JmLXVpLWV2ZW50Y2FsZW5kYXItbGFiZWwtdG9kYXknICksXHJcblx0XHRcdFx0bW9udGg6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWxhYmVsLW1vbnRoJyApLFxyXG5cdFx0XHRcdHdlZWs6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWxhYmVsLXdlZWsnICksXHJcblx0XHRcdFx0ZGF5OiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1sYWJlbC1kYXknIClcclxuXHRcdFx0fVxyXG5cdFx0XHQsXHJcblx0XHRcdGFsbERheVRleHQ6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWxhYmVsLWFsbGRheScgKSxcclxuXHRcdFx0dGltZUZvcm1hdDoge1xyXG5cdFx0XHRcdCcnOiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1mb3JtYXQtdGltZScgKSxcclxuXHRcdFx0XHRhZ2VuZGE6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWZvcm1hdC10aW1lLWFnZW5kYScgKVxyXG5cdFx0XHR9XHJcblx0XHRcdCxcclxuXHRcdFx0YXhpc0Zvcm1hdDogbXcubXNnKCAnc3JmLXVpLWV2ZW50Y2FsZW5kYXItZm9ybWF0LWF4aXMnICksXHJcblx0XHRcdHRpdGxlRm9ybWF0OiB7XHJcblx0XHRcdFx0bW9udGg6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWZvcm1hdC10aXRsZS1tb250aCcgKSxcclxuXHRcdFx0XHR3ZWVrOiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1mb3JtYXQtdGl0bGUtd2VlaycgKSxcclxuXHRcdFx0XHRkYXk6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWZvcm1hdC10aXRsZS1kYXknIClcclxuXHRcdFx0fVxyXG5cdFx0XHQsXHJcblx0XHRcdGNvbHVtbkZvcm1hdDoge1xyXG5cdFx0XHRcdG1vbnRoOiBtdy5tc2coICdzcmYtdWktZXZlbnRjYWxlbmRhci1mb3JtYXQtY29sdW1uLW1vbnRoJyApLFxyXG5cdFx0XHRcdHdlZWs6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWZvcm1hdC1jb2x1bW4td2VlaycgKSxcclxuXHRcdFx0XHRkYXk6IG13Lm1zZyggJ3NyZi11aS1ldmVudGNhbGVuZGFyLWZvcm1hdC1jb2x1bW4tZGF5JyApXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaW5pdCgpIHtcclxuXHJcblx0XHRsZXQgX2kxOG4gPSB0aGlzLmdldEkxOE4oKTtcclxuXHJcblx0XHQvLyBpbml0aWFsaXplIHRoZSBjYWxlbmRhclxyXG5cdFx0dGhpcy50YXJnZXQuZnVsbENhbGVuZGFyKCB7XHJcblxyXG5cdFx0XHRmaXJzdERheTogdGhpcy5vcHRpb25zLmZpcnN0RGF5LFxyXG5cdFx0XHRpc1JUTDogdGhpcy5vcHRpb25zLmlzUlRMLFxyXG5cdFx0XHRtb250aE5hbWVzOiBfaTE4bi5tb250aE5hbWVzLFxyXG5cdFx0XHRtb250aE5hbWVzU2hvcnQ6IF9pMThuLm1vbnRoTmFtZXNTaG9ydCxcclxuXHRcdFx0ZGF5TmFtZXM6IF9pMThuLmRheU5hbWVzLFxyXG5cdFx0XHRkYXlOYW1lc1Nob3J0OiBfaTE4bi5kYXlOYW1lc1Nob3J0LFxyXG5cdFx0XHRidXR0b25UZXh0OiBfaTE4bi5idXR0b25UZXh0LFxyXG5cdFx0XHRhbGxEYXlUZXh0OiBfaTE4bi5hbGxEYXlUZXh0LFxyXG5cdFx0XHR0aW1lRm9ybWF0OiBfaTE4bi50aW1lRm9ybWF0LFxyXG5cdFx0XHR0aXRsZUZvcm1hdDogX2kxOG4udGl0bGVGb3JtYXQsXHJcblx0XHRcdGNvbHVtbkZvcm1hdDogX2kxOG4uY29sdW1uRm9ybWF0XHJcblx0XHR9ICk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEV2ZW50KCByb3dJZDogYW55LCByb3dEYXRhOiBhbnkgKSB7XHJcblxyXG5cdFx0bGV0IGV2ZW50ZGF0YTogYW55ID0ge1xyXG5cdFx0XHRpZDogcm93SWQsXHJcblx0XHRcdHRpdGxlOiByb3dEYXRhWyAndGl0bGUnIF0sXHJcblx0XHRcdHN0YXJ0OiByb3dEYXRhWyAnc3RhcnQnIF0sXHJcblx0XHRcdGNsYXNzTmFtZTogcm93SWRcclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKCByb3dEYXRhLmhhc093blByb3BlcnR5KCAnZW5kJyApICkge1xyXG5cdFx0XHRldmVudGRhdGFbICdlbmQnIF0gPSByb3dEYXRhWyAnZW5kJyBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggcm93RGF0YS5oYXNPd25Qcm9wZXJ0eSggJ3VybCcgKSApIHtcclxuXHRcdFx0ZXZlbnRkYXRhWyAndXJsJyBdID0gcm93RGF0YVsgJ3VybCcgXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZXZlbnRkYXRhO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNob3dSb3dzKCByb3dJZHM6IHN0cmluZ1tdICk6IGFueSB7XHJcblxyXG5cdFx0bGV0IGV2ZW50czogYW55W10gPSBbXTtcclxuXHJcblx0XHRyb3dJZHMuZm9yRWFjaCggKCByb3dJZDogc3RyaW5nICkgPT4ge1xyXG5cclxuXHRcdFx0bGV0IHJvd0RhdGEgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpWyByb3dJZCBdLmRhdGFbIHRoaXMuaWQgXTtcclxuXHJcblx0XHRcdGlmICggcm93RGF0YS5oYXNPd25Qcm9wZXJ0eSggJ3N0YXJ0JyApICkge1xyXG5cdFx0XHRcdGV2ZW50cy5wdXNoKCB0aGlzLmdldEV2ZW50KCByb3dJZCwgcm93RGF0YSApICk7XHJcblx0XHRcdH1cclxuXHRcdH0gKTtcclxuXHJcblx0XHR0aGlzLnRhcmdldC5mdWxsQ2FsZW5kYXIoICdhZGRFdmVudFNvdXJjZScsIGV2ZW50cyApO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGhpZGVSb3dzKCByb3dJZHM6IHN0cmluZ1tdICk6IGFueSB7XHJcblx0XHR0aGlzLnRhcmdldC5mdWxsQ2FsZW5kYXIoICdyZW1vdmVFdmVudHMnLCAoIGU6IGFueSApID0+ICggcm93SWRzLmluZGV4T2YoIGUuX2lkICkgPj0gMCApICk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2hvdygpOiBhbnkge1xyXG5cdFx0c3VwZXIuc2hvdygpO1xyXG5cdFx0dGhpcy50YXJnZXQuZnVsbENhbGVuZGFyKCAncmVuZGVyJyApO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGhpZGUoKTogYW55IHtcclxuXHRcdHJldHVybiBzdXBlci5oaWRlKCk7XHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vVmlld1wiO1xyXG5leHBvcnQgY2xhc3MgTGlzdFZpZXcgZXh0ZW5kcyBWaWV3IHt9XHJcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi9WaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFwVmlldyBleHRlbmRzIFZpZXcge1xyXG5cclxuXHRwcml2YXRlIG1hcDogTC5NYXAgPSB1bmRlZmluZWQ7XHJcblx0cHJpdmF0ZSBpY29uOiBMLkljb24gPSB1bmRlZmluZWQ7XHJcblx0cHJpdmF0ZSBtYXJrZXJzOiB7IFtrZXk6IHN0cmluZ106IEwuTWFya2VyW10gfSA9IHVuZGVmaW5lZDtcclxuXHRwcml2YXRlIG1hcmtlckNsdXN0ZXJHcm91cDogTC5NYXJrZXJDbHVzdGVyR3JvdXAgPSB1bmRlZmluZWQ7XHJcblx0cHJpdmF0ZSBib3VuZHM6IEwuTGF0TG5nQm91bmRzID0gdW5kZWZpbmVkO1xyXG5cdHByaXZhdGUgaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0cHVibGljIGluaXQoKSB7XHJcblxyXG5cdFx0bGV0IGRhdGEgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0RGF0YSgpO1xyXG5cdFx0bGV0IG1hcmtlcnM6IHsgW3Jvd0lkOiBzdHJpbmddOiBMLk1hcmtlcltdIH0gPSB7fTtcclxuXHRcdGxldCBib3VuZHM6IEwuTGF0TG5nQm91bmRzID0gdW5kZWZpbmVkO1xyXG5cclxuXHRcdGxldCBtYXJrZXJDbHVzdGVyR3JvdXA6IEwuTWFya2VyQ2x1c3Rlckdyb3VwID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoIHtcclxuXHRcdFx0YW5pbWF0ZUFkZGluZ01hcmtlcnM6IHRydWVcclxuXHRcdH0gKTtcclxuXHJcblx0XHRmb3IgKCBsZXQgcm93SWQgaW4gZGF0YSApIHtcclxuXHJcblx0XHRcdGxldCBwb3NpdGlvbnM6IEwuTGF0TG5nTGl0ZXJhbFtdID0gZGF0YVsgcm93SWQgXVsgJ2RhdGEnIF1bIHRoaXMuaWQgXVsgJ3Bvc2l0aW9ucycgXTtcclxuXHRcdFx0bWFya2Vyc1sgcm93SWQgXSA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICggbGV0IHBvcyBvZiBwb3NpdGlvbnMgKSB7XHJcblxyXG5cdFx0XHRcdGJvdW5kcyA9ICggYm91bmRzID09PSB1bmRlZmluZWQgKSA/IG5ldyBMLkxhdExuZ0JvdW5kcyggcG9zLCBwb3MgKSA6IGJvdW5kcy5leHRlbmQoIHBvcyApO1xyXG5cclxuXHRcdFx0XHRsZXQgbWFya2VyID0gdGhpcy5nZXRNYXJrZXIoIHBvcywgZGF0YVsgcm93SWQgXSApO1xyXG5cdFx0XHRcdG1hcmtlcnNbIHJvd0lkIF0ucHVzaCggbWFya2VyICk7XHJcblx0XHRcdFx0bWFya2VyQ2x1c3Rlckdyb3VwLmFkZExheWVyKCBtYXJrZXIgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMubWFya2VyQ2x1c3Rlckdyb3VwID0gbWFya2VyQ2x1c3Rlckdyb3VwO1xyXG5cdFx0dGhpcy5tYXJrZXJzID0gbWFya2VycztcclxuXHRcdHRoaXMuYm91bmRzID0gYm91bmRzO1xyXG5cclxuXHRcdHJldHVybiBzdXBlci5pbml0KCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEljb24oKSB7XHJcblx0XHRpZiAoIHRoaXMuaWNvbiA9PT0gdW5kZWZpbmVkICkge1xyXG5cclxuXHRcdFx0bGV0IGljb25QYXRoID0gdGhpcy5jb250cm9sbGVyLmdldFBhdGgoKSArICdjc3MvaW1hZ2VzLyc7XHJcblxyXG5cdFx0XHR0aGlzLmljb24gPSBuZXcgTC5JY29uKCB7XHJcblx0XHRcdFx0J2ljb25VcmwnOiBpY29uUGF0aCArICdtYXJrZXItaWNvbi5wbmcnLFxyXG5cdFx0XHRcdCdpY29uUmV0aW5hVXJsJzogaWNvblBhdGggKyAnbWFya2VyLWljb24tMngucG5nJyxcclxuXHRcdFx0XHQnc2hhZG93VXJsJzogaWNvblBhdGggKyAnbWFya2VyLXNoYWRvdy5wbmcnLFxyXG5cdFx0XHRcdCdpY29uU2l6ZSc6ICAgIFsyNSwgNDFdLFxyXG5cdFx0XHRcdCdpY29uQW5jaG9yJzogIFsxMiwgNDFdLFxyXG5cdFx0XHRcdCdwb3B1cEFuY2hvcic6IFsxLCAtMzRdLFxyXG5cdFx0XHRcdC8vICd0b29sdGlwQW5jaG9yJzogWzE2LCAtMjhdLFxyXG5cdFx0XHRcdCdzaGFkb3dTaXplJzogIFs0MSwgNDFdXHJcblx0XHRcdH0gKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5pY29uO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRNYXJrZXIoIGxhdExuZzogTC5MYXRMbmdFeHByZXNzaW9uLCByb3c6IGFueSApIHtcclxuXHRcdGxldCB0aXRsZSA9IHVuZGVmaW5lZDtcclxuXHRcdGxldCBwb3B1cCA9IFtdO1xyXG5cclxuXHRcdC8vIFRPRE86IFVzZSA8ZGl2PiBpbnN0ZWFkIG9mIDxiPiBhbmQgZG8gQ1NTIHN0eWxpbmdcclxuXHJcblx0XHRmb3IgKCBsZXQgcHJJZCBpbiByb3dbICdwcmludG91dHMnIF0gKSB7XHJcblxyXG5cdFx0XHRsZXQgcHJpbnRvdXRzID0gcm93WyAncHJpbnRvdXRzJyBdWyBwcklkIF07XHJcblxyXG5cdFx0XHRpZiAoIHRpdGxlID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0dGl0bGUgPSBwcmludG91dHNbICd2YWx1ZXMnIF0uam9pbiggJywgJyApO1xyXG5cdFx0XHRcdHBvcHVwLnB1c2goICc8Yj4nICsgcHJpbnRvdXRzWyAnZm9ybWF0dGVkIHZhbHVlcycgXS5qb2luKCAnLCAnICkgKyAnPC9iPicgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwb3B1cC5wdXNoKCAocHJpbnRvdXRzLmxhYmVsID8gJzxiPicgKyBwcmludG91dHMubGFiZWwgKyAnOjwvYj4gJyA6ICcnKSArIHByaW50b3V0c1sgJ2Zvcm1hdHRlZCB2YWx1ZXMnIF0uam9pbiggJywgJyApIClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBtYXJrZXIgPSBMLm1hcmtlciggbGF0TG5nLCB7IHRpdGxlOiB0aXRsZSwgYWx0OiB0aXRsZSB9ICk7XHJcblx0XHRtYXJrZXIuYmluZFBvcHVwKCBwb3B1cC5qb2luKCAnPGJyPicgKSApO1xyXG5cclxuXHRcdG1hcmtlci5zZXRJY29uKCB0aGlzLmdldEljb24oKSApO1xyXG5cdFx0cmV0dXJuIG1hcmtlcjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBsYXRlSW5pdCgpIHtcclxuXHJcblx0XHRpZiAoIHRoaXMuaW5pdGlhbGl6ZWQgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHJcblx0XHRsZXQgdGhhdCA9IHRoaXM7XHJcblx0XHQkKCAoKSA9PiB7IC8vIGFzIHNvb24gYXMgdGhlIGRvY3VtZW50IGlzIHJlYWR5XHJcblx0XHRcdHNldFRpbWVvdXQoICgpID0+IHsgLy8gbGV0IGV2ZXJ5Ym9keSBlbHNlIGRvIHRoZWlyIGpvYlxyXG5cdFx0XHRcdHRoYXQubWFwID0gTC5tYXAoIHRoYXQuZ2V0VGFyZ2V0RWxlbWVudCgpLmdldCggMCApIClcclxuXHRcdFx0XHQuYWRkTGF5ZXIoIEwudGlsZUxheWVyKCAnaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsIHtcclxuXHRcdFx0XHRcdGF0dHJpYnV0aW9uOiAnJ1xyXG5cdFx0XHRcdH0gKSApXHJcblx0XHRcdFx0LmFkZExheWVyKCB0aGF0Lm1hcmtlckNsdXN0ZXJHcm91cCApXHJcblx0XHRcdFx0LmZpdEJvdW5kcyggdGhhdC5ib3VuZHMgKVxyXG5cdFx0XHR9LCAwICk7XHJcblx0XHR9ICk7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIHNob3dSb3dzKCByb3dJZHM6IHN0cmluZ1tdICkge1xyXG5cdFx0bGV0IG1hcmtlcnM6IEwuTGF5ZXJbXVtdID0gcm93SWRzLm1hcCggKCByb3dJZDogc3RyaW5nICkgPT4gdGhpcy5tYXJrZXJzWyByb3dJZCBdICk7XHJcblx0XHR0aGlzLm1hcmtlckNsdXN0ZXJHcm91cC5hZGRMYXllcnMoIG1hcmtlcnMucmVkdWNlKCAoIHJlc3VsdDogTC5MYXllcltdLCBsYXllcnM6IEwuTGF5ZXJbXSApID0+IHJlc3VsdC5jb25jYXQoIGxheWVycyApICkgKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBoaWRlUm93cyggcm93SWRzOiBzdHJpbmdbXSApIHtcclxuXHRcdGxldCBtYXJrZXJzOiBMLkxheWVyW11bXSA9IHJvd0lkcy5tYXAoICggcm93SWQ6IHN0cmluZyApID0+IHRoaXMubWFya2Vyc1sgcm93SWQgXSApO1xyXG5cdFx0dGhpcy5tYXJrZXJDbHVzdGVyR3JvdXAucmVtb3ZlTGF5ZXJzKCBtYXJrZXJzLnJlZHVjZSggKCByZXN1bHQ6IEwuTGF5ZXJbXSwgbGF5ZXJzOiBMLkxheWVyW10gKSA9PiByZXN1bHQuY29uY2F0KCBsYXllcnMgKSApICk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2hvdygpIHtcclxuXHRcdHN1cGVyLnNob3coKTtcclxuXHRcdHRoaXMubGF0ZUluaXQoKTtcclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi9WaWV3XCI7XHJcbmV4cG9ydCBjbGFzcyBUYWJsZVZpZXcgZXh0ZW5kcyBWaWV3IHt9IiwiaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4uL0NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3IHtcclxuXHJcblx0cHJvdGVjdGVkIGlkOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblx0cHJvdGVjdGVkIHRhcmdldDogSlF1ZXJ5ID0gdW5kZWZpbmVkO1xyXG5cdHByb3RlY3RlZCBjb250cm9sbGVyOiBDb250cm9sbGVyID0gdW5kZWZpbmVkO1xyXG5cdHByb3RlY3RlZCBvcHRpb25zOiBPcHRpb25zID0gdW5kZWZpbmVkO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoIGlkOiBzdHJpbmcsIHRhcmdldDogSlF1ZXJ5LCBjOiBDb250cm9sbGVyLCBvcHRpb25zOiBPcHRpb25zID0ge30gKSB7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuXHRcdHRoaXMuY29udHJvbGxlciA9IGM7XHJcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGluaXQoKSB7fVxyXG5cclxuXHRwdWJsaWMgZ2V0VGFyZ2V0RWxlbWVudCgpOiBKUXVlcnkge1xyXG5cdFx0cmV0dXJuIHRoaXMudGFyZ2V0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNob3dSb3dzKCByb3dJZHM6IHN0cmluZ1tdICkge1xyXG5cdFx0cm93SWRzLmZvckVhY2goICggcm93SWQ6IHN0cmluZyApID0+IHtcclxuXHRcdFx0dGhpcy50YXJnZXQuZmluZCggJy4nICsgcm93SWQgKS5zbGlkZURvd24oIDQwMCApO1xyXG5cdFx0fSApO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGhpZGVSb3dzKCByb3dJZHM6IHN0cmluZ1tdICkge1xyXG5cdFx0cm93SWRzLmZvckVhY2goICggcm93SWQ6IHN0cmluZyApID0+IHtcclxuXHRcdFx0dGhpcy50YXJnZXQuZmluZCggJy4nICsgcm93SWQgKS5zbGlkZVVwKCA0MDAgKTtcclxuXHRcdH0gKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzaG93KCkge1xyXG5cdFx0dGhpcy50YXJnZXQuc2hvdygpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGhpZGUoKSB7XHJcblx0XHR0aGlzLnRhcmdldC5oaWRlKCk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IEZpbHRlcmVkIH0gZnJvbSBcIi4vRmlsdGVyZWQvRmlsdGVyZWRcIjtcclxuXHJcbmRlY2xhcmUgbGV0IG13OiBhbnk7XHJcbmxldCBjb25maWcgPSBtdy5jb25maWcuZ2V0KCAnc3JmRmlsdGVyZWRDb25maWcnICk7XHJcblxyXG5mb3IgKCBsZXQgaWQgaW4gY29uZmlnICkge1xyXG5cdGlmICggY29uZmlnLmhhc093blByb3BlcnR5KCBpZCApICkge1xyXG5cdFx0bGV0IGYgPSBuZXcgRmlsdGVyZWQoICQoICcjJyArIGlkICksIGNvbmZpZ1sgaWQgXSApO1xyXG5cdFx0Zi5ydW4oKTtcclxuXHR9XHJcbn0iXX0="}